{"/":{"title":"ğŸª´ ã‚ã‚„ã‚Hex","content":"\n## ã“ã‚Œã¯ãªã«ï¼Ÿ\n\nCTF ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª/çŸ¥è­˜é›†ã‚‰ã—ã„ã§ã™ã€‚ãªãœã‹ CTF ã‚ˆã‚Šç«¶ãƒ—ãƒ­ã‚„é›‘å­¦ã®æ–¹ãŒå¤šã„ã€‚ (ç¾åœ¨ã¯ LYT ã«è¿‘ã„æ€æƒ³ã§æ›¸ã„ã¦ã‚‹ã€‚)\n\nç«¶ãƒ—ãƒ­ã¯ãƒ©ã‚¤ãƒ–ãƒ©ãƒªåŒ–ã•ã‚ŒãŸã‚‚ã®ãŒã‚ˆãå‡ºå›ã£ã¦ã‚‹ã‘ã©ã€CTF ã®æ–¹ã¯ã»ã¨ã‚“ã©é–‰ã˜ãŸå ´æ‰€ã§ã—ã‹å…±æœ‰ã•ã‚Œã¦ãªã„ã‚ˆãªï½ã¨æ€ã£ãŸã®ã§ã‚ã‚“ã“(å°†æ¥çš„ã« traP ã® CTF ç­)ãŒ CTF ã«é–¢ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„ CTF ã«å¿…è¦ãªçŸ¥è­˜ã‚’ã¾ã¨ã‚ãŸã‚‚ã®ã§ã™ã€‚ç·¨é›†ã—ãŸã„æ–¹ã¯å¤§æ­“è¿ã§ã™ï¼æ°—è»½ã«ãƒ—ãƒ«ãƒªã‚¯æŠ•ã’ã¦ãã ã•ã„ï½\n\nèª¬æ˜ã‚’èª­ã‚ã°æ©Ÿèƒ½æœ€å°é™ã®åŒã˜ã‚‚ã®ã‚’è‡ªä½œã§ãã‚‹ã“ã¨ä»¥ä¸Šã€ç ”ç©¶çš„ãªéƒ¨åˆ†ã¯è‡ªåˆ†ãŒé¢ç™½ã„ã¨ã‹çŸ¥è­˜ãŒæ•´ç†ã•ã‚ŒãŸãªã¨ã‹æ€ãˆã°è¼‰ã›ã¾ã™ã€‚\n\nã“ã‚Œã‚‰ã¯ CC0 ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¨ã—ã¾ã™ã€‚è‡ªç”±ã«ã‚³ãƒ”ãƒšã—ã¦ OK ã§ã™ï¼\nTODO: ãƒ©ã‚¤ã‚»ãƒ³ã‚¹\n\n## ç«¶ãƒ—ãƒ­\n- [ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ](./Template.md)\n- Python\n- Rust\n\n## ãƒ‡ãƒ¼ã‚¿æ§‹é€ \n- [UnionFind](./DataStructure/UnionFind/UnionFind.md)\n\t- [ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ä»˜ãUnionFind](./DataStructure/UnionFind/PotentialUnionFind.md)\n\t- [æ°¸ç¶šUnionFind](./DataStructure/UnionFind/PersistUnionFind.md)\n- [BIT (Binary-Indexed-Tree) / Fenwick Tree](./DataStructure/BIT/BIT.md)\n- Sparse Table\n- [ã‚»ã‚°ãƒ¡ãƒ³ãƒˆæœ¨](./DataStructure/SegTree/SegTree.md)\n\t- [é…å»¶ã‚»ã‚°ãƒ¡ãƒ³ãƒˆæœ¨](./DataStructure/SegTree/LazySegTree.md)\n\t- [Segment Tree Beats](./DataStructure/SegTree/SegTreeBeats.md)\n- å¹³æ–¹åˆ†å‰², ãƒ‘ã‚±ãƒƒãƒˆæ³•\n- å¹³è¡¡äºŒåˆ†æ¢ç´¢æœ¨\n\t- èµ¤é»’æœ¨ RBST\n\t- AVLæœ¨\n\t- Splayæœ¨\n\t- Treap\n- Wavelet Matrix\n- Wavelet Tree\n- [slope trick](./DataStructure/SlopeTrick.md)\n- ã‚³ãƒ³ãƒ†ãƒŠ\n\t- List\n\t- Map\n\t- Set\n\t- Unorderd Map\n\t- Unordered Set\n\n## ã‚°ãƒ©ãƒ•\n- [ã‚°ãƒ©ãƒ•](./Graph/Graph.md)\n\t- [æœ€çŸ­çµŒè·¯å•é¡Œ](./Graph/ShortestPath/ShortestPath.md)\n\t\t- [å˜ä¸€å§‹ç‚¹æœ€çŸ­è·¯ $O(E\\log V)$ (Dijkstra)](./Graph/ShortestPath/Dijkstra.md)\n\t\t\t- k-æœ€çŸ­è·¯ $O(kE\\log V)$ (Dijkstra)\n\t\t- [å˜ä¸€å§‹ç‚¹æœ€çŸ­è·¯ $O(EV)$ (Bellman-Ford)](./Graph/ShortestPath/BellmanFord.md)\n\t\t\t- è² é–‰è·¯æ¤œå‡º $O(EV)$ (Bellman-Ford)\n\t\t- [å…¨ç‚¹å¯¾é–“æœ€çŸ­è·¯ $O(V^3)$ (Floyd Warshall)](./Graph/ShortestPath/FloydWarshall.md)\n\t\t- å…¨ç‚¹å¯¾é–“æœ€çŸ­è·¯ $O((V + E)V\\log V)$ (Johnson)\n\t- é–‰è·¯æ¤œå‡º\n\t- å…¨åŸŸæœ¨\n\t\t- æœ€å°å…¨åŸŸæ£® $O(E\\log V)$ (Prim)\n\t\t- æœ€å°å…¨åŸŸæ£® $O(E\\log V)$ (Kruskal)\n\t- [ãƒ•ãƒ­ãƒ¼](./Graph/Flow/Flow.md)\n\t\t- [æœ€å¤§æµ $O(V^2E)$ (Dinic)](./Graph/Flow/Dinic.md)\n\t\t- [æœ€å¤§æµ $O(E\\times\\mathrm{maxFlow})$ (Ford Fulkerson)](./Graph/Flow/FordFulkerson.md)\n\t\t- æœ€å°è²»ç”¨æµ\n\t\t- ç‡ƒã‚„ã™åŸ‹ã‚ã‚‹\n\t- [å¼·é€£çµæˆåˆ†åˆ†è§£](./Graph/SCC.md)\n\t- Dilworth ã®å®šç†\n\t- æœ€å¤§ã‚¯ãƒªãƒ¼ã‚¯\n\t- æœ€å¤§ç‹¬ç«‹é›†åˆ\n\t- Functional Graph\n\t- ãƒˆãƒãƒ­ã‚¸ã‚«ãƒ«ã‚½ãƒ¼ãƒˆ\n\t- 2-SAT\n- ãƒ„ãƒªãƒ¼\n\t- [æœ¨ã®ç›´å¾„](./graph/tree/diameter.md)\n\t- æœ¨ã®é‡å¿ƒ\n\t- é‡å¿ƒåˆ†è§£\n\t- HLåˆ†è§£\n\t- ã‚ªã‚¤ãƒ©ãƒ¼ãƒ„ã‚¢ãƒ¼\n\t- æœ€å°å…±é€šç¥–å…ˆ\n\n## ç®—æ•°\n- Bit Trick\n- æ•°è«–\n\t- [æ‹¡å¼µ Euclid ã®äº’é™¤æ³•](./Arithmetic/gcd.md)\n\t- [æ•°è«–çš„é–¢æ•°/é€²æ•°å¤‰æ›](./Arithmetic/ArithmeticalFunction.md)\n\t- ç´ æ•°\n\t\t- [ç´ å› æ•°åˆ†è§£](./Arithmetic/Primes/Factorize.md)\n\t\t- [é«˜é€Ÿç´ å› æ•°åˆ†è§£ (Pollard-$\\rho$æ³•/Millar-Rabin)](./Arithmetic/Primes/FastFactorize.md)\n\t\t- [ç´ æ•°åˆ—æŒ™ (ã‚¨ãƒ©ãƒˆã‚¹ãƒ†ãƒã‚¹ã®ç¯©)](./Arithmetic/Primes/Primes.md)\n\t\t- ç´ æ•°åˆ¤å®š\n\t\t- ç´ æ•°ãƒ†ãƒ¼ãƒ–ãƒ«\n\t- å‰°ä½™\n\t\t- [Modint](./Arithmetic/Modulo/Modint.md)\n\t\t- [ä»»æ„Modint](./Arithmetic/Modulo/ArbitraryModint.md)\n\t- [ä¸­å›½å‰°ä½™å®šç†](./Arithmetic/CRT.md)\n\t- floor sum\n\t- äºŒåˆ†æ¢ç´¢\n\t- ä¸‰åˆ†æ¢ç´¢\n- æœ‰ç†æ•°\n- [è¡Œåˆ—](./Arithmetic/Matrix/Matrix.md)\n- [é«˜é€Ÿãƒ•ãƒ¼ãƒªã‚¨å¤‰æ› (FFT)](./Arithmetic/FFT.md)\n\t- ä»»æ„modç•³ã¿è¾¼ã¿\n\t- [é«˜é€Ÿã‚¼ãƒ¼ã‚¿å¤‰æ›/é«˜é€Ÿãƒ¡ãƒ“ã‚¦ã‚¹å¤‰æ›](./Arithmetic/Zeta.md)\n\t- Karatsuba æ³•\n- å½¢å¼çš„å†ªç´šæ•° (FPS)\n\t- [æ•°è«–å¤‰æ› (NTT)](./Arithmetic/NTT.md)\n\t- å¤šé …å¼GCD\n\t- å¤šé …å¼è£œé–“\n- ã‚¹ãƒ©ã‚¤ãƒ‰æœ€å°å€¤\n\n## æ¢ç´¢\n- æ·±ã•å„ªå…ˆæ¢ç´¢\n- å¹…å„ªå…ˆæ¢ç´¢\n- åº§æ¨™åœ§ç¸®\n- æåˆˆã‚Š\n- A*\n- IDA*\n- Î±-Î² æ¢ç´¢\n\n## å¹¾ä½•\n- [å¹¾ä½•ãƒ©ã‚¤ãƒ–ãƒ©ãƒª](./Geometry/Geometry.md)\n- å‡¸åŒ…\n- åè§’ã‚½ãƒ¼ãƒˆ\n\n## æ–‡å­—åˆ—\n- Z algorithm\n- Rabin-Karp æ³•\n- æœ€é•·å¢—åŠ éƒ¨åˆ†åˆ—\n- ãƒ­ãƒ¼ãƒªãƒ³ã‚°ãƒãƒƒã‚·ãƒ¥\n- æ¥å°¾è¾é…åˆ—\n- Boyer-Moore\n- LL(1) parser\n- Aho-Corasick\n\n## å…¸å‹\n- ã—ã‚ƒãã¨ã‚Šæ³•\n- å‹•çš„è¨ˆç”»æ³•\n- é›†åˆã®æ•´æ•°è¡¨ç¾\n- æœ€å°å€¤ã®æœ€å¤§åŒ–\n- åŠåˆ†å…¨åˆ—æŒ™\n- è¡Œåˆ—ç´¯ä¹—\n- æ•°ãˆä¸Šã’\n\t- åŒ…é™¤åŸç†\n\t- å¯¾ç§°æ€§\n- Grundy æ•°\n\n## ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯\n- [å±±ç™»ã‚Šæ³•](./Heuristic/HillClimbing.md)\n- [ç„¼ããªã¾ã—æ³•](./Heuristic/SimulatedAnnealing.md)\n- [ãƒ“ãƒ¼ãƒ ã‚µãƒ¼ãƒ](./Heuristic/BeamSearch.md)\n- [chokudai ã‚µãƒ¼ãƒ](./Heuristic/ChokudaiSearch.md)\n\n## Pwn\nä½¿ç”¨è¨€èªã¯Pythonã¾ãŸã¯Cè¨€èªã§ã™ã€‚\n\n- Linux Userland\n\t- [ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ](./pwn/LinuxUserland/template.md)\n\t- [pwn ã‚’è§£ãç‚ºã«å¿…è¦ãªã‚¹ãƒ†ãƒƒãƒ—](./pwn/LinuxUserland/method.md)\n\t- [è„†å¼±æ€§ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿæ§‹](./pwn/LinuxUserland/vulns\u0026security.md)\n\t- Stack Exploit\n\t\t- [è„†å¼±æ€§ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿæ§‹](./pwn/LinuxUserland/StackExploit/vulns\u0026security.md)\n\t\t- [ret2xxx](./pwn/LinuxUserland/StackExploit/ret2xxx.md)\n\t\t- [ROP: Return Oriented Programming](./pwn/LinuxUserland/StackExploit/ROP.md)\n\t- [Format String Attack](./pwn/LinuxUserland/FormatStringAttack.md)\n\t- [GOT overwrite](./pwn/LinuxUserland/GOToverwrite.md)\n\t- [glibc](./pwn/LinuxUserland/glibc/glibc.md)\n\t\t- [glibc heap](./pwn/LinuxUserland/glibc/glibc_heap/glibc_heap.md)\n\t\t\t- [malloc_chunk](./pwn/LinuxUserland/glibc/glibc_heap/malloc_chunk.md)\n\t\t\t- [malloc_state](./pwn/LinuxUserland/glibc/glibc_heap/malloc_state.md)\n\t\t\t- [Bins and Chunks](./pwn/LinuxUserland/glibc/glibc_heap/BinsChunks.md)\n\t\t\t- [Internal Functions](./pwn/LinuxUserland/glibc/glibc_heap/InternalFunctions.md)\n\t\t\t- [Core Functions](./pwn/LinuxUserland/glibc/glibc_heap/CoreFunctions.md)\n\t\t\t- [Security Checks](./pwn/LinuxUserland/glibc/glibc_heap/SecurityChecks.md)\n\t\t- [`_IO_FILE`](./pwn/LinuxUserland/glibc/_IO_FILE/_IO_FILE.md)\n\t- [Heap Exploit](./pwn/LinuxUserland/HeapExploit/HeapExploit.md)\n\t\t- [è„†å¼±æ€§ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿæ§‹](./pwn/LinuxUserland/HeapExploit/vulns\u0026security.md)\n\t\t- First Fit\n\t\t- Double Free\n\t\t- Forging chunks\n\t\t- Unlink Exploit\n\t\t- Shrinking Free Chunks\n\t\t- [tcache poisoning](./pwn/LinuxUserland/HeapExploit/tcache_poisoning.md)\n\t\t- fastbin attack\n\t\t- overlapping chunks\n\t\t- mmap overlapping chunks\n\t\t- House of XXX\n\t\t\t- [House of Orange](./pwn/LinuxUserland/HeapExploit/HouseOfXXX/HouseOfOrange.md)\n\t\t\t- [House of Botcake](./pwn/LinuxUserland/HeapExploit/HouseOfXXX/HouseOfBotcake.md)\n\t\t\t- [House of Spirit](./pwn/LinuxUserland/HeapExploit/HouseOfXXX/HouseOfSpirit.md)\n\t\t\t- [House of Lore](./pwn/LinuxUserland/HeapExploit/HouseOfXXX/HouseOfLore.md)\n\t\t\t- House of Storm\n\t\t\t- House of Force\n- Linux Kernel\n\t- [ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ](./pwn/LinuxKernel/kernel_exploit.md)\n\t- Kernel Code Reading\n\t\t- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿæ§‹\n\t\t- ã‚«ãƒ¼ãƒãƒ«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«\n\t- Heap Spray\n\t- Dirty Pipe\n\t- Race Condition\n- Windows Userland\n- Windows Kernel\n- VM Escape\n\t- Container Escape\n- [Automatic Exploit Generation](./pwn/AEG.md)\n\n## Crypto\nãã‚Œãã‚Œã®æš—å·è‡ªä½“ã‚’å–ã‚Šæ‰±ã†ã®ã§ã¯ãªãã€Cryptoã®èƒŒæ™¯ã«ã‚ã‚‹ç†è«–ã‚’å–ã‚Šæ‰±ã£ã¦ã„ãã¾ã™ã€‚ä½¿ç”¨è¨€èªã¯Pythonã¾ãŸã¯SageMathã§ã™ã€‚\n\n- [SageMathãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆ](./Crypto/sagemath.md)\n- æš—å·æ§‹æˆåŸºç›¤\n\t- æ”»æ’ƒè€…ã‹ã‚‰å®ˆã‚‹ç‚ºã«\n\t- [Diffie-Hellman éµäº¤æ›](./Crypto/Cryptography/Diffie-Hellman.md)\n\t- [Fiat-Shamir å¤‰æ›](./Crypto/Cryptography/Fiat-Shamir.md)\n\t\t- [Schnorr ç½²å](./Crypto/Cryptography/Schnorr.md)\n\t\t- [Frozen Heart](./Crypto/Cryptography/FrozenHeart.md)\n\t- Lamport ç½²å\n\t- [ã‚¼ãƒ­çŸ¥è­˜è¨¼æ˜](./Crypto/Cryptography/ZeroKnowledgeProof.md)\n\t- [Fujisaki-Okamoto Transformation](./Crypto/Cryptography/Fujisaki-Okamoto_Transformation.md)\n\t- [æº–åŒå‹æš—å·](./Crypto/Cryptography/homomorphism.md)\n- [æ ¼å­](./Crypto/Lattice/tour_of_Lattice.md)\n\t- [Gram-Schmidt](./Crypto/Lattice/GSO.md)\n\t- SVP (Shortest Vector Problem)\n\t\t- [Lagrange åŸºåº•ç°¡ç´„ (Gauss åŸºåº•ç°¡ç´„)](./Crypto/Lattice/Lagrange.md)\n\t\t- [ã‚µã‚¤ã‚ºåŸºåº•ç°¡ç´„](./Crypto/Lattice/size_reduction.md)\n\t\t- [LLL åŸºåº•ç°¡ç´„](./Crypto/Lattice/LLL.md)\n\t\t- BKZ åŸºåº•ç°¡ç´„ / HKZ åŸºåº•ç°¡ç´„\n\t\t- Kannanâ€™s embedding method\n\t- CVP (Closest Vector Problem)\n\t\t- Babaiâ€™s Algorithm\n\t- Merkle-HellmanãƒŠãƒƒãƒ—ã‚µãƒƒã‚¯æš—å·\n\t\t- LOæ³•\n\t\t- CLOSæ³•\n\t- LWE (Learning with Errors) æš—å·\n\t\t- LWE\n\t\t\t- BDD (Bounded Distance Decoding) Attack\n\t\t\t- SIS (Short Integer Solution) Attack\n\t\t\t- BKW Attack\n\t\t\t- Arora-Ge Attack\n\t\t- Ring-LWE\n\t\t- Module-LWE\n\t\t\t- CRYSTALS\n\t\t- LWR\n\t- [TFHE (Torus Fully Homomorphic Encryption)](./Crypto/Lattice/TFHE.md)\n- å¤šé …å¼\n\t- [Coppersmith Method](./Crypto/coppersmith.md)\n\t- ã‚°ãƒ¬ãƒ–ãƒŠãƒ¼åŸºåº•\n\t- çµ‚çµå¼\n\t- MQ å•é¡Œ\n\t- Matsumoto-Imai æš—å· / HFE æš—å·\n\t- NTRU æš—å·\n\t- Rainbow ç½²å\n\t- UOV ç½²å / QR-UOV ç½²å\n- æ•°è«–\n\t- ãƒ‡ã‚£ã‚ªãƒ•ã‚¡ãƒ³ãƒˆã‚¹æ–¹ç¨‹å¼\n\t\t- äºŒå¹³æ–¹å’Œ\n\t\t- ãƒšãƒ«æ–¹ç¨‹å¼\n\t- [é›¢æ•£å¯¾æ•°å•é¡Œ (DLP)](./Crypto/DLP/DLP.md)\n\t\t- [Baby-step Giant-step](./Crypto/DLP/BSGS.md)\n\t\t- [Pollard's rho æ³•](./Crypto/DLP/Pollard_rho.md)\n\t\t- æŒ‡æ•°è¨ˆç®—æ³• (Index Calculus Algorithm)\n\t\t- æ•°ä½“ãµã‚‹ã„æ³•\n\t\t- [Pohlig-Hellman](./Crypto/DLP/Pohlig_Hellman.md)\n- [RSAæš—å·](./Crypto/RSA/RSA.md)\n\t- [Wiener's Attack](./Crypto/RSA/WienersAttack.md)\n\t- [Boneh-Durfee Attack](./Crypto/RSA/Boneh-DurfeeAttack.md)\n\t- [Common Modulus Attack](./Crypto/RSA/CommonModulusAttack.md)\n\t- [HÃ¥stad's Broadcast Attack](./Crypto/RSA/HÃ¥stadsBroadcastAttack.md)\n\t- [Small Common Private Exponent Attack](./Crypto/RSA/SmallCommonPrivateExponentAttack.md)\n\t- [é©å¿œçš„é¸æŠæš—å·æ–‡æ”»æ’ƒ](./Crypto/RSA/RSA-CCA.md)\n\t- [LSB Decryption Oracle Attack](./Crypto/RSA/LSB-DecryptionOracleAttack.md)\n\t- [RSA-CRT Fault Attack](./Crypto/RSA/RSA-CRT-FaultAttack.md)\n\t- [Franklin-Reiter Related Message Attack](./Crypto/RSA/Franklin-ReiterRelatedMessageAttack.md)\n\t- [Partial Key Exposure Attack](./Crypto/RSA/PartialKeyExposureAttack.md)\n\t- [é€†å…ƒãŒå­˜åœ¨ã—ãªã„ã¨ã](./Crypto/RSA/NoInverse.md)\n\t- [ROCA Attack](./Crypto/RSA/ROCA.md)\n- [æ¥•å††æ›²ç·šæš—å·](./Crypto/ECC/ECC.md)\n\t- æ¥•å††æ›²ç·š\n\t\t- Millar ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \n\t\t- [Schoof ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ](./Crypto/ECC/Schoof.md)\n\t\t- Tate pairing / Weil pairing\n\t\t- [ECFFT](./Crypto/ECC/ECFFT.md)\n\t\t- è¶…æ¥•å††æ›²ç·š\n\t- æ”»æ’ƒ\n\t\t- [Pohlig-Hellman Attack](./Crypto/ECC/Pohlig-Hellman.md)\n\t\t- [MOV/FR Reduction](./Crypto/ECC/MOV-FR-Reduction.md)\n\t\t- [SSSA Attack](./Crypto/ECC/SSSA-Attack.md)\n\t\t- [Invalid Curve Attack](./Crypto/ECC/Invalid-Curve-Attack.md)\n\t\t- [GHS Attack](./Crypto/ECC/GHS-Attack.md)\n\t\t- Dual EC DRBG\n\t\t- [Attacks on SIKE](./Crypto/ECC/SIKE.md)\n- [AES](./Crypto/AES/AES.md)\n\t- Padding Oracle Attack\n\t- BEAST Attack\n\t- Lucky Thirteen Attack\n\t- POODLE Attack\n\t- ghash\n\t- Integral Cryptanalysis\n- [ãã®ä»–ã®æš—å·](./Crypto/Cryptography/other.md)\n- [Hash](./Crypto/Hash/hash.md)\n\t- èª•ç”Ÿæ—¥æ”»æ’ƒ\n\t- [Differencial cryptanalysis](./Crypto/Hash/DifferencialCryptoanalysis.md)\n- ç–‘ä¼¼ä¹±æ•°ç”Ÿæˆå™¨ (PRNG)\n\t- Xorshift\n\t- [Mersenne twister](./Crypto/PRNG/MersenneTwister.md)\n- ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³\n\t- Flash Loan Attack\n- [å‚è€ƒæ–‡çŒ®](./Crypto/Books.md)\n\n## Web\nWebã«é–¢ã—ã¦ã¯ã‚ˆã‚ã‚ˆã‚ãªã®ã§èª­ã¿è¾¼ã‚€ã¨è‰¯ã„ã‹ã‚‚ã—ã‚Œãªã„è³‡æ–™ãƒªã‚¹ãƒˆã‚’é›†ã‚ã¦ã„ã¾ã™ã€‚(ã“ã‚Œèª­ã‚€ã¨ã„ã„ã‚ˆã¿ãŸã„ãªã®ãŒã‚ã£ãŸã‚‰æ•™ãˆã¦ãã ã•ã‚‹ã¨åŠ©ã‹ã‚Šã¾ã™ï¼)\n\n- [Prototype Pollution](./Web/PrototypePollution.md)\n- [CTFã«ãŠã‘ã‚‹Webã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å…¥é–€ã¨ã¾ã¨ã‚](https://blog.hamayanhamayan.com/entry/2021/12/01/194114)\n- å¸¸è¨­Webå•\n\t- [Web Security Academy](https://portswigger.net/web-security/all-labs)\n\t- [KENRO](https://kenro.flatt.tech)\n\t- [wargame.kr](http://wargame.kr)\n\t- [XSS Game](https://xss-game.appspot.com)\n\t- [The Lord of the SQLI](https://los.rubiya.kr)\n- [SQL Injection list](https://github.com/payloadbox/sql-injection-payload-list)\n\n## Misc\nCTF ã®3å¤§åˆ†é‡ä»¥å¤–ã‚’ã¾ã¨ã‚ã¾ã™.\n\n- [Forensics](./Misc/Forensics/Forensics.md)\n\t- [Windows](./Misc/Forensics/Windows.md)\n- [OSINT](./Misc/OSINT.md)\n- Reversing\n\t- [è¡¨å±¤è§£æ](./Reversing/SurfaceAnalysis.md)\n\t- é™çš„è§£æ\n\t\t- Ghidra\n\t- å‹•çš„è§£æ\n\t\t- Fuzzing\n\t\t- [ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯å®Ÿè¡Œ](./other/SAT-SMT/SymbolicExecution.md)\n\t- [ãƒãƒ«ã‚¦ã‚§ã‚¢](./Reversing/Malware/Malware.md)\n\t\t- [ãƒ‡ãƒãƒƒã‚°æ¤œçŸ¥](./Reversing/Malware/AntiDebugging.md)\n\t\t- [ä»®æƒ³åŒ–æ¤œçŸ¥](./Reversing/Malware/DetectVirtualization.md)\n\t\t- [Windowsã®å†…éƒ¨](./Reversing/Malware/WindowsInternal.md)\n- ãƒã‚¤ãƒŠãƒªãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¢æ¤œéšŠ\n\t- [ASCII](./Misc/BinaryFormat/ASCII.md)\n\t- [Unicode](./Misc/BinaryFormat/Unicode.md)\n\t- [ELF](./Misc/BinaryFormat/ELF.md)\n\t- [FAT32](./Misc/BinaryFormat/FAT32.md)\n\t- ext4\n\t- [ZIP](./Misc/BinaryFormat/ZIP.md)\n\t- JPEG\n- ãƒ”ãƒƒã‚­ãƒ³ã‚°\n- Tamper Evident\n- Social Engineering\n- Car Hacking\n- [Pyjail](./Misc/Misc/Pyjail.md)\n\n## ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ»ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n- [æ•°å­¦](./Science/Math/Math.md)\n\t- [å‘½é¡Œè«–ç†](./Science/Math/PropositionalLogic.md)\n\t- [æ„å‘³è«–](./Science/Math/Semantics.md)\n- [ç‰©ç†](./Science/Physics/Physics.md)\n\t- èˆªç©ºæŠ€è¡“\n- [å›è·¯](./other/Circuit/Circuit)\n\t- å›è·¯ç´ å­\n\t- ã‚¢ãƒŠãƒ­ã‚°å›è·¯\n\t\t- æŠµæŠ—ã¨ã‚³ãƒ³ãƒ‡ãƒ³ã‚µ\n\t\t- æ˜‡åœ§ãƒãƒ§ãƒƒãƒ‘å›è·¯\n\t\t- ãƒãƒ«ãƒãƒã‚¤ãƒ–ãƒ¬ãƒ¼ã‚¿å›è·¯\n\t\t- ç™ºæŒ¯å›è·¯\n\t\t\t- ã‚³ãƒ«ãƒ”ãƒƒãƒ„ç™ºæŒ¯å›è·¯\n\t\t- é›»æº\n\t\t- ãƒ‘ãƒ¯ã‚¨ãƒ¬\n\t\t- ãƒã‚¤ã‚ºã‚­ãƒ£ãƒ³ã‚»ãƒªãƒ³ã‚°\n\t\t- ã‚»ãƒ³ã‚µãƒ¼ãƒ»ã‚¢ã‚¯ãƒãƒ¥ã‚¨ãƒ¼ã‚¿\n\t\t\t- ãƒ¢ãƒ¼ã‚¿ãƒ¼\n\t\t\t- Hãƒ–ãƒªãƒƒã‚¸å›è·¯\n\t\t\t- PWMåˆ¶å¾¡\n\t\t\t- ã‚²ãƒ¼ãƒˆãƒ‰ãƒ©ã‚¤ãƒ\n\t\t\t\t- FETã®ã‚ªãƒ³æŠµæŠ—, ãƒ‡ãƒƒãƒ‰ã‚¿ã‚¤ãƒ ã€æ˜‡åœ§å›è·¯\n\t\t\t- TA7291P, TB6643KQ, L298N\n\t- ãƒ‡ã‚¸ã‚¿ãƒ«å›è·¯\n\t\t- é…å»¶å›è·¯ + ã‚·ãƒ¥ãƒŸãƒƒãƒˆãƒˆãƒªã‚¬\n\t\t- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰\n\t\t- AVLãƒ©ã‚¤ã‚¿\n\t\t- è«–ç†å›è·¯\n\t\t\t- ãƒ©ãƒƒãƒ\n\t\t\t- ãƒ•ãƒªãƒƒãƒ—ãƒ•ãƒ­ãƒƒãƒ—\n\t\t- [ãƒã‚¤ã‚³ãƒ³](./other/Circuit/Digital/Microcomputer.md)\n\t\t- é€šä¿¡\n- [ãƒ—ãƒ­ã‚»ãƒƒã‚µ](./other/Processor/Processor.md)\n\t- [LSI](./other/Processor/LSI)\n\t- Spectre / Meltdown\n\t- HIEE; Hardware-assisted Isolated Execution Environments\n\t\t- [TEE; Trusted Execution Environment](./other/Processor/HIEE/TEE.md)\n\t\t- [TPM; Trusted Platform Module](./other/Processor/HIEE/TPM.md)\n\t\t- [DRM; Digital Rights Management](./other/Processor/HIEE/DRM.md)\n\t\t- DAA; Direct Anonymous Attestation\n\t- [rootkit](./other/Processor/rootkit.md)\n- è«–ç†\n- ãƒã‚¤ã‚¯ãƒ­ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n- ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n- ä»®æƒ³åŒ–æŠ€è¡“\n\t- [ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿](./other/Virtualization/Emulator.md)\n\t- [ã‚³ãƒ³ãƒ†ãƒŠä»®æƒ³åŒ–æŠ€è¡“](./other/Virtualization/Container.md)\n\t- [ãƒã‚¤ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ã®ä½œã‚Šæ–¹](https://syuu1228.github.io/howto_implement_hypervisor/)\n- [OS](./other/OS/OS.md)\n\t- [ç•¥èª](./other/OS/abbreviation)\n\t- [ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©](./other/OS/Scheduler)\n\t- BIOS/UEFI\n\t- ACPI\n\t- NIC\n- ã‚µãƒ¼ãƒãƒ¼\n\t- [RDBMS](./other/Server/RDBMS.md)\n\t- [RDBMS æœ€é©åŒ–](./other/Server/rdbms-optimization.md)\n\t- [ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·](./other/Server/reverse-proxy.md)\n\t- [ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·æœ€é©åŒ–](./other/Server/reverse-proxy-optimization.md)\n\t- [ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æœ€é©åŒ–](./other/Server/frontend-optimization.md)\n- [ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯](./other/Network/Network.md)\n\t- [SDR](./other/Network/SDR.md)\n\n## é‡å­ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \n\n- [å„ã‚²ãƒ¼ãƒˆã®ç´¹ä»‹ã¨é‡å­è¨ˆç®—ã®æ–¹æ³•](./other/Quantum/Quantum.md)\n- Shor ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \n- é‡å­æš—å·é€šä¿¡\n- é‡å­ä¸­ç¶™ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯\n\n## é›‘å­¦\n\n- ç”Ÿç‰©å­¦\n- [ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª](./other/Programming/Programming.md)\n\t- [å‹æ¨è«–](./other/Programming/Type.md)\n\t- [toolchain](./other/Programming/toolchain)\n\t- æœªå®šç¾©å‹•ä½œ\n\t- ã‚·ã‚§ãƒ«\n\t- å®šç†è¨¼æ˜æ”¯æ´ç³»\n- [SAT/SMT](./other/SAT-SMT/SAT-SMT.md)\n\t- [ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯å®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³](./other/SAT-SMT/SymbolicExecution.md)\n\t- è‡ªå‹•å®šç†è¨¼æ˜æ”¯æ´ç³»\n- ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°\n\t- [ãƒ¬ã‚¤ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°](./other/Rendering/RayTracing.md)\n- ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³\n- [Deep Learning](./other/DeepLearning.md)\n- [ã€ç”»åƒå‡¦ç†å…¥é–€ã€‘ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ï¼†ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°](https://algorithm.joho.info/programming/image-processing/)\n- è¶…è§£åƒ\n- [ãƒ„ãƒ¼ãƒ«](./other/Tools)\n\n## è„†å¼±æ€§é›†\n\n- [CVEs for the Rust standard library](https://rustrepo.com/repo/Qwaz-rust-cve-rust-security-tools)\n\t- [Rustã®unsound hole issue #25860ã‚’ç†è§£ã™ã‚‹](https://speakerdeck.com/moratorium08/rustfalseunsound-hole-issue-number-25860woli-jie-suru)\n\t- [str::repeat - stable wildcopy exploit](https://saaramar.github.io/str_repeat_exploit/)","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/DataStructure/BIT/BIT":{"title":"Binary Indexed Tree","content":"\n## èª¬æ˜\n\n## è¨ˆç®—é‡\n\n- add $O(\\log N)$\n- sum $O(\\log N)$\n\n## å®Ÿè£…\n\n```cpp\ntemplate \u003ctypename T\u003e\nclass BIT {\n  int N;\n  vector\u003cT\u003e bit;\n  BIT(isizet size) {\n    N = size + 2;\n    bit.assign(N + 1, {});\n  }\n\n  // get sum of [0, i]\n  T sum(int i) const {\n    T res({});\n    for (++i; i \u003e 0; i -= (i \u0026 -i)) res += bit[i];\n    return res;\n  }\n\n  // get sum of [l, r]\n  inline T sum(int l, int r) { return sum(r) - sum(l - 1); }\n\n  // get value of i\n  inline T operator[](int i) const { return sum(i) - sum(i - 1); }\n\n  // data[i] += x\n  void add(int i, T x) {\n    for (++i; i \u003c= N; i += (i \u0026 -i)) bit[i] += x;\n  }\n\n  // range add x to [l, r]\n  void imos(int l, int r, T x) {\n    add(l, x);\n    add(r + 1, -x);\n  }\n\n  // minimize i s.t. sum(i) \u003e= w\n  int lower_bound(T w) {\n    if (w \u003c= 0) return 0;\n    int x = 0;\n    for (int i = 1 \u003c\u003c __lg(N); i \u003e 0; i \u003e\u003e= 1) {\n      if (x + k \u003c N \u0026\u0026 bit[x + i] \u003c w) {\n        w -= bit[x + i];\n        x += i;\n      }\n    }\n    return x;\n  }\n\n  // minimize i s.t. sum(i) \u003e w\n  int upper_bound(T w) {\n    if (w \u003c 0) return 0;\n    int x = 0;\n    for (int i = 1 \u003c\u003c __lg(N); i \u003e 0; i \u003e\u003e= 1) {\n      if (x + k \u003c= N \u0026\u0026 bit[x + i] \u003c= w) {\n        w -= bit[x + i];\n        x += i;\n      }\n    }\n    return x;\n  }\n};\n```\n\n## ä½¿ç”¨ä¾‹\n\n```cpp\n#include \u003cbit.hpp\u003e\n#include \u003cvector\u003e\n\n// è»¢å€’æ•° é‡è¤‡ã‚ã‚Š\ntemplate \u003ctypename T\u003e\nlong long inversion_counting(const std::vector\u003cT\u003e \u0026v) {\n  std::vector\u003cT\u003e xs{v};\n  sort(xs.begin(), xs.end());\n  xs.erase(unique(xs.begin(), xs.end()), xs.ned());\n  int N = xs.size();\n  BinaryIndexedTree\u003cT\u003e bin(N);\n  long long ans = 0;\n  for (long long i = 0; i \u003c N; i++) {\n    int s = lower_bound(xs.begin(), xs.end(), xs[i]) - xs.begin();\n    ans += i - bin.sum(v[i]);\n    bin.add(v[i], 1);\n  }\n  return ans;\n}\n\n// éš£æ¥ swap ã«ã‚ˆã£ã¦ v ã‚’ w ã«å¤‰ãˆã‚‹ã®ã«ã‹ã‹ã‚‹æ‰‹æ•° (ä¸å¯èƒ½ : -1)\ntemplate \u003ctypename T\u003e\nlong long swap_distance(const std::vector\u003cT\u003e \u0026v, const std::vector\u003cT\u003e \u0026w) {\n  if (v.size() != w.size()) return -1;\n\n  long long N = v.size();\n  std::vector\u003cpair\u003cT, int\u003e\u003e vv(N), ww(N);\n  for (int i = 0; i \u003c N; i++) {\n    vv[i] = make_pair(v[i], i);\n    ww[i] = make_pair(w[i], i);\n  }\n  sort(vv.begin(), vv.end());\n  sort(ww.begin(), ww.end());\n  std::vector\u003cint\u003e order(N);\n  for (int i = 0; i \u003c N; i++) {\n    if (vv[i].first != ww[i].first) return -1;\n    order[vv[i].second] = ww[i].second;\n  }\n  return inversion_counting(order);\n}\n```\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/DataStructure/BinarySearchTree/Treap":{"title":"Treap","content":"\n## èª¬æ˜\n\n## è¨ˆç®—é‡\n$O(\\log n)$\n\n## å®Ÿè£…\n\n## ä½¿ç”¨ä¾‹\n\n## å‚è€ƒ\n- [Implicit Treap - ç«¶ãƒ—ãƒ­ç·´ç¿’è¨˜éŒ² (hatenablog.com)](https://xuzijian629.hatenablog.com/entry/2018/12/08/000452)\n- [ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚³ãƒ³ãƒ†ã‚¹ãƒˆã§ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€  2ã€€ï½å¹³è¡¡äºŒåˆ†æ¢ç´¢æœ¨ç·¨ï½ (slideshare.net)](https://www.slideshare.net/iwiwi/2-12188757)\n- [ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã¨ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ  AVLæœ¨ (å¹³è¡¡æ¢ç´¢æœ¨) (uec.ac.jp)](http://dopal.cs.uec.ac.jp/okamotoy/lect/2005/DSA/avl.pdf)\n\n\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/DataStructure/LinkedList":{"title":"","content":"```\npub enum List {\n    Empty,\n    Elem(i32, List),\n}\n```\n\nå˜æ–¹å‘ã ã¨è¦ç´ ã‚’è¿½åŠ ã™ã‚‹ã¨ãã«å‰ã®ãƒªã‚¹ãƒˆã‚’å¤‰æ›´ã™ã‚‹å¿…è¦ãŒç„¡ã„ã‹ã‚‰æ°¸ç¶šåŒ–å¯èƒ½","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/DataStructure/SegTree/LazySegTree":{"title":"é…å»¶ã‚»ã‚°ãƒ¡ãƒ³ãƒˆæœ¨","content":"\n## èª¬æ˜\n\n## è¨ˆç®—é‡\n\n## å®Ÿè£…\n\n```cpp\n#include \u003calgorithm\u003e\n#include \u003ccassert\u003e\n#include \u003ciostream\u003e\n#include \u003cvector\u003e\n\nnamespace internal {\nint ceil_pow2(int n) {\n  int x = 0;\n  while ((1U \u003c\u003c x) \u003c (unsigned int)(n))\n    x++;\n  return x;\n}\n\n} // namespace internal\n\ntemplate \u003cclass S, S (*op)(S, S), S (*e)(), class F, S (*mapping)(F, S),\n          F (*composition)(F, F), F (*id)()\u003e\nstruct lazy_segtree {\nprivate:\n  int _n, size, log;\n  std::vector\u003cS\u003e node;\n  std::vector\u003cF\u003e lazy;\n\npublic:\n  lazy_segtree() : lazy_segtree(0) {}\n  explicit lazy_segtree(int n) : lazy_segtree(std::vector\u003cS\u003e(n, e())) {}\n  explicit lazy_segtree(const std::vector\u003cS\u003e \u0026v) : _n(int(v.size())) {\n    log = internal::ceil_pow2(_n);\n    size = 1 \u003c\u003c log;\n    node = std::vector\u003cS\u003e(2 * size, e());\n    lazy = std::vector\u003cF\u003e(size, id());\n    // ã‚»ã‚°æœ¨ã®åˆæœŸåŒ–\n    // æœ€ä¸‹å±¤: size + k\n    // è¦ª k \u003e\u003e 1\n    // å­ 2*k, 2*k + 1\n    for (int i = 0; i \u003c _n; i++)\n      node[size + i] = v[i];\n    for (int i = size - 1; i \u003e= 1; i--)\n      update(i);\n  }\n\n  // a[p] = x : O(logN)\n  void set(int p, S x) {\n    assert(0 \u003c= p \u0026\u0026 p \u003c _n);\n    p += size;\n    for (int i = log; i \u003e= 1; i--)\n      push(p \u003e\u003e i);\n    node[p] = x;\n    for (int i = 1; i \u003c= log; i++)\n      update(p \u003e\u003e i);\n  }\n\n  // a[p] : O(1)\n  S get(int p) {\n    assert(0 \u003c= p \u0026\u0026 p \u003c _n);\n    p += size;\n    for (int i = log; i \u003e= 1; i--)\n      push(p \u003e\u003e i);\n    return node[p];\n  }\n\n  // op(a[l, r)) ã‚’ãƒ¢ãƒã‚¤ãƒ‰ã®æ€§è³ªã‚’æº€ãŸã—ã¦ã„ã‚‹ã¨ä»®å®šã—ã¦è¨ˆç®— : O(logN)\n  S prod(int l, int r) {\n    assert(0 \u003c= l \u0026\u0026 l \u003c= r \u0026\u0026 r \u003c= _n);\n    if (l == r)\n      return e();\n\n    l += size;\n    r += size;\n\n    for (int i = log; i \u003e= 1; i--) {\n      if (((l \u003e\u003e i) \u003c\u003c i) != l)\n        push(l \u003e\u003e i);\n      if (((r \u003e\u003e i) \u003c\u003c i) != r)\n        push((r - 1) \u003e\u003e i);\n    }\n\n    S sml = e(), smr = e();\n    while (l \u003c r) {\n      if (l \u0026 1)\n        sml = op(sml, node[l++]);\n      if (r \u0026 1)\n        smr = op(node[--r], smr);\n      l \u003e\u003e= 1;\n      r \u003e\u003e= 1;\n    }\n\n    return op(sml, smr);\n  }\n\n  // op(a[0, n)) : O(logN)\n  S all_prod() { return node[1]; }\n\n  // a[p] = f(a[p]) : O(logN)\n  void apply(int p, F f) {\n    assert(0 \u003c= p \u0026\u0026 p \u003c _n);\n    p += size;\n    for (int i = log; i \u003e= 1; i--)\n      push(p \u003e\u003e i);\n    node[p] = mapping(f, node[p]);\n    for (int i = 1; i \u003c= log; i++)\n      update(p \u003e\u003e i);\n  }\n  // a[i] = f(a[i]) in [l, r) : O(logN)\n  void apply(int l, int r, F f) {\n    assert(0 \u003c= l \u0026\u0026 l \u003c= r \u0026\u0026 r \u003c= _n);\n    if (l == r)\n      return;\n\n    l += size;\n    r += size;\n\n    for (int i = log; i \u003e= 1; i--) {\n      if (((l \u003e\u003e i) \u003c\u003c i) != l)\n        push(l \u003e\u003e i);\n      if (((r \u003e\u003e i) \u003c\u003c i) != r)\n        push((r - 1) \u003e\u003e i);\n    }\n\n    {\n      int l2 = l, r2 = r;\n      while (l \u003c r) {\n        if (l \u0026 1)\n          all_apply(l++, f);\n        if (r \u0026 1)\n          all_apply(--r, f);\n        l \u003e\u003e= 1;\n        r \u003e\u003e= 1;\n      }\n      l = l2;\n      r = r2;\n    }\n\n    for (int i = 1; i \u003c= log; i++) {\n      if (((l \u003e\u003e i) \u003c\u003c i) != l)\n        update(l \u003e\u003e i);\n      if (((r \u003e\u003e i) \u003c\u003c i) != r)\n        update((r - 1) \u003e\u003e i);\n    }\n  }\n\n  // äºŒåˆ†æ¢ç´¢\n  // r where g(op(a[l, r))) = true \u0026 g(op(a[l, r])) = false : O(logN)\n  template \u003cbool (*g)(S)\u003e int max_right(int l) {\n    return max_right(l, [](S x) { return g(x); });\n  }\n  template \u003cclass G\u003e int max_right(int l, G g) {\n    assert(0 \u003c= l \u0026\u0026 l \u003c= _n);\n    assert(g(e()));\n    if (l == _n)\n      return _n;\n    l += size;\n    for (int i = log; i \u003e= 1; i--)\n      push(l \u003e\u003e i);\n    S sm = e();\n    do {\n      while (l % 2 == 0)\n        l \u003e\u003e= 1;\n      if (!g(op(sm, node[l]))) {\n        while (l \u003c size) {\n          push(l);\n          l = (2 * l);\n          if (g(op(sm, node[l]))) {\n            sm = op(sm, node[l]);\n            l++;\n          }\n        }\n        return l - size;\n      }\n      sm = op(sm, node[l]);\n      l++;\n    } while ((l \u0026 -l) != l);\n    return _n;\n  }\n\n  // äºŒåˆ†æ¢ç´¢\n  // l where g(op(a[l, r))) = true \u0026 g(op(a[l-1, r))) = false\n  template \u003cbool (*g)(S)\u003e int min_left(int r) {\n    return min_left(r, [](S x) { return g(x); });\n  }\n  template \u003cclass G\u003e int min_left(int r, G g) {\n    assert(0 \u003c= r \u0026\u0026 r \u003c= _n);\n    assert(g(e()));\n    if (r == 0)\n      return 0;\n    r += size;\n    for (int i = log; i \u003e= 1; i--)\n      push((r - 1) \u003e\u003e i);\n    S sm = e();\n    do {\n      r--;\n      while (r \u003e 1 \u0026\u0026 (r % 2))\n        r \u003e\u003e= 1;\n      if (!g(op(node[r], sm))) {\n        while (r \u003c size) {\n          push(r);\n          r = (2 * r + 1);\n          if (g(op(node[r], sm))) {\n            sm = op(node[r], sm);\n            r--;\n          }\n        }\n        return r + 1 - size;\n      }\n      sm = op(node[r], sm);\n    } while ((r \u0026 -r) != r);\n    return 0;\n  }\n\nprivate:\n  // node[k]ã®æ›´æ–°\n  void update(int k) { node[k] = op(node[2 * k], node[2 * k + 1]); }\n  // nodeã®æ›´æ–°\n  void all_apply(int k, F f) {\n    node[k] = mapping(f, node[k]);\n    if (k \u003c size)\n      lazy[k] = composition(f, lazy[k]);\n  }\n\n  // é…å»¶è©•ä¾¡\n  void push(int k) {\n    all_apply(2 * k, lazy[k]);\n    all_apply(2 * k + 1, lazy[k]);\n    lazy[k] = id();\n  }\n};\n```\n\n## ä½¿ç”¨ä¾‹\n\n```cpp\n#include \u003cbits/stdc++.h\u003e\n#include \u003clazysegtree.hpp\u003e\n// #include \u003catcoder/all\u003e\nusing namespace std;\n// using namespace atcoder;\nusing ll = long long;\nusing ld = long double;\nusing uint = unsigned;\nusing ull = unsigned long long;\nusing u64 = uint_fast64_t;\nusing pll = pair\u003cll, ll\u003e;\nusing pdd = pair\u003cld, ld\u003e;\nusing C = complex\u003cdouble\u003e;\ntemplate \u003cclass T\u003e using pq = priority_queue\u003cT, vector\u003cT\u003e, greater\u003cT\u003e\u003e;\n\nconst int IINF = 0x1fffffff;\nconst ll LINF = 0x1fffffffffffffff;\nconst ll INF = 0x1fffffffffffffff;\nconst ll MINF = 0x7fffffffffff;\nconst ll MOD = 1000000007;\nconst ll MODD = 998244353;\nconst ld DINF = numeric_limits\u003cld\u003e::infinity();\nconst ld EPS = 1e-9;\nconst ld PI = 3.1415926535897932;\nconst ll dx[] = {0, 1, 0, -1, 1, -1, 1, -1};\nconst ll dy[] = {1, 0, -1, 0, 1, 1, -1, -1};\n\n#define overload4(_1, _2, _3, _4, name, ...) name\n#define overload3(_1, _2, _3, name, ...) name\n#define rep1(n) for (ll i = 0; i \u003c n; ++i)\n#define rep2(i, n) for (ll i = 0; i \u003c n; ++i)\n#define rep3(i, a, b) for (ll i = a; i \u003c b; ++i)\n#define rep4(i, a, b, c) for (ll i = a; i \u003c b; i += c)\n#define rep(...) overload4(__VA_ARGS__, rep4, rep3, rep2, rep1)(__VA_ARGS__)\n#define rrep1(n) for (ll i = n; i--;)\n#define rrep2(i, n) for (ll i = n; i--;)\n#define rrep3(i, a, b) for (ll i = b; i-- \u003e (a);)\n#define rrep4(i, a, b, c)                                                      \\\n  for (ll i = (a) + ((b) - (a)-1) / (c) * (c); i \u003e= (a); i -= c)\n#define rrep(...)                                                              \\\n  overload4(__VA_ARGS__, rrep4, rrep3, rrep2, rrep1)(__VA_ARGS__)\n#define each1(i, a) for (auto \u0026\u0026i : a)\n#define each2(x, y, a) for (auto \u0026\u0026[x, y] : a)\n#define each3(x, y, z, a) for (auto \u0026\u0026[x, y, z] : a)\n#define each(...) overload4(__VA_ARGS__, each3, each2, each1)(__VA_ARGS__)\n#define all1(i) begin(i), end(i)\n#define all2(i, a) begin(i), begin(i) + a\n#define all3(i, a, b) begin(i) + a, begin(i) + b\n#define all(...) overload3(__VA_ARGS__, all3, all2, all1)(__VA_ARGS__)\n#define rall1(i) (i).rbegin(), (i).rend()\n#define rall2(i, k) (i).rbegin(), (i).rbegin() + k\n#define rall3(i, a, b) (i).rbegin() + a, (i).rbegin() + b\n#define rall(...) overload3(__VA_ARGS__, rall3, rall2, rall1)(__VA_ARGS__)\n// g++ -DDBUG -I . ...\n#ifdef DEBUG\ninline ll __lg(ull x) { return 63 - __builtin_clzll(x); }\n#define debug(...)                                                             \\\n  {                                                                            \\\n    print(#__VA_ARGS__);                                                       \\\n    print(\":\");                                                                \\\n    out(__VA_ARGS__);                                                          \\\n  }\n#else\n#define debug(...) void(0)\n#endif\n\n#define vec vector\n#define fi first\n#define se second\n#define MM \u003c\u003c \" \" \u003c\u003c\n#define chmax(x, y) (x = max(x, y))\n#define chmin(x, y) (x = min(x, y))\nvoid debug_out() { std::cerr \u003c\u003c std::endl; }\ntemplate \u003ctypename Head, typename... Tail\u003e void debug_out(Head h, Tail... t) {\n  std::cerr \u003c\u003c \" \" \u003c\u003c h;\n  if (sizeof...(t) \u003e 0)\n    std::cout \u003c\u003c \" :\";\n  debug_out(t...);\n}\n\nconstexpr u64 Modulus = MODD;\nclass Modint {\npublic:\n  u64 num = 0;\n  constexpr Modint() noexcept {}\n  constexpr Modint(const u64 x) noexcept : num(x % Modulus) {}\n  inline constexpr operator ll() const noexcept { return num; }\n  inline constexpr Modint \u0026operator+=(const Modint rhs) noexcept {\n    num += rhs.num;\n    if (num \u003e= Modulus)\n      num -= Modulus;\n    return *this;\n  }\n  inline constexpr Modint operator+(const Modint rhs) const noexcept {\n    return Modint(*this) += rhs;\n  }\n  inline constexpr Modint \u0026operator-=(const Modint rhs) noexcept {\n    if (num \u003c rhs.num)\n      num += Modulus;\n    num -= rhs.num;\n    return *this;\n  }\n  inline constexpr Modint operator-(const Modint rhs) const noexcept {\n    return Modint(*this) -= rhs;\n  }\n  inline constexpr Modint \u0026operator*=(const Modint rhs) noexcept {\n    num = num * rhs.num % Modulus;\n    return *this;\n  }\n  inline constexpr Modint operator*(const Modint rhs) const noexcept {\n    return Modint(*this) *= rhs;\n  }\n  inline constexpr Modint \u0026operator/=(const Modint rhs) noexcept {\n    return operator*=(rhs.inv());\n  }\n  constexpr Modint operator/(const Modint rhs) const noexcept {\n    return Modint(*this) /= rhs;\n  }\n  inline constexpr Modint \u0026operator++() noexcept {\n    if (num == Modulus - 1)\n      num = 0;\n    else\n      num++;\n    return *this;\n  }\n  inline constexpr Modint operator++(int) noexcept {\n    Modint ans(*this);\n    operator++();\n    return ans;\n  }\n  inline constexpr Modint \u0026operator--() noexcept {\n    if (num == 0)\n      num = Modulus - 1;\n    else\n      num--;\n    return *this;\n  }\n  inline constexpr Modint operator--(int) noexcept {\n    Modint ans(*this);\n    operator--();\n    return ans;\n  }\n  inline constexpr Modint operator-() noexcept { return Modint(0) -= *this; }\n  template \u003cclass T\u003e inline constexpr Modint \u0026operator+=(T x) noexcept {\n    return operator+=(Modint(x));\n  }\n  template \u003cclass T\u003e inline constexpr Modint \u0026operator+(T x) noexcept {\n    return Modint(*this) += x;\n  }\n  template \u003cclass T\u003e inline constexpr Modint \u0026operator-=(T x) noexcept {\n    return operator-=(Modint(x));\n  }\n  template \u003cclass T\u003e inline constexpr Modint \u0026operator-(T x) noexcept {\n    return Modint(*this) -= x;\n  }\n  template \u003cclass T\u003e inline constexpr Modint \u0026operator*=(T x) noexcept {\n    return operator*=(Modint(x));\n  }\n  template \u003cclass T\u003e inline constexpr Modint \u0026operator*(T x) noexcept {\n    return Modint(*this) *= x;\n  }\n  template \u003cclass T\u003e inline constexpr Modint \u0026operator/=(T x) noexcept {\n    return operator/=(Modint(x));\n  }\n  template \u003cclass T\u003e inline constexpr Modint \u0026operator/(T x) noexcept {\n    return Modint(*this) /= x;\n  }\n  inline constexpr Modint inv() const noexcept {\n    ll x = 0, y = 0;\n    extgcd(num, Modulus, x, y);\n    return x;\n  }\n  static inline constexpr ll extgcd(ll a, ll b, ll \u0026x, ll \u0026y) noexcept {\n    ll g = a;\n    x = 1;\n    y = 0;\n    if (b) {\n      g = extgcd(b, a % b, y, x);\n      y -= a / b * x;\n    }\n    return g;\n  }\n  inline constexpr Modint pow(ull x) const noexcept {\n    Modint ans = 1, cnt = *this;\n    while (x) {\n      if (x \u0026 1)\n        ans *= cnt;\n      cnt *= cnt;\n      x /= 2;\n    }\n    return ans;\n  }\n  template \u003cclass T\u003e constexpr Modint(T x) noexcept {\n    using U = typename conditional\u003csizeof(T) \u003e= 4, T, int\u003e::type;\n    U y = x;\n    y %= U(Modulus);\n    if (y \u003c 0)\n      y += Modulus;\n    num = uint(y);\n  }\n};\nstd::istream \u0026operator\u003e\u003e(std::istream \u0026is, Modint \u0026x) {\n  ll a;\n  cin \u003e\u003e a;\n  x = a;\n  return is;\n}\n// inline constexpr Modint operator\"\"_M(ull x) noexcept { return Modint(x); }\nstd::vector\u003cModint\u003e fac(1, 1), inv(1, 1);\ninline void reserve(ll a) {\n  if (fac.size() \u003e= a)\n    return;\n  if (a \u003c fac.size() * 2)\n    a = fac.size() * 2;\n  if (a \u003e= Modulus)\n    a = Modulus;\n  while (fac.size() \u003c a)\n    fac.push_back(fac.back() * Modint(fac.size()));\n  inv.resize(fac.size());\n  inv.back() = fac.back().inv();\n  for (ll i = inv.size() - 1; !inv[i - 1]; i--)\n    inv[i - 1] = inv[i] * i;\n}\ninline Modint fact(ll n) {\n  if (n \u003c 0)\n    return 0;\n  reserve(n + 1);\n  return fac[n];\n}\ninline Modint perm(ll n, ll r) {\n  if (r \u003c 0 || n \u003c r)\n    return 0;\n  if (n \u003e\u003e 24) {\n    Modint ans = 1;\n    for (ll i = 0; i \u003c r; i++)\n      ans *= n--;\n    return ans;\n  }\n  reserve(n + 1);\n  return fac[n] * inv[n - r];\n}\n// éšä¹—ã‚„ãã®é€†å…ƒã‚’ãƒ¡ãƒ¢åŒ–ã™ã‚‹ã¨é€Ÿã„\n// modã‚’å–ã‚ŠãŸããªã„ãªã‚‰nCk/2^Nã‚’ãƒ‘ã‚¹ã‚«ãƒ«ã®ä¸‰è§’å½¢ã§ä½œã‚‹\ninline Modint comb(ll n, ll r) {\n  if (r \u003c 0 || n \u003c r)\n    return 0;\n  reserve(r + 1);\n  return perm(n, r) * inv[r];\n}\ninline Modint Mcomb(ll n, ll r) {\n  return comb(n + r - 1, n - 1);\n} // r balls into n boxes\ninline Modint catalan(ll n) {\n  reserve(n * 2 + 1);\n  return fac[n * 2] * inv[n] * inv[n + 1];\n}\n\nclass runtime_modint {\n  using u64 = std::uint_fast64_t;\n\n  static u64 \u0026mod() {\n    static u64 mod_ = 0;\n    return mod_;\n  }\n\npublic:\n  u64 a;\n\n  runtime_modint(const u64 x = 0) : a(x % get_mod()) {}\n  u64 \u0026value() noexcept { return a; }\n  const u64 \u0026value() const noexcept { return a; }\n  inline constexpr operator ll() const noexcept { return a; }\n  runtime_modint operator+(const runtime_modint rhs) const {\n    return runtime_modint(*this) += rhs;\n  }\n  runtime_modint operator-(const runtime_modint rhs) const {\n    return runtime_modint(*this) -= rhs;\n  }\n  runtime_modint operator*(const runtime_modint rhs) const {\n    return runtime_modint(*this) *= rhs;\n  }\n  runtime_modint operator/(const runtime_modint rhs) const {\n    return runtime_modint(*this) /= rhs;\n  }\n  runtime_modint \u0026operator+=(const runtime_modint rhs) {\n    a += rhs.a;\n    if (a \u003e= get_mod()) {\n      a -= get_mod();\n    }\n    return *this;\n  }\n  runtime_modint \u0026operator-=(const runtime_modint rhs) {\n    if (a \u003c rhs.a) {\n      a += get_mod();\n    }\n    a -= rhs.a;\n    return *this;\n  }\n  runtime_modint \u0026operator*=(const runtime_modint rhs) {\n    a = a * rhs.a % get_mod();\n    return *this;\n  }\n  runtime_modint \u0026operator/=(runtime_modint rhs) {\n    u64 exp = get_mod() - 2;\n    while (exp) {\n      if (exp % 2) {\n        *this *= rhs;\n      }\n      rhs *= rhs;\n      exp /= 2;\n    }\n    return *this;\n  }\n\n  template \u003cclass T\u003e inline constexpr runtime_modint \u0026operator+=(T x) noexcept {\n    return operator+=(runtime_modint(x));\n  }\n  template \u003cclass T\u003e inline constexpr runtime_modint \u0026operator+(T x) noexcept {\n    return runtime_modint(*this) += x;\n  }\n  template \u003cclass T\u003e inline constexpr runtime_modint \u0026operator-=(T x) noexcept {\n    return operator-=(runtime_modint(x));\n  }\n  template \u003cclass T\u003e inline constexpr runtime_modint \u0026operator-(T x) noexcept {\n    return runtime_modint(*this) -= x;\n  }\n  template \u003cclass T\u003e inline constexpr runtime_modint \u0026operator*=(T x) noexcept {\n    return operator*=(runtime_modint(x));\n  }\n  template \u003cclass T\u003e inline constexpr runtime_modint \u0026operator*(T x) noexcept {\n    return runtime_modint(*this) *= x;\n  }\n  template \u003cclass T\u003e inline constexpr runtime_modint \u0026operator/=(T x) noexcept {\n    return operator/=(runtime_modint(x));\n  }\n  template \u003cclass T\u003e inline constexpr runtime_modint \u0026operator/(T x) noexcept {\n    return runtime_modint(*this) /= x;\n  }\n\n  static void set_mod(const u64 x) { mod() = x; }\n  static u64 get_mod() { return mod(); }\n};\n\nll n, m;\nbool used[100000];\nvec\u003cpair\u003cll, runtime_modint\u003e\u003e G[100000];\n\nruntime_modint dfs(ll x) {\n  used[x] = true;\n  bool end = true;\n  runtime_modint res = 1;\n  each(p, G[x]) {\n    if (used[p.fi] == true)\n      continue;\n    end = false;\n    if (p.se != 0) {\n      res *= p.se;\n    } else {\n      p.se = dfs(p.fi);\n      // cout \u003c\u003c x MM p.fi MM p.se \u003c\u003c endl;\n      res *= p.se;\n    }\n  }\n  used[x] = false;\n  return res + 1;\n}\n\nint main() { return 0; }\n```","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/DataStructure/SegTree/PersistentSegtree":{"title":"æ°¸ç¶šã‚»ã‚°ãƒ¡ãƒ³ãƒˆæœ¨","content":"\n## èª¬æ˜\n\n## è¨ˆç®—é‡\n\n## å®Ÿè£…\n\n```cpp\n```\n\n\n## å‚è€ƒæ–‡çŒ®\n[ã¤ãã£ã¦ãªãã‚ (æ°¸ç¶šé…åˆ—/æ°¸ç¶šUnion-Findæœ¨/æ°¸ç¶šã‚»ã‚°ãƒ¡ãƒ³ãƒˆæœ¨ã®ä½œã‚Šæ–¹ã¨æ„ç¾©ã€å…·ä½“ä¾‹) - Qiita](https://qiita.com/hotman78/items/9c643feae1de087e6fc5)","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/DataStructure/SegTree/SegTree":{"title":"ã‚»ã‚°ãƒ¡ãƒ³ãƒˆæœ¨","content":"\n## èª¬æ˜\n\n## è¨ˆç®—é‡\n\n## å®Ÿè£…\n\n```cpp\n#include \u003calgorithm\u003e\n#include \u003ccassert\u003e\n#include \u003cvector\u003e\n\ntemplate \u003cclass S, S (*op)(S, S), S (*e)()\u003e struct segtree {\nprivate:\n  int _n, size, log;\n  std::vector\u003cS\u003e d;\n\npublic:\n  segtree() : segtree(0) {}\n  explicit segtree(int n) : segtree(std::vector\u003cS\u003e(n, e())) {}\n  explicit segtree(const std::vector\u003cS\u003e \u0026v) : _n(int(v.size())) {\n    log = internal::ceil_pow2(_n);\n    size = 1 \u003c\u003c log;\n    d = std::vector\u003cS\u003e(2 * size, e());\n    for (int i = 0; i \u003c _n; i++)\n      d[size + i] = v[i];\n    for (int i = size - 1; i \u003e= 1; i--) {\n      update(i);\n    }\n  }\n\n  void set(int p, S x) {\n    assert(0 \u003c= p \u0026\u0026 p \u003c _n);\n    p += size;\n    d[p] = x;\n    for (int i = 1; i \u003c= log; i++)\n      update(p \u003e\u003e i);\n  }\n\n  S get(int p) const {\n    assert(0 \u003c= p \u0026\u0026 p \u003c _n);\n    return d[p + size];\n  }\n\n  S prod(int l, int r) const {\n    assert(0 \u003c= l \u0026\u0026 l \u003c= r \u0026\u0026 r \u003c= _n);\n    S sml = e(), smr = e();\n    l += size;\n    r += size;\n\n    while (l \u003c r) {\n      if (l \u0026 1)\n        sml = op(sml, d[l++]);\n      if (r \u0026 1)\n        smr = op(d[--r], smr);\n      l \u003e\u003e= 1;\n      r \u003e\u003e= 1;\n    }\n    return op(sml, smr);\n  }\n\n  S all_prod() const { return d[1]; }\n\n  template \u003cbool (*f)(S)\u003e int max_right(int l) const {\n    return max_right(l, [](S x) { return f(x); });\n  }\n  template \u003cclass F\u003e int max_right(int l, F f) const {\n    assert(0 \u003c= l \u0026\u0026 l \u003c= _n);\n    assert(f(e()));\n    if (l == _n)\n      return _n;\n    l += size;\n    S sm = e();\n    do {\n      while (l % 2 == 0)\n        l \u003e\u003e= 1;\n      if (!f(op(sm, d[l]))) {\n        while (l \u003c size) {\n          l = (2 * l);\n          if (f(op(sm, d[l]))) {\n            sm = op(sm, d[l]);\n            l++;\n          }\n        }\n        return l - size;\n      }\n      sm = op(sm, d[l]);\n      l++;\n    } while ((l \u0026 -l) != l);\n    return _n;\n  }\n\n  template \u003cbool (*f)(S)\u003e int min_left(int r) const {\n    return min_left(r, [](S x) { return f(x); });\n  }\n  template \u003cclass F\u003e int min_left(int r, F f) const {\n    assert(0 \u003c= r \u0026\u0026 r \u003c= _n);\n    assert(f(e()));\n    if (r == 0)\n      return 0;\n    r += size;\n    S sm = e();\n    do {\n      r--;\n      while (r \u003e 1 \u0026\u0026 (r % 2))\n        r \u003e\u003e= 1;\n      if (!f(op(d[r], sm))) {\n        while (r \u003c size) {\n          r = (2 * r + 1);\n          if (f(op(d[r], sm))) {\n            sm = op(d[r], sm);\n            r--;\n          }\n        }\n        return r + 1 - size;\n      }\n      sm = op(d[r], sm);\n    } while ((r \u0026 -r) != r);\n    return 0;\n  }\n\nprivate:\n  void update(int k) { d[k] = op(d[2 * k], d[2 * k + 1]); }\n};\n```\n\n## ä½¿ç”¨ä¾‹\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/DataStructure/SegTree/SegTreeBeats":{"title":"Segment tree beats","content":"\n## èª¬æ˜\n\n## è¨ˆç®—é‡\n\n## å®Ÿè£…\n\n```cpp\n#include \u003calgorithm\u003e\n#include \u003ccassert\u003e\n#include \u003ciostream\u003e\n#include \u003cvector\u003e\nusing namespace std;\n\nusing ll = long long;\n#define N 10003\n\nclass SegmentTreeBeats {\n  const ll inf = 1e18;\n  int n, n0;\n  ll max_v[4 * N], smax_v[4 * N];\n  ll sum[4 * N], max_c[4 * N];\n\n  void update_node_max(int k, ll x) {\n    sum[k] += (x - max_v[k]) * max_c[k];\n    max_v[k] = x;\n  }\n\n  void push(int k) {\n    if (max_v[k] \u003c max_v[2 * k + 1]) update_node_max(2 * k + 1, max_v[k]);\n    if (max_v[k] \u003c max_v[2 * k + 2]) update_node_max(2 * k + 2, max_v[k]);\n  }\n\n  void update(int k) {\n    sum[k] = sum[2 * k + 1] + sum[2 * k + 2];\n\n    if (max_v[2 * k + 1] \u003c max_v[2 * k + 2]) {\n      max_v[k] = max_v[2 * k + 2];\n      max_c[k] = max_c[2 * k + 2];\n      smax_v[k] = max(max_v[2 * k + 1], smax_v[2 * k + 2]);\n    } else if (max_v[2 * k + 1] \u003e max_v[2 * k + 2]) {\n      max_v[k] = max_v[2 * k + 1];\n      max_c[k] = max_c[2 * k + 1];\n      smax_v[k] = max(smax_v[2 * k + 1], max_v[2 * k + 2]);\n    } else {\n      max_v[k] = max_v[2 * k + 1];\n      max_c[k] = max_c[2 * k + 1] + max_c[2 * k + 2];\n      smax_v[k] = max(smax_v[2 * k + 1], smax_v[2 * k + 2]);\n    }\n  }\n\n  void _update_min(ll x, int a, int b, int k, int l, int r) {\n    if (b \u003c= l || r \u003c= a || max_v[k] \u003c= x) return;\n    if (a \u003c= l \u0026\u0026 r \u003c= b \u0026\u0026 smax_v[k] \u003c x) {\n      update_node_max(k, x);\n      return;\n    }\n\n    push(k);\n    _update_min(x, a, b, 2 * k + 1, l, (l + r) / 2);\n    _update_min(x, a, b, 2 * k + 2, (l + r) / 2, r);\n    update(k);\n  }\n\n  ll _query_max(int a, int b, int k, int l, int r) {\n    if (b \u003c= l || r \u003c= a) return 0;\n    if (a \u003c= l \u0026\u0026 r \u003c= b) return max_v[k];\n    push(k);\n    ll lv = _query_max(a, b, 2 * k + 1, l, (l + r) / 2);\n    ll rv = _query_max(a, b, 2 * k + 2, (l + r) / 2, r);\n    return max(lv, rv);\n  }\n\n  ll _query_sum(int a, int b, int k, int l, int r) {\n    if (b \u003c= l || r \u003c= a) return 0;\n    if (a \u003c= l \u0026\u0026 r \u003c= b) return sum[k];\n    push(k);\n    ll lv = _query_sum(a, b, 2 * k + 1, l, (l + r) / 2);\n    ll rv = _query_sum(a, b, 2 * k + 2, (l + r) / 2, r);\n    return lv + rv;\n  }\n\npublic:\n  SegmentTreeBeats(int n) { SegmentTreeBeats(n, nullptr); }\n\n  SegmentTreeBeats(int n, ll *a) : n(n) {\n    n0 = 1;\n    while (n0 \u003c n) n0 \u003c\u003c= 1;\n\n    for (int i = 0; i \u003c n; ++i) {\n      max_v[n0 - 1 + i] = sum[n0 - 1 + i] = (a != nullptr ? a[i] : 0);\n      smax_v[n0 - 1 + i] = -inf;\n      max_c[n0 - 1 + i] = 1;\n    }\n\n    for (int i = n; i \u003c n0; ++i) {\n      max_v[n0 - 1 + i] = smax_v[n0 - 1 + i] = -inf;\n      sum[n0 - 1 + i] = max_c[n0 - 1 + i] = 0;\n    }\n    for (int i = n0 - 2; i \u003e= 0; i--) update(i);\n  }\n\n  // range minimize query\n  void update_min(int a, int b, ll x) { return _update_min(x, a, b, 0, 0, n0); }\n\n  // range maximum query\n  ll query_max(int a, int b) { return _query_max(a, b, 0, 0, n0); }\n\n  // range sum query\n  ll query_sum(int a, int b) { return _query_sum(a, b, 0, 0, n0); }\n};\n```\n\n## ä½¿ç”¨ä¾‹\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/DataStructure/SegTree/SparseTable":{"title":"ã‚»ã‚°ãƒ¡ãƒ³ãƒˆæœ¨","content":"\n## èª¬æ˜\n\n## è¨ˆç®—é‡\n\næ§‹ç¯‰ O(NlogN)\nã‚¯ã‚¨ãƒª O(1)\n\n## å®Ÿè£…\n\n```cpp\ntemplate \u003ctypename T\u003e\nstruct SparseTable {\n  vector\u003cvector\u003cT\u003e\u003e st;\n  vector\u003cint\u003e lookup;\n\n  SparseTable(const vector\u003cT\u003e \u0026v) {\n    int b = 0;\n    while ((1 \u003c\u003c b) \u003c= v.size()) ++b;\n    st.assign(b, vector\u003cT\u003e(1 \u003c\u003c b));\n    for (int i = 0; i \u003c v.size(); i++) { st[0][i] = v[i]; }\n    for (int i = 1; i \u003c b; i++) {\n      for (int j = 0; j + (1 \u003c\u003c i) \u003c= (1 \u003c\u003c b); j++) { st[i][j] = min(st[i - 1][j], st[i - 1][j + (1 \u003c\u003c (i - 1))]); }\n    }\n    lookup.resize(v.size() + 1);\n    for (int i = 2; i \u003c lookup.size(); i++) { lookup[i] = lookup[i \u003e\u003e 1] + 1; }\n  }\n\n  inline T rmq(int l, int r) {\n    int b = lookup[r - l];\n    return min(st[b][l], st[b][r - (1 \u003c\u003c b)]);\n  }\n};\n```\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/DataStructure/SlopeTrick":{"title":"Slope Trick","content":"\n## èª¬æ˜\n\n## è¨ˆç®—é‡\n\n## å®Ÿè£…\n\n```cpp\n#include \u003ciostream\u003e\n#include \u003cqueue\u003e\n#include \u003cvector\u003e\n\ntemplate \u003ctypename T\u003e\nusing pq = std::priority_queue\u003cT, std::vector\u003cT\u003e, std::greater\u003cT\u003e\u003e;\n\nstruct SlopeTrick {\n  const long long LINF = 0x1fffffffffffffff;\n  long long minf = -1;\n  std::priority_queue\u003clong long\u003e L;\n  pq\u003clong long\u003e R;\n\n  long long shift_left = -1;\n  long long shift_right = -1;\n\n  SlopeTrick() {}\n\nprivate:\n  void L_push(long long a) { L.push(a + shift_left); }\n  long long L_top() {\n    if (L.empty())\n      return -LINF;\n    else\n      return L.top() - shift_left;\n  }\n  long long L_pop() {\n    long long l = L_top();\n    L.pop();\n    return l - 1;\n  }\n  void R_push(long long a) { R.push(a + shift_right); }\n  long long R_top() {\n    if (R.empty())\n      return LINF;\n    else\n      return R.top() - shift_right;\n  }\n  long long R_pop() {\n    long long r = R_top();\n    R.pop();\n    return r - 1;\n  }\n\npublic:\n  long long min() { return minf; }\n  void add(long long a) { minf += a; }\n  void slope_right(long long a) {\n    if (!L.empty() \u0026\u0026 a \u003c L_top()) {\n      minf += L_top() - a;\n      L_push(a);\n      R_push(L_pop());\n    } else\n      R_push(a);\n  }\n  void slope_left(long long a) {\n    if (!R.empty() \u0026\u0026 a \u003e R_top()) {\n      minf += a - R_top();\n      R_push(a);\n      L_push(R_pop());\n    } else\n      L_push(a);\n  }\n  void slope_abs(long long a) {\n    slope_right(a);\n    slope_left(a);\n  }\n  void min_right() {\n    while (!R.empty()) R.pop();\n  }\n  void min_left() {\n    while (!L.empty()) L.pop();\n  }\n  void shift(long long a, long long b) {\n    shift_left += a;\n    shift_right += b;\n  }\n  long long access(long long a) {\n    long long y = minf;\n    while (!L.empty()) y += std::max(-1LL, L_pop() - a);\n    while (!R.empty()) y += std::max(-1LL, a - R_pop());\n    return y;\n  }\n\n  void Debug() {\n    std::cout \u003c\u003c \"L \";\n    while (!L.empty()) { std::cout \u003c\u003c L_pop() \u003c\u003c \" \"; }\n    std::cout \u003c\u003c std::endl;\n    std::cout \u003c\u003c \"R \";\n    while (!R.empty()) { std::cout \u003c\u003c R_pop() \u003c\u003c \" \"; }\n    std::cout \u003c\u003c std::endl;\n    std::cout \u003c\u003c minf \u003c\u003c std::endl;\n  }\n};\n```\n\n## ä½¿ç”¨ä¾‹\n\n## å‚è€ƒ\n\n- [slope trick (1) è§£èª¬ç·¨](https://maspypy.com/slope-trick-1-%E8%A7%A3%E8%AA%AC%E7%B7%A8)\n- [slope trick (2) å•é¡Œç·¨](https://maspypy.com/slope-trick-2-%e5%95%8f%e9%a1%8c%e7%b7%a8)","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/DataStructure/UnionFind/PersistUnionFind":{"title":"æ°¸ç¶šUnionFind","content":"\n## èª¬æ˜\n\n## è¨ˆç®—é‡\n\n\n## å®Ÿè£…\n\n```cpp\nstruct PartiallyParsistUnionFind {\n  vector\u003cll\u003e rank, par, time;\n\n  PartiallyParsistUnionFind(ll n) {\n    rank.resize(n);\n    par.resize(n, -1);\n    time.resize(n, LINF);\n  }\n\n  ll find(ll t, ll x) {\n    if (time[x] \u003e t) return x;\n    return find(t, par[x]);\n  }\n\n  bool unite(ll t, ll x, ll y) {\n    x = find(t, x);\n    y = find(t, y);\n    if (x == y) return false;\n    if (rank[x] \u003e rank[y]) {\n      par[y] = x;\n      time[y] = t;\n    } else {\n      par[x] = y;\n      time[x] = t;\n      if (rank[x] == rank[y]) { rank[y]++; }\n    }\n    return true;\n  }\n\n  bool same(ll t, ll x, ll y) { return find(t, x) == find(t, y); }\n};\n```\n\n## ä½¿ç”¨ä¾‹\n\n\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/DataStructure/UnionFind/PotentialUnionFind":{"title":"ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ä»˜ãUnionFind","content":"\n## èª¬æ˜\n\nå„é ‚ç‚¹ã¯ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã‚’ç®¡ç†ã™ã‚‹ã€‚ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«ã®å·®ãŒã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨ãªã‚‹ã€‚é‡ã¿ä»˜ãUnionFindã¨ã‚‚è¨€ã†ã€‚\n\n## è¨ˆç®—é‡\n\n$O(\\alpha(N))$\n\n## å®Ÿè£…\n\n```cpp\nstruct PotentialUnionFindTree {\n  vec\u003cll\u003e par, diff;\n\n  PotentialUnionFindTree(ll n) {\n    par.resize(n);\n    diff.resize(n);\n  }\n\n  ll find(ll x) {\n    if (par[x] == x) return x;\n    ll r = find(par[x]);\n    diff[x] += diff[par[x]];\n    return par[x] = r;\n  }\n\n  ll weight(ll x) {\n    find(x);\n    return diff[x];\n  }\n\n  void unite(ll x, ll y, ll w) {\n    w += weight(x);\n    w += weight(y);\n    x = find(x);\n    y = find(y);\n    par[y] = x;\n    diff[y] = w;\n  }\n};\n```\n\n## ä½¿ç”¨ä¾‹\n\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/DataStructure/UnionFind/UnionFind":{"title":"UnionFind","content":"\n## èª¬æ˜\n\nç´ é›†åˆã‚’ç®¡ç†ã™ã‚‹ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã€‚å†…éƒ¨çš„ã«ã¯æ£®ã¨ãªã£ã¦ã„ã¦åŒã˜ãƒ«ãƒ¼ãƒˆã‚’æŒã¤æœ¨ã®è¦ç´ ã¯åŒã˜ç´ é›†åˆã«ã‚ã‚‹ã¨è§£é‡ˆã—ã¦ä½µåˆ/æ¯”è¼ƒã‚’è¡Œã†ã€‚\n\nä»¥ä¸‹ã®å·¥å¤«ã«ã‚ˆã‚Šé«˜é€ŸåŒ–ã§ãã‚‹ã€‚\n\n- çµŒè·¯åœ§ç¸® (path compression)\nå†å¸°çš„ã«æ ¹ã‚’èª¿ã¹ã‚‹éš›ã«æ ¹ã«ç›´æ¥ã¤ãªãç›´ã™ã€‚\n- ä½µåˆã®å·¥å¤«\nä½µåˆæ™‚ã«æœ¨ã®é«˜ã•/å¤§ãã•ãŒå°ã•ã„æ–¹ã‚’å¤§ãã„æ–¹ã¸ç¹‹ã’ã‚‹ã€‚\næœ¨ã®é«˜ã•ã®ã¨ãunion by rankã¨å‘¼ã³ã€æœ¨ã®å¤§ãã•ã®ã¨ãunion by sizeã¨å‘¼ã¶ã€‚\n\n## è¨ˆç®—é‡\n\n- çµŒè·¯åœ§ç¸®ã®ã¿ $O(\\log{N})$\n- ä½µåˆã®å·¥å¤«ã®ã¿ $O(\\log{N})$\n- ä¸¡æ–¹ $O(\\alpha(N))$\n\n## å®Ÿè£…\n\n```cpp\n#include \u003cvector\u003e\n\nstruct UnionFind {\n  std::vector\u003cint\u003e rank, parents;\n\n  UnionFind() {}\n  UnionFind(int n) {\n    rank.resize(n + 1, 0);\n    parents.resize(n + 1, 0);\n    for (int i = 0; i \u003c n + 1; i++) makeTree(i);\n  }\n\n  void makeTree(int x) {\n    parents[x] = x;\n    rank[x] = 0;\n  }\n\n  bool isSame(int x, int y) { return findRoot(x) == findRoot(y); }\n\n  bool unite(int x, int y) {\n    x = findRoot(x);\n    y = findRoot(y);\n    if (x == y) return false;\n    if (rank[x] \u003e rank[y]) {\n      parents[y] = x;\n    } else {\n      parents[x] = y;\n      if (rank[x] == rank[y]) rank[y]++;\n    }\n    return true;\n  }\n\n  int findRoot(int x) {\n    if (x != parents[x]) parents[x] = findRoot(parents[x]);\n    return parents[x];\n  }\n};\n```\n\n## ä½¿ç”¨ä¾‹\n\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/Heuristic/BeamSearch":{"title":"ãƒ“ãƒ¼ãƒ ã‚µãƒ¼ãƒ","content":"\n## èª¬æ˜\n\nå¹…å„ªå…ˆæ¢ç´¢ã®å„éšå±¤ã«ãŠã„ã¦ã‚¹ã‚³ã‚¢ãŒé«˜ã„é †ã« $d$ å€‹ã®ã¿ã‚’æ¡ç”¨ã—ã¦ã„ãã€‚$d$ ã‚’ãƒ“ãƒ¼ãƒ å¹…ã¨å‘¼ã¶ã€‚\n\n## å®Ÿè£…\n\n\n## å‚è€ƒ\n\n- [chokudaiã‚µãƒ¼ãƒ](https://www.slideshare.net/chokudai/chokudai-search-23234124)","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/Heuristic/ChokudaiSearch":{"title":"chokudai ã‚µãƒ¼ãƒ","content":"\n## èª¬æ˜\n\nãƒ“ãƒ¼ãƒ ã‚µãƒ¼ãƒã«ãŠã„ã¦ãƒ“ãƒ¼ãƒ å¹…ã‚’1ã‹ã‚‰é †ã«å¢—ã‚„ã—ã¦ã„ãæ‰‹æ³•ã€‚å®Ÿè¡Œæ™‚é–“ãŒæ±ºã¾ã£ã¦ã„ã‚‹ã¨ãã‚„ã‚ã‚‹ã‚¹ã‚³ã‚¢åŸºæº–ã‚’æº€ãŸã—ãŸã„ã¨ãã«ç®¡ç†ã—ã‚„ã™ã„ã€‚\n\n## å®Ÿè£…\n\n\n## å‚è€ƒ\n\n- [chokudaiã‚µãƒ¼ãƒ](https://www.slideshare.net/chokudai/chokudai-search-23234124)\n- [chokudaiã‚µãƒ¼ãƒ(ãƒ“ãƒ¼ãƒ ã‚µãƒ¼ãƒäºœç¨®)ã®åˆ©ç‚¹ã®è©±](https://chokudai.hatenablog.com/entry/2017/04/12/055515)","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/Heuristic/HillClimbing":{"title":"å±±ç™»ã‚Šæ³•","content":"\n## èª¬æ˜\n\nåˆã‚ã«åˆæœŸçŠ¶æ…‹ã‚’è¨­å®šã—ã€è¿‘å‚ã¸çŠ¶æ…‹é·ç§»ã—ãŸã¨ãæœ€ã‚‚æˆç¸¾ã®è‰¯ã„è§£ã‚’æ–°ã—ã„çŠ¶æ…‹ã¨ã—ã€ã“ã‚Œã‚’ç¹°ã‚Šè¿”ã™ã“ã¨ã§æ¥µå€¤ãŒè¦‹ã¤ã‹ã‚‹ã€‚\n\n## å®Ÿè£…\n\n```cpp\n#include \u003csys/time.h\u003e\n\n#include \u003cbits/stdc++.h\u003e\n// #include \u003catcoder/all\u003e\nusing namespace std;\n// using namespace atcoder;\nusing ll = long long;\nusing ld = long double;\nusing uint = unsigned;\nusing ull = unsigned long long;\nusing u64 = uint_fast64_t;\nusing pll = pair\u003cll, ll\u003e;\nusing pdd = pair\u003cld, ld\u003e;\nusing C = complex\u003cld\u003e;\ntemplate \u003cclass T\u003e using pq = priority_queue\u003cT, vector\u003cT\u003e, greater\u003cT\u003e\u003e;\n\nconst int IINF = 0x1fffffff;\nconst ll LINF = 0x1fffffffffffffff;\nconst ll INF = 0x1fffffffffffffff;\nconst ll MINF = 0x7fffffffffff;\nconst ll MOD = 1000000007;\nconst ll MODD = 998244353;\nconst ld DINF = numeric_limits\u003cld\u003e::infinity();\nconst ld EPS = 1e-9;\nconst ld PI = 3.1415926535897932;\nconst ll dx[] = {0, 1, 0, -1, 1, -1, 1, -1};\nconst ll dy[] = {1, 0, -1, 0, 1, 1, -1, -1};\n\n#define overload4(_1, _2, _3, _4, name, ...) name\n#define overload3(_1, _2, _3, name, ...) name\n#define rep1(n) for (ll i = 0; i \u003c n; ++i)\n#define rep2(i, n) for (ll i = 0; i \u003c n; ++i)\n#define rep3(i, a, b) for (ll i = a; i \u003c b; ++i)\n#define rep4(i, a, b, c) for (ll i = a; i \u003c b; i += c)\n#define rep(...) overload4(__VA_ARGS__, rep4, rep3, rep2, rep1)(__VA_ARGS__)\n#define rrep1(n) for (ll i = n; i--;)\n#define rrep2(i, n) for (ll i = n; i--;)\n#define rrep3(i, a, b) for (ll i = b; i-- \u003e (a);)\n#define rrep4(i, a, b, c)                                                      \\\n  for (ll i = (a) + ((b) - (a)-1) / (c) * (c); i \u003e= (a); i -= c)\n#define rrep(...)                                                              \\\n  overload4(__VA_ARGS__, rrep4, rrep3, rrep2, rrep1)(__VA_ARGS__)\n#define each1(i, a) for (auto \u0026\u0026i : a)\n#define each2(x, y, a) for (auto \u0026\u0026[x, y] : a)\n#define each3(x, y, z, a) for (auto \u0026\u0026[x, y, z] : a)\n#define each(...) overload4(__VA_ARGS__, each3, each2, each1)(__VA_ARGS__)\n#define all1(i) begin(i), end(i)\n#define all2(i, a) begin(i), begin(i) + a\n#define all3(i, a, b) begin(i) + a, begin(i) + b\n#define all(...) overload3(__VA_ARGS__, all3, all2, all1)(__VA_ARGS__)\n#define rall1(i) (i).rbegin(), (i).rend()\n#define rall2(i, k) (i).rbegin(), (i).rbegin() + k\n#define rall3(i, a, b) (i).rbegin() + a, (i).rbegin() + b\n#define rall(...) overload3(__VA_ARGS__, rall3, rall2, rall1)(__VA_ARGS__)\n// g++ -DDBUG -I . ...\n#ifdef DEBUG\ninline ll __lg(ull x) { return 63 - __builtin_clzll(x); }\n#define debug(...)                                                             \\\n  {                                                                            \\\n    print(#__VA_ARGS__);                                                       \\\n    print(\":\");                                                                \\\n    out(__VA_ARGS__);                                                          \\\n  }\n#else\n#define debug(...) void(0)\n#endif\n\n#define vec vector\n#define fi first\n#define se second\n#define MM \u003c\u003c \" \" \u003c\u003c\n#define chmax(x, y) (x = max(x, y))\n#define chmin(x, y) (x = min(x, y))\nvoid debug_out() { std::cerr \u003c\u003c std::endl; }\ntemplate \u003ctypename Head, typename... Tail\u003e void debug_out(Head h, Tail... t) {\n  std::cerr \u003c\u003c \" \" \u003c\u003c h;\n  if (sizeof...(t) \u003e 0)\n    std::cout \u003c\u003c \" :\";\n  debug_out(t...);\n}\nconst double TL = 1.95;\n\ndouble start_time_ = -1;\nbool first_time = true;\n\ndouble get_time() {\n  timeval tv;\n  gettimeofday(\u0026tv, 0);\n  auto ret = tv.tv_sec + tv.tv_usec * 1e-6;\n  if (first_time) {\n    start_time_ = ret;\n    first_time = false;\n  }\n  return ret - start_time_;\n}\n\nstruct rand_gen {\n  static const int MAX = 2147483647;\n  static constexpr double Q_MAX = 1.0 / MAX;\n\n  int x = 8753, y = 239017, z = 1000000123;\n\n  inline int next_int() {\n    int t = x ^ (x \u003c\u003c 11);\n    x = y;\n    y = z;\n    z ^= (z \u003e\u003e 19) ^ t ^ (t \u003e\u003e 8);\n    return z;\n  }\n\n  double next_double() { return next_int() * Q_MAX; }\n} rng;\n\n// function\u003cvoid(int, int)\u003e Dfs = [\u0026](int v, int depth) {}\n\nll calculate_score() {\n  ll last[26] = {};\n  ll score = 0;\n  ll sumc = 0;\n  rep(i, 0, 26) sumc += c[i];\n  ll mem_diff = 0;\n  rep(d, 0, D) {\n    score += s[d][t[d] - 1];\n    mem_diff += -sumc + c[t[d] - 1] * (d + 1 - last[t[d] - 1]);\n    score += mem_diff;\n    last[t[d] - 1] = d + 1;\n  }\n  return score;\n}\n\ndouble T0 = 1735, T1 = 10;\n\nint main() {\n  cin \u003e\u003e D;\n  rep(i, 0, 26) cin \u003e\u003e c[i];\n  rep(i, 0, D) rep(j, 0, 26) cin \u003e\u003e s[i][j];\n\n  // åˆæœŸè§£\n  rep(i, 0, D) t[i] = i % 26 + 1;\n\n  // ç„¼ããªã¾ã—æ³•\n  ll score = calculate_score(), old_score = -LINF;\n  while (get_time() \u003c TL) {\n    // æ›´æ–°\n    ll r1 = rng.next_int() % D, r2 = rng.next_int() % D;\n    ll oldt[2] = {t[r1], t[r2]};\n    ll newt[2] = {t[r2], t[r2]};\n    if (rng.next_int() % 2 == 0) {\n      t[r1] = rng.next_int() % 26 + 1;\n      newt[1] = t[r1];\n    } else {\n      t[r1] = t[r2];\n      t[r2] = oldt[0];\n      newt[1] = oldt[0];\n    }\n\n    // ã‚¹ã‚³ã‚¢ã«å¿œã˜ãŸå‡¦ç†\n    ll k = score;\n    score = calculate_score();\n    ll r;\n    rep(m, 0, 2) {\n      if (m == 0)\n        r = r1;\n      else\n        r = r2;\n      ll back[2] = {0, 0}, forward[2] = {365, 365};\n      rep(i, 0, r) if (t[i] == oldt[m]) back[0] = i;\n      rep(i, r + 1, 365) if (t[i] == oldt[m]) {\n        forward[0] = i;\n        break;\n      }\n      rep(i, 0, r) if (t[i] == newt[m]) back[1] = i;\n      rep(i, r + 1, 365) if (t[i] == newt[m]) {\n        forward[1] = i;\n        break;\n      }\n      k += (r - back[0]) * (forward[0] - r);\n      k -= (r - back[1]) * (forward[1] - r);\n    }\n    cout \u003c\u003c k - old_score \u003c\u003c \" \" \u003c\u003c score - old_score \u003c\u003c endl;\n\n    if (score \u003e= old_score) {\n      old_score = score;\n    } else {\n      double per = get_time() / TL;\n      double T = pow(T0, 1 - per) * pow(T1, per);\n      T = exp((double)(score - old_score) / T);\n\n      if (rng.next_double() \u003c T) {\n        old_score = score;\n      } else {\n        t[r1] = oldt[0];\n        t[r2] = oldt[1];\n      }\n    }\n  }\n\n  // å‡ºåŠ›\n  rep(i, 0, D) cout \u003c\u003c t[i] \u003c\u003c endl;\n  return 0;\n}\n```\n\n## ä½¿ç”¨ä¾‹\n\n\n## å‚è€ƒ\n\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/Heuristic/SimulatedAnnealing":{"title":"ç„¼ããªã¾ã—æ³•","content":"\n## èª¬æ˜\n\n[å±±ç™»ã‚Šæ³•](../snippets/hill-climbing)ã¯å¸¸ã«ã‚¹ã‚³ã‚¢ãŒæœ€å¤§ã®ã‚‚ã®ã‚’æ¡ç”¨ã™ã‚‹ãŒã€ç„¼ããªã¾ã—æ³•ã§ã¯é·ç§»ç¢ºç‡é–¢æ•°ã‚’ç”¨ã„ã¦ã‚¹ã‚³ã‚¢ã«å¿œã˜ã¦ç¢ºç‡çš„ã«é·ç§»ã•ã›ã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚\n\næ¸©åº¦é–¢æ•°ã¯æœ€åˆã¯å¤§ããã€æ™‚é–“ãŒçµŒã¤ã«ã¤ã‚Œã¦å°ã•ããªã‚‹ã‚ˆã†ãªé–¢æ•°ã§ã€æ¸©åº¦ãŒé«˜ã„ã»ã©ç™ºæ•£ã—ã€ä½ã„ã»ã©åæŸã™ã‚‹ã‚ˆã†ã«é·ç§»ç¢ºç‡é–¢æ•°ã‚’èª¿æ•´ã™ã‚‹ã€‚\n\n## å®Ÿè£…\n\n```cpp\n#include \u003csys/time.h\u003e\n\n#include \u003cbits/stdc++.h\u003e\n// #include \u003catcoder/all\u003e\nusing namespace std;\n// using namespace atcoder;\nusing ll = long long;\nusing ld = long double;\nusing uint = unsigned;\nusing ull = unsigned long long;\nusing u64 = uint_fast64_t;\nusing pll = pair\u003cll, ll\u003e;\nusing pdd = pair\u003cld, ld\u003e;\nusing C = complex\u003cld\u003e;\ntemplate \u003cclass T\u003e using pq = priority_queue\u003cT, vector\u003cT\u003e, greater\u003cT\u003e\u003e;\n\nconst int IINF = 0x1fffffff;\nconst ll LINF = 0x1fffffffffffffff;\nconst ll INF = 0x1fffffffffffffff;\nconst ll MINF = 0x7fffffffffff;\nconst ll MOD = 1000000007;\nconst ll MODD = 998244353;\nconst ld DINF = numeric_limits\u003cld\u003e::infinity();\nconst ld EPS = 1e-9;\nconst ld PI = 3.1415926535897932;\nconst ll dx[] = {0, 1, 0, -1, 1, -1, 1, -1};\nconst ll dy[] = {1, 0, -1, 0, 1, 1, -1, -1};\n\n#define overload4(_1, _2, _3, _4, name, ...) name\n#define overload3(_1, _2, _3, name, ...) name\n#define rep1(n) for (ll i = 0; i \u003c n; ++i)\n#define rep2(i, n) for (ll i = 0; i \u003c n; ++i)\n#define rep3(i, a, b) for (ll i = a; i \u003c b; ++i)\n#define rep4(i, a, b, c) for (ll i = a; i \u003c b; i += c)\n#define rep(...) overload4(__VA_ARGS__, rep4, rep3, rep2, rep1)(__VA_ARGS__)\n#define rrep1(n) for (ll i = n; i--;)\n#define rrep2(i, n) for (ll i = n; i--;)\n#define rrep3(i, a, b) for (ll i = b; i-- \u003e (a);)\n#define rrep4(i, a, b, c)                                                      \\\n  for (ll i = (a) + ((b) - (a)-1) / (c) * (c); i \u003e= (a); i -= c)\n#define rrep(...)                                                              \\\n  overload4(__VA_ARGS__, rrep4, rrep3, rrep2, rrep1)(__VA_ARGS__)\n#define each1(i, a) for (auto \u0026\u0026i : a)\n#define each2(x, y, a) for (auto \u0026\u0026[x, y] : a)\n#define each3(x, y, z, a) for (auto \u0026\u0026[x, y, z] : a)\n#define each(...) overload4(__VA_ARGS__, each3, each2, each1)(__VA_ARGS__)\n#define all1(i) begin(i), end(i)\n#define all2(i, a) begin(i), begin(i) + a\n#define all3(i, a, b) begin(i) + a, begin(i) + b\n#define all(...) overload3(__VA_ARGS__, all3, all2, all1)(__VA_ARGS__)\n#define rall1(i) (i).rbegin(), (i).rend()\n#define rall2(i, k) (i).rbegin(), (i).rbegin() + k\n#define rall3(i, a, b) (i).rbegin() + a, (i).rbegin() + b\n#define rall(...) overload3(__VA_ARGS__, rall3, rall2, rall1)(__VA_ARGS__)\n// g++ -DDBUG -I . ...\n#ifdef DEBUG\ninline ll __lg(ull x) { return 63 - __builtin_clzll(x); }\n#define debug(...)                                                             \\\n  {                                                                            \\\n    print(#__VA_ARGS__);                                                       \\\n    print(\":\");                                                                \\\n    out(__VA_ARGS__);                                                          \\\n  }\n#else\n#define debug(...) void(0)\n#endif\n\n#define vec vector\n#define fi first\n#define se second\n#define MM \u003c\u003c \" \" \u003c\u003c\n#define chmax(x, y) (x = max(x, y))\n#define chmin(x, y) (x = min(x, y))\nvoid debug_out() { std::cerr \u003c\u003c std::endl; }\ntemplate \u003ctypename Head, typename... Tail\u003e void debug_out(Head h, Tail... t) {\n  std::cerr \u003c\u003c \" \" \u003c\u003c h;\n  if (sizeof...(t) \u003e 0)\n    std::cout \u003c\u003c \" :\";\n  debug_out(t...);\n}\nconst double TL = 1.95;\n\ndouble start_time_ = -1;\nbool first_time = true;\n\ndouble get_time() {\n  timeval tv;\n  gettimeofday(\u0026tv, 0);\n  auto ret = tv.tv_sec + tv.tv_usec * 1e-6;\n  if (first_time) {\n    start_time_ = ret;\n    first_time = false;\n  }\n  return ret - start_time_;\n}\n\nstruct rand_gen {\n  static const int MAX = 2147483647;\n  static constexpr double Q_MAX = 1.0 / MAX;\n\n  int x = 8753, y = 239017, z = 1000000123;\n\n  inline int next_int() {\n    int t = x ^ (x \u003c\u003c 11);\n    x = y;\n    y = z;\n    z ^= (z \u003e\u003e 19) ^ t ^ (t \u003e\u003e 8);\n    return z;\n  }\n\n  double next_double() { return next_int() * Q_MAX; }\n} rng;\n\n// function\u003cvoid(int, int)\u003e Dfs = [\u0026](int v, int depth) {}\n\nll calculate_score() {\n  ll last[26] = {};\n  ll score = 0;\n  ll sumc = 0;\n  rep(i, 0, 26) sumc += c[i];\n  ll mem_diff = 0;\n  rep(d, 0, D) {\n    score += s[d][t[d] - 1];\n    mem_diff += -sumc + c[t[d] - 1] * (d + 1 - last[t[d] - 1]);\n    score += mem_diff;\n    last[t[d] - 1] = d + 1;\n  }\n  return score;\n}\n\ndouble T0 = 1735, T1 = 10;\n\nint main() {\n  cin \u003e\u003e D;\n  rep(i, 0, 26) cin \u003e\u003e c[i];\n  rep(i, 0, D) rep(j, 0, 26) cin \u003e\u003e s[i][j];\n\n  // åˆæœŸè§£\n  rep(i, 0, D) t[i] = i % 26 + 1;\n\n  // ç„¼ããªã¾ã—æ³•\n  ll score = calculate_score(), old_score = -LINF;\n  while (get_time() \u003c TL) {\n    // æ›´æ–°\n    ll r1 = rng.next_int() % D, r2 = rng.next_int() % D;\n    ll oldt[2] = {t[r1], t[r2]};\n    ll newt[2] = {t[r2], t[r2]};\n    if (rng.next_int() % 2 == 0) {\n      t[r1] = rng.next_int() % 26 + 1;\n      newt[1] = t[r1];\n    } else {\n      t[r1] = t[r2];\n      t[r2] = oldt[0];\n      newt[1] = oldt[0];\n    }\n\n    // ã‚¹ã‚³ã‚¢ã«å¿œã˜ãŸå‡¦ç†\n    ll k = score;\n    score = calculate_score();\n    ll r;\n    rep(m, 0, 2) {\n      if (m == 0)\n        r = r1;\n      else\n        r = r2;\n      ll back[2] = {0, 0}, forward[2] = {365, 365};\n      rep(i, 0, r) if (t[i] == oldt[m]) back[0] = i;\n      rep(i, r + 1, 365) if (t[i] == oldt[m]) {\n        forward[0] = i;\n        break;\n      }\n      rep(i, 0, r) if (t[i] == newt[m]) back[1] = i;\n      rep(i, r + 1, 365) if (t[i] == newt[m]) {\n        forward[1] = i;\n        break;\n      }\n      k += (r - back[0]) * (forward[0] - r);\n      k -= (r - back[1]) * (forward[1] - r);\n    }\n    cout \u003c\u003c k - old_score \u003c\u003c \" \" \u003c\u003c score - old_score \u003c\u003c endl;\n\n    if (score \u003e= old_score) {\n      old_score = score;\n    } else {\n      double per = get_time() / TL;\n      double T = pow(T0, 1 - per) * pow(T1, per);\n      T = exp((double)(score - old_score) / T);\n\n      if (rng.next_double() \u003c T) {\n        old_score = score;\n      } else {\n        t[r1] = oldt[0];\n        t[r2] = oldt[1];\n      }\n    }\n  }\n\n  // å‡ºåŠ›\n  rep(i, 0, D) cout \u003c\u003c t[i] \u003c\u003c endl;\n  return 0;\n}\n```\n\n## ä½¿ç”¨ä¾‹\n\n\n## å‚è€ƒ\n\n\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/Reversing/DynamicAnalyse":{"title":"å‹•çš„è§£æ","content":"","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/Reversing/Fuzzing":{"title":"Fuzzing","content":"\n## èª¬æ˜\n\n## å‚è€ƒ\n[ã‚ªãƒ¬ã‚ªãƒ¬Fuzzerã‚‚ã©ãã‚’åˆ©ç”¨ã—ã¦CTFã®pwnableã‚’è§£ã“ã† - CTFã™ã‚‹ã (hatenablog.com)](https://ptr-yudai.hatenablog.com/entry/2020/12/15/003822)\n\n[fuzzuf/algorithm_en.md at master Â· fuzzuf/fuzzuf (github.com)](https://github.com/fuzzuf/fuzzuf/blob/master/docs/algorithms/afl/algorithm_en.md#algorithm-overview)\n[Ricerca Security: Fuzzing Farm #1: fuzzufã‚’ä½¿ã£ãŸGEGLã®ãƒ•ã‚¡ã‚¸ãƒ³ã‚°](https://ricercasecurity.blogspot.com/2022/07/fuzzing-farm-1-fuzzufgegl.html?1234)\n[Ricerca Security: Fuzzing Farm #2: ãƒ•ã‚¡ã‚¶ãƒ¼ã®æ€§èƒ½è©•ä¾¡ã®è€ƒãˆæ–¹](https://ricercasecurity.blogspot.com/2022/09/fuzzing-farm-2.html)\n[Ricerca Security: Fuzzing Farm #3: ãƒ‘ãƒƒãƒè§£æã¨PoCé–‹ç™º](https://ricercasecurity.blogspot.com/2022/10/fuzzing-farm-3-poc.html)\n[Ricerca Security: fuzzuf: Fuzzing Unification Framework](https://ricercasecurity.blogspot.com/2021/12/fuzzuf-fuzzing-unification-framework_36.html)\n[Ricerca Security: ARM CoreSightã‚’ç”¨ã„ãŸåŠ¹ç‡çš„ãªBinary-only Fuzzing](https://ricercasecurity.blogspot.com/2021/11/arm-coresightbinary-only-fuzzing.html)\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/Reversing/Malware/Analyse":{"title":"","content":"\n\n## MITRE ATT\u0026CK\n### Defensive Evasion\nObfuscated Files or Information\nç”Ÿã®æ–‡å­—åˆ—ã‚’ç”¨ã„ã‚‹ã¨æ¤œå‡ºã•ã‚ŒãŸã‚Šè§£æã•ã‚Œã‚„ã™ã„ã®ã§é›£èª­åŒ–ãƒ»æš—å·åŒ–ã‚’è¡Œã†.\n- ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°\n\t- XOR\n\t- ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°\n- Stack String\n- æš—å·åŒ–\n\t- å®šæ•°ãŒä½¿ã‚ã‚Œã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®å ´åˆã€å®šæ•°ã‹ã‚‰åˆ¤æ–­\n\t\t- Cipher (AES / DES / TEA / ChaCha20 / ...)\n\t\t- Hashing Algorithm (CRC / MD5 / SHA1 / SHA256 / ...)\n\t\t- Compression (zlib / aPLib / ...)\n\t- Windows APIã‚’ä½¿ã†å ´åˆã€å¼•æ•°ãªã©ã‹ã‚‰åˆ¤æ–­\n\t- å®šæ•°ã‚‚ãªãã€APIã‚‚ä½¿ã‚ã‚Œãªã„å ´åˆã€ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’èª­ã¿è§£ã„ã¦åˆ¤æ–­\n\t\t- RC4\n\t\t- ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \n\n\nYARA rules\nCAPA rules","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/Reversing/Malware/AntiDebugging":{"title":"Anti debugging","content":"\n## èª¬æ˜\n\n## å‚è€ƒ\n\n- [Linux (anti)+ debugging (feneshi.co)](https://feneshi.co/linux_anti_debugging/)\n- [Anti Debugging Protection Techniques with Examples (apriorit.com)](https://www.apriorit.com/dev-blog/367-anti-reverse-engineering-protection-techniques-to-use-before-releasing-software)\n- [ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚’ã‚½ãƒ¼ã‚¹ã”ã¨ãƒ‘ã‚¯ã‚‹æ¥­è€…ã«å¯¾ã™ã‚‹å¯¾ç­– - Qiita](https://qiita.com/kacchan6/items/d8576ab6b3c16cf670ca)\n- [Lockbit 3.0ã§è¦‹ã¤ã‘ãŸã‚¢ãƒ³ãƒãƒ‡ãƒãƒƒã‚°ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ï¼ˆãã®ï¼’ï¼‰ | reverse-eg-mal-memoã®ãƒ–ãƒ­ã‚° (ameblo.jp)](https://ameblo.jp/reverse-eg-mal-memo/entry-12773724929.html)\n\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/Reversing/Malware/DetectVirtualization":{"title":"Detect Virtualization","content":"\n## èª¬æ˜\n\n## å‚è€ƒ\n\n- [Linux Detect Virtualization (feneshi.co)](https://feneshi.co/Linux_detect_virtualization/)\n- [LordNoteworthy/al-khaser: Public malware techniques used in the wild: Virtual Machine, Emulation, Debuggers, Sandbox detection. (github.com)](https://github.com/LordNoteworthy/al-khaser)\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/Reversing/Malware/Malware":{"title":"ãƒãƒ«ã‚¦ã‚§ã‚¢","content":"\n## æ”»æ’ƒè€…ã®èƒŒæ™¯\n\n| åå‰                            | ä¸»ä½“                                         | ç›®çš„                                               | æ¨™çš„                     |\n| ------------------------------- | -------------------------------------------- | -------------------------------------------------- | ------------------------ |\n| APT(Advanced Persistent Threat) | è»ãƒ»è«œå ±æ©Ÿé–¢ãªã©å›½å®¶ã®æ”¯æ´ã‚’å—ã‘ãŸä¼æ¥­ãƒ»çµ„ç¹” | æ©Ÿå¯†æƒ…å ±ã®çªƒå–ã‚„ã€å¯¾è±¡ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ä¿æŒ | ç‰¹å®šã®ä¼æ¥­ã‚„çµ„ç¹”         |\n| Cybercrime                      | çŠ¯ç½ªè€…ã‚°ãƒ«ãƒ¼ãƒ—                               | é‡‘éŠ­                                               | ä¸ç‰¹å®šå¤šæ•°               |\n| Hacktivist                      | å€‹äººã‚„ã‚°ãƒ«ãƒ¼ãƒ—ã®æ´»å‹•åŒ–                       | æ”¿æ²»çš„ã¾ãŸã¯ç¤¾ä¼šçš„ãªç›®çš„é”æˆ                       | æ´»å‹•ã®å¯¾è±¡ã¨ãªã‚‹å›½ã‚„çµ„ç¹” |\n\n## RaaS (Ransomware-as-a-Service)\n\nãƒãƒ«ã‚¦ã‚§ã‚¢ãƒ„ãƒ¼ãƒ«\n- Hidden Malware Builder v2.0/V4.0\n- Crypto Money Grabber PowerShell Script\n- Multi Downloader Builder V2.0\n- Hidden CPLApplet Builder V2.0\n- UAC Bypasser Builder V2.0\n- XBinder V2.0\n- XWorm V2.2\n\n[Cyble â€” EvilCoder Project Selling Multiple Dangerous Tools Online](https://blog.cyble.com/2022/08/19/evilcoder-project-selling-multiple-dangerous-tools-online/?utm_source=pocket_mylist)\n\n## ãƒãƒ«ã‚¦ã‚§ã‚¢åˆ†é¡\n\nMalware: **Mal**icious Soft**ware**\n\nWarez\n- éåˆæ³•çš„ã«é…å¸ƒãƒ»è²©å£²ã•ã‚Œã¦ã„ã‚‹å•†ç”¨ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢\n- æ—¥æœ¬ã§ã¯ã€Œãƒ¯ãƒ¬ã‚ºã€ã¨å‘¼ã³ã€ãã‚ŒãŒæ´¾ç”Ÿã—ã¦ã€Œå‰²ã‚Œã€ã¨ãªã£ãŸ\n\nWannaCry\n- ãƒãƒ«ã‚¦ã‚§ã‚¢ã®1ç¨®\n- EternalBlue\n\n- Cobalt Strike Beacon\n- LockBit 3.0\n- Malleable C2\n- hack back\n\n- ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†ãƒ„ãƒ¼ãƒ« PowerShell, PsExec\n- ãƒšãƒãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ« Cobalt Strike Beacon\n- ã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ Dropbox, OneDrive\n- ãƒ•ã‚¡ã‚¤ãƒ«è»¢é€ç”¨ã‚¢ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹\n- Accellion FTA ã‚’ç”¨ã„ã¦ä¼æ¥­ã®ç§˜å¯†æƒ…å ±ã‚’å…¬é–‹ã™ã‚‹ã€‚\n\n## Windows\n- Windowsã®ãƒãƒ¼ãƒˆ445ï¼ˆãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ»ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°SMBã‚µãƒ¼ãƒ“ã‚¹ï¼‰\n\t- Lateral Movementã«ä½¿ã‚ã‚Œã‚‹\n\t- lsass.exe\n- ãƒãƒ«ã‚¦ã‚§ã‚¢ãŒã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰\n\t- net ãƒªãƒ¢ãƒ¼ãƒˆã®ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒã‚¦ãƒ³ãƒˆã™ã‚‹\n\t- reg\n\n## Mac\n- [The Art Of Mac Malware](https://taomm.org/vol1/analysis.html)\n- [Objective-See's Blog](https://objective-see.org/blog/blog_0x59.html)\n- [Objective-See's Mac Malware Collection](https://objective-see.org/malware.html)\n- [objective-see (objective-see) / Repositories (github.com)](https://github.com/objective-see)\n- [CH 0x0C Analyzing EvilQuest.pdf (taomm.org)](https://taomm.org/PDFs/vol1/CH%200x0C%20Analyzing%20EvilQuest.pdf)\n\n## é›£èª­åŒ–\n- Win32API Hashing Obfuscation\n\t- Win32APIåã®Hashå€¤ã‚’ä½¿ã„ã€PEBã‹ã‚‰é–¢æ•°ãƒã‚¤ãƒ³ã‚¿ã‚’æ¢ã—ã€APIå‘¼ã³å‡ºã—ã‚’è¡Œã†ã“ã¨ã§ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒä½¿ç”¨ã™ã‚‹APIã‚’é›£èª­åŒ–ã€‚\n- Mixed Boolean Arithmetic\n\t- å®šæ•°å€¤/å¤‰æ•°ã®åˆæœŸå€¤ã¨åŒå€¤ã¨ãªã‚‹ã‚ˆã†ãªç®—è¡“æ¼”ç®—ã¨ãƒ“ãƒƒãƒˆæ¼”ç®—ã®çµ„ã¿åˆã‚ã›(XOR,ShiftLeft,ShiftRight,Addãªã©)ã«ç½®æ›ã—ã€ãƒ‡ãƒ¼ã‚¿ã‚’é›£èª­åŒ–ã€‚\n- String Obfuscation\n\t- æ–‡å­—åˆ—ã‚’XORã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã—ã€ãƒã‚¤ãƒŠãƒªå†…ã«æ ¼ç´ã€‚æ–‡å­—åˆ—ã®åˆ©ç”¨æ™‚ã®ã¿ã«Heapé ˜åŸŸã¸å¾©å·ã€‚XOR-keyã¯æ–‡å­—åˆ—ã”ã¨/æ¤œä½“ã”ã¨ã«ç•°ãªã‚‹ã€‚\n\t- Hikari\n- Control Flow Flattening\n\t- ã‚¸ãƒ£ãƒ³ãƒ—ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã€åˆ¶å¾¡ãƒ•ãƒ­ãƒ¼ã‚’å¹³å¦åŒ–ã—ã€BasicBlockã®å®Ÿè¡Œé †ã‚’é›£èª­åŒ–ã€‚å®Ÿè¡Œé †åˆ¶å¾¡ã«ã¯Routingå¤‰æ•°ã‚’ç”¨ã„ã‚‹ã€‚\n\t- oLLVM\n- Split Basic Blocks\n\t- Control Flow Flattenã‚„String Obfuscationã‚’ã‚ˆã‚Šé›£èª­åŒ–ã™ã‚‹ç‚ºã«BasicBlockã®åˆ†å‰²ã‚’ã™ã‚‹ã€‚\n\t- oLLVM\n- Bogus Control Flow\n\t- Control Flow Flattenã‚„String Obfuscation + Split Basic Blocksã§ç”Ÿæˆã•ã‚ŒãŸå¤šæ•°ã®Basic Blockã«ä¸€æ„ã«æ±ºã¾ã‚‹ã‹ã¤å‰Šé™¤ãŒå›°é›£ãªæ¡ä»¶åˆ†å²ã‚’è¿½åŠ ã—ãƒ­ã‚¸ãƒƒã‚¯ã‚’è¤‡é›‘åŒ–ã€‚\n\t- Hikari\n- Function Argument Randomization\n\t- é–¢æ•°ã‚³ãƒ¼ãƒ«ã®å¼•æ•°ã«ä¸å¿…è¦ãªå®šæ•°ã¨è¿½åŠ ã—ã€å¼•æ•°ã®é †ç•ªã‚’å…¥ã‚Œæ›¿ãˆã‚‹ã€‚è¿½åŠ ã•ã‚ŒãŸå¼•æ•°ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å‹•ä½œã«ã¯ç„¡é–¢ä¿‚ã§ã‚ã‚Šã€å‘¼ã³å‡ºã—å…ƒã®é–¢æ•°ã®ã‚¹ã‚¿ãƒƒã‚¯ã«ä¿æŒã•ã‚Œã‚‹ã€‚\n\né›£èª­åŒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ\n- [HikariObfuscator/Hikari: LLVM Obfuscator (github.com)](https://github.com/HikariObfuscator/Hikari)\n- [Home Â· obfuscator-llvm/obfuscator Wiki (github.com)](https://github.com/obfuscator-llvm/obfuscator/wiki)\n\n## å‚è€ƒ\n- [JSAC2022 Emotet vs EmoCheck Emoteté–‹ç™ºè€…ã¨ã®æˆ¦ã„ - YouTube](https://www.youtube.com/watch?v=_XX8N5VbW2w)\n\t- ã‹ãªã‚ŠãŠã‚‚ã‚ã‹ã£ãŸ\n- [us-20-Chen-Operation-Chimera-APT-Operation-Targets-Semiconductor-Vendors.pdf (blackhat.com)](https://i.blackhat.com/USA-20/Thursday/us-20-Chen-Operation-Chimera-APT-Operation-Targets-Semiconductor-Vendors.pdf)\n- [Binary Obfuscation Using Signals](https://www2.cs.arizona.edu/~debray/Publications/obf-signal.pdf)\n- [CTF Radiooo - Episodes](https://ctfradi.ooo/)\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/Reversing/Malware/WindowsInternal":{"title":"Windows å†…éƒ¨","content":"\nWinMain\n\n## å‹\nãƒãƒ³ã‚¬ãƒªã‚¢ãƒ³è¨˜æ³•\n- `Pxx / LPxx` -\u003e `* (pointer)`\n\t- `char *` -\u003e `PCHAR`\n- `Cxx -\u003e const`\n\t- `const char *` -\u003e `LPCSTR`\n- `Wxx` -\u003e ãƒ¯ã‚¤ãƒ‰æ–‡å­—: Unicodeã®ã¿ã®æ–‡å­—å‹\n- `Txx` -\u003e ãƒãƒ«ãƒãƒã‚¤ãƒˆæ–‡å­—: Unicodeã‚„SJISãªã©ã‚ˆã‚Šä¸€èˆ¬ã®æ–‡å­—å‹\n- `Hxx` -\u003e HANDLE\n- `Ixx` / `Nxx` -\u003e æ•´æ•°\n\n[Windows Data Types (BaseTsd.h) - Win32 apps | Microsoft Learn](https://learn.microsoft.com/en-us/windows/win32/winprog/windows-data-types)\n\n## Windows API (Win32 API)\nä½•ãŒã§ãã‚‹ï¼Ÿ\nãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿æ›¸ã\nãƒ‡ã‚£ã‚¹ã‚¯èª­ã¿å–ã‚Š\nãƒ¡ãƒ¢ãƒª\n\nä»•çµ„ã¿\nDLLå†…ã®APIã‚’å‘¼ã³å‡ºã™ã“ã¨ã§è©³ç´°ã‚’çŸ¥ã‚‹ã“ã¨ãªããƒªã‚½ãƒ¼ã‚¹ã‚’çŸ¥ã‚‹ã“ã¨ãŒã§ãã‚‹.\n\n1. CreateFileA ã‚’å‘¼ã³å‡ºã™.\n2. kernel32.dll / ntdll.dll ã‹ã‚‰ sysenter / syscall ã—ã¦ã‚«ãƒ¼ãƒãƒ«ã¸æ¸¡ã™.\n3. ntoskrnl.exe ãŒå®Ÿéš›ã«ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆã™ã‚‹.\n\nåˆ©ç”¨\n- API åã‚’ Google ã‚„ [Microsoft Learn](https://learn.microsoft.com/en-us/) ã§æ¤œç´¢\n- å¼•æ•°ã®å‹æƒ…å ±\n\n## Registry\n\n| åå‰               | ç•¥ç§° | èª¬æ˜                                               |\n| ------------------ | ---- | -------------------------------------------------- |\n| HKEY_CURRENT_USER  | HKCU | ç¾åœ¨ãƒ­ã‚°ã‚ªãƒ³ä¸­ã®ãƒ¦ãƒ¼ã‚¶ã«é–¢é€£ã¥ã‘ã‚‰ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’æ ¼ç´ |\n| HKEY_LOCAL_MACHINE | HKLM | ã‚·ã‚¹ãƒ†ãƒ é–¢é€£ã®æƒ…å ±ã‚’æ ¼ç´                           |\n| HKEY_USERS         | HKU  | ãƒã‚·ãƒ³ä¸Šã®å…¨ã¦ã®ãƒ¦ãƒ¼ã‚¶ã«é–¢ã™ã‚‹æƒ…å ±ã‚’æ ¼ç´           |\n| HKEY_CLASSES_ROOT  | HKCR | ãƒ•ã‚¡ã‚¤ãƒ«ã®é–¢é€£ä»˜ã‘æƒ…å ±ãªã©ã‚’æ ¼ç´                   |\n\n- [Predefined Keys - Win32 apps | Microsoft Learn](https://learn.microsoft.com/en-us/windows/win32/sysinfo/predefined-keys)\n\n## Heap\n\nRtlCreateHeap é–¢æ•°ã¯ `_HEAP` æ§‹é€ ä½“ã¸ã®ãƒã‚¤ãƒ³ã‚¿ã‚’è¿”ã™.\n- [Terminus Project - _HEAP - combined view (rewolf.pl)](http://terminus.rewolf.pl/terminus/structures/ntdll/_HEAP_combined.html)\n- [Windows 10 Segment Heap Internals (blackhat.com)](https://www.blackhat.com/docs/us-16/materials/us-16-Yason-Windows-10-Segment-Heap-Internals-wp.pdf)","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/Reversing/Reversing":{"title":"rev","content":"\nãƒ‡ãƒ¼ã‚¿ã‚’\n\nidiom\n2å€+2ã‚’ã‚¢ãƒ­ã‚±ãƒ¼ãƒˆ -\u003e wide char + nullçµ‚ç«¯\n\n\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/Reversing/StaticAnalyse":{"title":"é™çš„è§£æ","content":"\n## Ghidra\n\n- Rename Variable\n- Retype Variable\n\t- é…åˆ—ã‚„æ§‹é€ ä½“ã«ã™ã‚‹ã¨å¬‰ã—ã„\n\næ–‡å­—åˆ—: é…åˆ—","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/Reversing/SurfaceAnalysis":{"title":"è¡¨å±¤è§£æ","content":"\n- ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼\n- ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿\n\t- æ§˜ã€…ãªã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚„ãƒ„ãƒ¼ãƒ«ã¸ã®æƒ…å ±å±•é–‹ãŒå®¹æ˜“ã¨ãªã‚‹.\n\t- ãƒ•ã‚¡ã‚¤ãƒ«å…¨ä½“ã®ãƒãƒƒã‚·ãƒ¥å€¤ (SHA)\n- æ–‡å­—åˆ—ã®æŠ½å‡º\n\t- strings\n- PEè§£æ\n\t- PEãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ˜ãƒƒãƒ€é ˜åŸŸ\n\t\t- ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„é–¢æ•°ãƒªã‚½ãƒ¼ã‚¹ãªã©æ§˜ã€…ãªæƒ…å ±ã‚’ä»˜ä¸ã•ã‚Œã‚‹.\n\t- å†…è”µãƒ•ã‚¡ã‚¤ãƒ«ã®å–å¾—\n\t\t- Resource Hacker\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/algebra/group_theory":{"title":"æ•°å­¦ã®èŠ±","content":"## ç¾¤ã®å®šç¾©\né›†åˆ$S\\neq \\phi$ ã‚’è€ƒãˆã‚‹ã€‚$\\forall a,b\\in S$ ã«å¯¾ã—ã¦$\\exists c \\in S$ ã‚’å¯¾å¿œã•ã›ã‚‹æ³•å‰‡ã¤ã¾ã‚Šç›´ç©$S\\times S$ã‹ã‚‰$S$ã¸ã®å†™åƒã‚’2é …æ¼”ç®—(law of composition)ã¨å‘¼ã¶.ã€€è¨˜å·çš„ã«ã¯\n$$\n\\begin{align}\nS\\times S \u0026\\to S\\\\\n(a,b)\u0026\\mapsto a\\cdot b=c\n\\end{align}\n$$\nã¨è¡¨ç¾ã•ã‚Œã‚‹. \n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/arithmetic/ArithmeticalFunction":{"title":"æ•°è«–çš„é–¢æ•°/é€²æ•°å¤‰æ›","content":"\nã‚ªã‚¤ãƒ©ãƒ¼ã®$\\phi$é–¢æ•°\nãƒ¡ãƒ“ã‚¦ã‚¹ã®$\\mu$é–¢æ•°\nã‚«ãƒ¼ãƒã‚¤ã‚±ãƒ«ã®$\\lambda$é–¢æ•°","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/arithmetic/BitTrick":{"title":"Bit Trick","content":"\n- XOR swap\n\n## ãƒ“ãƒƒãƒˆæ¼”ç®—\nInteger Overflow ([CWE-190](https://cwe.mitre.org/data/definitions/190.html)) æ•´æ•°ã®ä¸Šé™å€¤ã‚’è¶…ãˆã‚‹ã¨ä¸‹é™å€¤ä»˜è¿‘ã«ãªã‚‹\nInteger Underflow ([CWE-191](https://cwe.mitre.org/data/definitions/191.html)) æ•´æ•°ã®ä¸‹é™å€¤ã‚’ä¸‹å›ã‚‹ã¨ä¸Šé™å€¤ä»˜è¿‘ã«ãªã‚‹\nFloating Point Underflow   [x + 0.25 - 0.25 = xãŒæˆã‚Šç«‹ãŸãªã„xã¨ã¯ä½•ã‹ï½œRui Ueyamaï½œnote](https://note.com/ruiu/n/ndd60f403e8f2)\nStack Overflow\nStack Underflow","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/arithmetic/crt":{"title":"ä¸­å›½å‰°ä½™å®šç†","content":"\n## èª¬æ˜\n\nGarnerã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \n\n## è¨ˆç®—é‡\n\n$O(n^2 + n\\log(\\max p_i))$\n\n## å®Ÿè£…\n\n```cpp\n#include \u003cvector\u003e\n\n// x % m[i] = r[i] % m[i] ã‚’æº€ãŸã™æ­£ã§æœ€å°ã® x ã‚’è¿”ã™\n// mã¯äº’ã„ã«ç´ ã§ã‚ã‚‹ã¨ä»®å®š\n// ã¨ã‚Šã‚ãˆãšè§£ã®å­˜åœ¨åˆ¤å®šã¯ä¿ç•™\ntemplate \u003ctypename T\u003e\nT CRT(std::vector\u003cT\u003e r, std::vector\u003cT\u003e m) {\n  ll n = r.size();\n  ll m_prod = 1;\n  ll x = r[0] % m[0];\n  for (ll i = 1; i \u003c n; i++) {\n    m_prod *= m[i - 1];\n    ll t = ((r[i] - x) * invmod(m_prod, m[i])) % m[i];\n    if (t \u003c 0)\n      t += m[i];\n    x += t * m_prod;\n  }\n  return x;\n}\n```\n\n## ä½¿ç”¨ä¾‹\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/arithmetic/fft":{"title":"é«˜é€Ÿãƒ•ãƒ¼ãƒªã‚¨å¤‰æ› (FFT)","content":"\n## èª¬æ˜\n\næ¬¡ã®è¨˜äº‹ãŒã‚ã‹ã‚Šã‚„ã™ã„ã§ã™ã€‚\n\n[ã€ç«¶ãƒ—ãƒ­erå‘ã‘ã€‘FFT ã‚’ç¿’å¾—ã—ã‚ˆã†ï¼ | æ±äº¬å·¥æ¥­å¤§å­¦ãƒ‡ã‚¸ã‚¿ãƒ«å‰µä½œåŒå¥½ä¼štraP](https://trap.jp/post/1386/)\n\n## è¨ˆç®—é‡\n\n$O(N\\log{N})$\n\n## å®Ÿè£…\n\n```cpp\n#include \u003ccomplex\u003e\n#include \u003cvector\u003e\n\nusing namespace std;\nusing ll = long long;\nusing ld = long double;\nusing Complex = complex\u003cld\u003e;\nconst ld PI = 3.1415926535897932;\n\nvector\u003cComplex\u003e FFT(vector\u003cComplex\u003e \u0026A) {\n  const int N = A.size();\n  vector\u003cComplex\u003e even(N / 2), odd(N / 2);\n  for (int i = 0; i \u003c N / 2; i++) {\n    even[i] = A[2 * i];\n    odd[i] = A[2 * i + 1];\n  }\n  even = FFT(even);\n  odd = FFT(odd);\n  for (int i = 0; i \u003c N / 2; i++) {\n    odd[i] *= polar(1.0L, 2 * PI * i / N);\n    A[i] = even[i] + odd[i];\n    A[N / 2 + i] = even[i] - odd[i];\n  }\n  return A;\n}\n```\n\n## ä½¿ç”¨ä¾‹\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/arithmetic/gcd":{"title":"æœ€å¤§å…¬ç´„æ•°ãƒ»æœ€å°å…¬å€æ•°","content":"\n## èª¬æ˜\n\nãƒ¦ãƒ¼ã‚¯ãƒªãƒƒãƒ‰ã®äº’é™¤æ³•\n\n## è¨ˆç®—é‡\n\n$O(\\log{N})$\n\n## å®Ÿè£…\n\n```cpp\ntemplate \u003ctypename T\u003e\nT gcd(T a, T b) {\n  T r;\n  while (b \u003e 0) {\n    r = a % b;\n    a = b;\n    b = r;\n  }\n  return a;\n}\n\ntemplate \u003ctypename T\u003e\nT lcm(T a, T b) {\n  return a / gcd(a, b) * b;\n}\n\ntemplate \u003ctypename T\u003e\nT extgcd(T a, T b, T \u0026x, T \u0026y) {\n  T g = a;\n  x = 1;\n  y = 0;\n  if (b) {\n    g = extgcd(b, a % b, y, x);\n    y -= a / b * x;\n  }\n  return g;\n}\n```\n\n## ä½¿ç”¨ä¾‹","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/arithmetic/matrix/matrix":{"title":"è¡Œåˆ—","content":"\n## èª¬æ˜\n\n\n## è¨ˆç®—é‡\n\n\n## å®Ÿè£…\n\n```cpp\n#include \u003cbits/stdc++.h\u003e\n#include \u003cgcd.hpp\u003e\nusing namespace std;\n\nusing ll = long long;\nusing ull = uint_fast64_t;\nusing pll = pair\u003cll, ll\u003e;\nusing i64 = int_fast64_t;\nusing u64 = uint_fast64_t;\n\nconst ll MOD = 1e9 + 7;\nconst ll MODD = 998244353;\n\nll invmod(ll a, ll mod) {\n  ll x, y;\n  extgcd(a, mod, x, y);\n  x %= mod;\n  if (x \u003c 0)\n    x += mod;\n  return x;\n}\n\nconstexpr ll mx = 4;\nclass Matrix {\npublic:\n  using T = ll;\n  T m[mx][mx];\n  // ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿\n  constexpr Matrix() noexcept {}\n  // ã‚¢ã‚¯ã‚»ã‚¹\n  const T *operator[](const ll i) const { return m[i]; } // read\n  T *operator[](const ll i) { return m[i]; }             // write\n  // æ¼”ç®—\n  inline constexpr Matrix \u0026operator+=(const Matrix \u0026x) noexcept {\n    for (ll i = 0; i \u003c mx; i++)\n      for (ll j = 0; j \u003c mx; j++)\n        m[i][j] += x[i][j];\n    return *this;\n  }\n  inline constexpr Matrix operator+(const Matrix x) const noexcept {\n    return Matrix(*this) += x;\n  }\n  inline constexpr Matrix \u0026operator-=(const Matrix \u0026x) noexcept {\n    for (ll i = 0; i \u003c mx; i++)\n      for (ll j = 0; j \u003c mx; j++)\n        m[i][j] -= x[i][j];\n    return *this;\n  }\n  inline constexpr Matrix operator-(const Matrix \u0026x) noexcept {\n    return Matrix(*this) -= x;\n  }\n  // O(N^3)\n  inline constexpr Matrix \u0026operator*=(Matrix \u0026x) noexcept {\n    *this = *this * x;\n    return *this;\n  }\n  inline constexpr Matrix operator*(Matrix \u0026x) {\n    Matrix c;\n    for (ll i = 0; i \u003c mx; i++)\n      for (ll j = 0; j \u003c mx; j++)\n        for (ll k = 0; k \u003c mx; k++) {\n          T a = m[i][j] * x[j][k];\n          c[i][k] += a;\n        }\n    return c;\n  }\n  // E^M O(N^3logM)\n  inline constexpr Matrix pow(ll b) const noexcept {\n    Matrix a = *this, c = E();\n    while (b) {\n      if (b \u0026 1)\n        c *= a;\n      if (b \u003e\u003e= 1)\n        a *= a;\n    }\n    return c;\n  }\n  inline constexpr Matrix static E() noexcept {\n    Matrix a;\n    for (ll i = 0; i \u003c mx; i++)\n      a[i][i] = 1;\n    return a;\n  }\n  inline constexpr bool operator==(const Matrix \u0026a) {\n    bool flg = true;\n    for (ll i = 0; i \u003c mx; i++)\n      for (ll j = 0; j \u003c mx; j++)\n        if (m[i][j] != a[i][j])\n          flg = false;\n    return flg;\n  }\n  // è¡Œåˆ—ã¨ã‚¹ã‚«ãƒ©ã®æ¼”ç®—\n  inline constexpr Matrix \u0026operator+=(const T \u0026a) {\n    for (ll i = 0; i \u003c mx; i++)\n      for (ll j = 0; j \u003c mx; j++)\n        m[i][j] += a;\n    return *this;\n  }\n  inline constexpr Matrix \u0026operator-=(const T \u0026a) {\n    for (ll i = 0; i \u003c mx; i++)\n      for (ll j = 0; j \u003c mx; j++)\n        m[i][j] -= a;\n    return *this;\n  }\n  inline constexpr Matrix \u0026operator*=(const T \u0026a) {\n    for (ll i = 0; i \u003c mx; i++)\n      for (ll j = 0; j \u003c mx; j++)\n        m[i][j] *= a;\n    return *this;\n  }\n  inline constexpr Matrix \u0026operator/=(const T \u0026a) {\n    for (ll i = 0; i \u003c mx; i++)\n      for (ll j = 0; j \u003c mx; j++)\n        m[i][j] /= a;\n    return *this;\n  }\n  inline constexpr Matrix operator+(const T \u0026a) const {\n    return Matrix(*this) += a;\n  }\n  inline constexpr Matrix operator-(const T \u0026a) const {\n    return Matrix(*this) -= a;\n  }\n  inline constexpr Matrix operator*(const T \u0026a) const {\n    return Matrix(*this) *= a;\n  }\n  inline constexpr Matrix operator/(const T \u0026a) const {\n    return Matrix(*this) /= a;\n  }\n  // è»¢ç½®è¡Œåˆ—\n  inline constexpr Matrix t() {\n    Matrix m2;\n    for (ll i = 0; i \u003c mx; i++)\n      for (ll j = 0; j \u003c mx; j++)\n        m2[i][j] = m[j][i];\n    return m2;\n  }\n\n  inline constexpr void show() {\n    for (ll i = 0; i \u003c mx; i++) {\n      for (ll j = 0; j \u003c mx; j++) {\n        if (j != 0)\n          cout \u003c\u003c \" \";\n        cout \u003c\u003c m[i][j];\n      }\n      cout \u003c\u003c endl;\n    }\n    return;\n  }\n};\n```\n```cpp\n\nusing D = double;\nconst D EPS = 1e-10;\n\n// matrix\ntemplate\u003cclass T\u003e struct Matrix {\n    vector\u003cvector\u003cT\u003e \u003e val;\n    Matrix(int n, int m, T x = 0) : val(n, vector\u003cT\u003e(m, x)) {}\n    void init(int n, int m, T x = 0) {val.assign(n, vector\u003cT\u003e(m, x));}\n    size_t size() const {return val.size();}\n    inline vector\u003cT\u003e\u0026 operator [] (int i) {return val[i];}\n};\n\ntemplate\u003cclass T\u003e int GaussJordan(Matrix\u003cT\u003e \u0026A, bool is_extended = false) {\n    int m = A.size(), n = A[0].size();\n    int rank = 0;\n    for (int col = 0; col \u003c n; ++col) {\n        // æ‹¡å¤§ä¿‚æ•°è¡Œåˆ—ã®å ´åˆã¯æœ€å¾Œã®åˆ—ã¯æƒãå‡ºã—ã—ãªã„\n        if (is_extended \u0026\u0026 col == n-1) break;\n\n        // ãƒ”ãƒœãƒƒãƒˆã‚’æ¢ã™\n        int pivot = -1;\n        T ma = EPS;\n        for (int row = rank; row \u003c m; ++row) {\n            if (abs(A[row][col]) \u003e ma) {\n                ma = abs(A[row][col]);\n                pivot = row;\n            }\n        }\n        // ãƒ”ãƒœãƒƒãƒˆãŒãªã‹ã£ãŸã‚‰æ¬¡ã®åˆ—ã¸\n        if (pivot == -1) continue;\n\n        // ã¾ãšã¯è¡Œã‚’ swap\n        swap(A[pivot], A[rank]);\n\n        // ãƒ”ãƒœãƒƒãƒˆã®å€¤ã‚’ 1 ã«ã™ã‚‹\n        auto fac = A[rank][col];\n        for (int col2 = 0; col2 \u003c n; ++col2) A[rank][col2] /= fac;\n\n        // ãƒ”ãƒœãƒƒãƒˆã®ã‚ã‚‹åˆ—ã®å€¤ãŒã™ã¹ã¦ 0 ã«ãªã‚‹ã‚ˆã†ã«æƒãå‡ºã™\n        for (int row = 0; row \u003c m; ++row) {\n            if (row != rank \u0026\u0026 abs(A[row][col]) \u003e EPS) {\n                auto fac = A[row][col];\n                for (int col2 = 0; col2 \u003c n; ++col2) {\n                    A[row][col2] -= A[rank][col2] * fac;\n                }\n            }\n        }\n        ++rank;\n    }\n    return rank;\n}\n\nconst int MAX_ROW = 510; // to be set appropriately\nconst int MAX_COL = 510; // to be set appropriately\nstruct BitMatrix {\n    int H, W;\n    bitset\u003cMAX_COL\u003e val[MAX_ROW];\n    BitMatrix(int m = 1, int n = 1) : H(m), W(n) {}\n    inline bitset\u003cMAX_COL\u003e\u0026 operator [] (int i) {return val[i];}\n};\n\nint GaussJordan(BitMatrix \u0026A, bool is_extended = false) {\n    int rank = 0;\n    for (int col = 0; col \u003c A.W; ++col) {\n        if (is_extended \u0026\u0026 col == A.W - 1) break;\n        int pivot = -1;\n        for (int row = rank; row \u003c A.H; ++row) {\n            if (A[row][col]) {\n                pivot = row;\n                break;\n            }\n        }\n        if (pivot == -1) continue;\n        swap(A[pivot], A[rank]);\n        for (int row = 0; row \u003c A.H; ++row) {\n            if (row != rank \u0026\u0026 A[row][col]) A[row] ^= A[rank];\n        }\n        ++rank;\n    }\n    return rank;\n}\n\nint linear_equation(BitMatrix A, vector\u003cint\u003e b, vector\u003cint\u003e \u0026res) {\n    int m = A.H, n = A.W;\n    BitMatrix M(m, n + 1);\n    for (int i = 0; i \u003c m; ++i) {\n        for (int j = 0; j \u003c n; ++j) M[i][j] = A[i][j];\n        M[i][n] = b[i];\n    }\n    int rank = GaussJordan(M, true);\n\n    // check if it has no solution\n    for (int row = rank; row \u003c m; ++row) if (M[row][n]) return -1;\n\n    // answer\n    res.assign(n, 0);\n    for (int i = 0; i \u003c rank; ++i) res[i] = M[i][n];\n    return rank;\n}\n```\n\n## ä½¿ç”¨ä¾‹\n\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/arithmetic/modulo/ArbitraryModint":{"title":"ä»»æ„Modint","content":"\n## èª¬æ˜\n\n| æ¼”ç®—                   | æ–¹æ³•                          | è¨ˆç®—é‡                      |\n| :--------------------  | :---------------------------- | :------------------------- |\n| è¶³ã—ç®—   $a + b$       | è¶³ã—ã¦Nä»¥ä¸Šã«ãªã£ãŸã‚‰Nå¼•ã    | $O(1)$            |\n| å¼•ãç®—   $a - b$       | å¼•ã„ã¦0æœªæº€ã«ãªã£ãŸã‚‰Nè¶³ã™    | $O(1)$            |\n| æ›ã‘ç®—   $a \\times b$  | æ›ã‘ã¦Nã§å‰²ã£ãŸä½™ã‚Š           | $O(1)$            |\n| å‰²ã‚Šç®—   $a \\div b$    | æ‹¡å¼µãƒ¦ãƒ¼ã‚¯ãƒªãƒƒãƒ‰ã®äº’é™¤æ³•      | $O(\\log^2 N)$   |\n| ç´¯ä¹—     $a ^ e$       | ç¹°ã‚Šè¿”ã—äºŒä¹—æ³•                | $O(\\log N)$       |\n| å¹³æ–¹æ ¹   $\\sqrt{a}$    | Tonelli Shanksã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ   | $O(\\log^2 N)$   |\n| ç´¯ä¹—æ ¹   $\\sqrt[e]{a}$ | Tonelli Shanksã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ      | $O(\\min(N^{1/4},\\sqrt{e})\\log{e}\\log^2{N})$     |\n| å¯¾æ•°     $\\log_e{a}$   | é›¢æ•£å¯¾æ•°å•é¡Œ            | $O(\\sqrt{N})$     |\n\n(å‚è€ƒ: [æ•´æ•°è«–ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯é›†ã®pdf](https://kirika-comp.hatenablog.com/entry/2018/03/12/210446) ãªã©)\n\n## å®Ÿè£…\n\n```cpp\n#include \u003ccstdint\u003e\n#include \u003cistream\u003e\n#include \u003cvector\u003e\n\nusing ll = long long;\n\nclass runtime_modint {\n  using u64 = std::uint_fast64_t;\n\n  static u64 \u0026mod() {\n    static u64 mod_ = 0;\n    return mod_;\n  }\n\npublic:\n  u64 a;\n\n  runtime_modint(const u64 x = 0) : a(x % get_mod()) {}\n  u64 \u0026value() noexcept { return a; }\n  const u64 \u0026value() const noexcept { return a; }\n  inline constexpr operator ll() const noexcept { return a; }\n  runtime_modint operator+(const runtime_modint rhs) const {\n    return runtime_modint(*this) += rhs;\n  }\n  runtime_modint operator-(const runtime_modint rhs) const {\n    return runtime_modint(*this) -= rhs;\n  }\n  runtime_modint operator*(const runtime_modint rhs) const {\n    return runtime_modint(*this) *= rhs;\n  }\n  runtime_modint operator/(const runtime_modint rhs) const {\n    return runtime_modint(*this) /= rhs;\n  }\n  runtime_modint \u0026operator+=(const runtime_modint rhs) {\n    a += rhs.a;\n    if (a \u003e= get_mod()) {\n      a -= get_mod();\n    }\n    return *this;\n  }\n  runtime_modint \u0026operator-=(const runtime_modint rhs) {\n    if (a \u003c rhs.a) {\n      a += get_mod();\n    }\n    a -= rhs.a;\n    return *this;\n  }\n  runtime_modint \u0026operator*=(const runtime_modint rhs) {\n    a = a * rhs.a % get_mod();\n    return *this;\n  }\n  runtime_modint \u0026operator/=(runtime_modint rhs) {\n    u64 exp = get_mod() - 2;\n    while (exp) {\n      if (exp % 2) {\n        *this *= rhs;\n      }\n      rhs *= rhs;\n      exp /= 2;\n    }\n    return *this;\n  }\n\n  template \u003cclass T\u003e inline constexpr runtime_modint \u0026operator+=(T x) noexcept {\n    return operator+=(runtime_modint(x));\n  }\n  template \u003cclass T\u003e inline constexpr runtime_modint \u0026operator+(T x) noexcept {\n    return runtime_modint(*this) += x;\n  }\n  template \u003cclass T\u003e inline constexpr runtime_modint \u0026operator-=(T x) noexcept {\n    return operator-=(runtime_modint(x));\n  }\n  template \u003cclass T\u003e inline constexpr runtime_modint \u0026operator-(T x) noexcept {\n    return runtime_modint(*this) -= x;\n  }\n  template \u003cclass T\u003e inline constexpr runtime_modint \u0026operator*=(T x) noexcept {\n    return operator*=(runtime_modint(x));\n  }\n  template \u003cclass T\u003e inline constexpr runtime_modint \u0026operator*(T x) noexcept {\n    return runtime_modint(*this) *= x;\n  }\n  template \u003cclass T\u003e inline constexpr runtime_modint \u0026operator/=(T x) noexcept {\n    return operator/=(runtime_modint(x));\n  }\n  template \u003cclass T\u003e inline constexpr runtime_modint \u0026operator/(T x) noexcept {\n    return runtime_modint(*this) /= x;\n  }\n\n  static void set_mod(const u64 x) { mod() = x; }\n  static u64 get_mod() { return mod(); }\n};\n\nll n, m;\nbool used[100000];\nstd::vector\u003cstd::pair\u003cll, runtime_modint\u003e\u003e G[100000];\n\nruntime_modint dfs(ll x) {\n  used[x] = true;\n  bool end = true;\n  runtime_modint res = 1;\n  for (auto \u0026p : G[x]) {\n    if (used[p.first] == true)\n      continue;\n    end = false;\n    if (p.second != 0) {\n      res *= p.second;\n    } else {\n      p.second = dfs(p.first);\n      // cout \u003c\u003c x MM p.fi MM p.se \u003c\u003c endl;\n      res *= p.second;\n    }\n  }\n  used[x] = false;\n  return res + 1;\n}\n```\n\n## ä½¿ç”¨ä¾‹\n\n\n## é–¢é€£é …ç›®\n- [Modint](Modint.md)","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/arithmetic/modulo/modint":{"title":"Modint","content":"\n## èª¬æ˜\n\n| æ¼”ç®—                   | æ–¹æ³•                          | è¨ˆç®—é‡                      |\n| :--------------------  | :---------------------------- | :------------------------- |\n| è¶³ã—ç®—   $a + b$       | è¶³ã—ã¦Nä»¥ä¸Šã«ãªã£ãŸã‚‰Nå¼•ã    | $O(1)$            |\n| å¼•ãç®—   $a - b$       | å¼•ã„ã¦0æœªæº€ã«ãªã£ãŸã‚‰Nè¶³ã™    | $O(1)$            |\n| æ›ã‘ç®—   $a \\times b$  | æ›ã‘ã¦Nã§å‰²ã£ãŸä½™ã‚Š           | $O(1)$            |\n| å‰²ã‚Šç®—   $a \\div b$    | æ‹¡å¼µãƒ¦ãƒ¼ã‚¯ãƒªãƒƒãƒ‰ã®äº’é™¤æ³•      | $O(\\log^2 N)$   |\n| ç´¯ä¹—     $a ^ e$       | ç¹°ã‚Šè¿”ã—äºŒä¹—æ³•                | $O(\\log N)$       |\n| å¹³æ–¹æ ¹   $\\sqrt{a}$    | Tonelli Shanksã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ   | $O(\\log^2 N)$   |\n| ç´¯ä¹—æ ¹   $\\sqrt[e]{a}$ | Tonelli Shanksã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ      | $O(\\min(N^{1/4},\\sqrt{e})\\log{e}\\log^2{N})$     |\n| å¯¾æ•°     $\\log_e{a}$   | é›¢æ•£å¯¾æ•°å•é¡Œ            | $O(\\sqrt{N})$     |\n\n(å‚è€ƒ: [æ•´æ•°è«–ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯é›†ã®pdf](https://kirika-comp.hatenablog.com/entry/2018/03/12/210446) ãªã©)\n\n## å®Ÿè£…\n\n```cpp\n#include \u003ccstdint\u003e\n#include \u003cistream\u003e\n#include \u003ctype_traits\u003e\n#include \u003cvector\u003e\n\nusing ll = long long;\nusing u64 = std::uint_fast64_t;\n\nconst ll MOD = 1000000007;\nconst ll MODD = 998244353;\n\nconstexpr u64 Modulus = MOD;\nclass Modint {\npublic:\n\tu64 num = 0;\n\tconstexpr Modint() noexcept {}\n\tconstexpr Modint(const u64 x) noexcept : num(x % Modulus) {}\n\tinline constexpr operator ll() const noexcept { return num; }\n\tinline constexpr Modint \u0026operator+=(const Modint rhs) noexcept { num += rhs.num; if (num \u003e= Modulus) num -= Modulus; return *this; }\n\tinline constexpr Modint operator+(const Modint rhs) const noexcept { return Modint(*this) += rhs; }\n\tinline constexpr Modint \u0026operator-=(const Modint rhs) noexcept { if (num \u003c rhs.num) num += Modulus; num -= rhs.num; return *this; }\n\tinline constexpr Modint operator-(const Modint rhs) const noexcept { return Modint(*this) -= rhs; }\n\tinline constexpr Modint \u0026operator*=(const Modint rhs) noexcept { num = num * rhs.num % Modulus; return *this; }\n\tinline constexpr Modint operator*(const Modint rhs) const noexcept { return Modint(*this) *= rhs; }\n\tinline constexpr Modint \u0026operator/=(const Modint rhs) noexcept { return operator*=(rhs.inv()); }\n\tconstexpr Modint operator/(const Modint rhs) const noexcept { return Modint(*this) /= rhs; }\n\tinline constexpr Modint\u0026 operator++() noexcept { if (num == Modulus - 1) num = 0; else num++; return *this; }\n\tinline constexpr Modint operator++(int) noexcept { Modint ans(*this); operator++(); return ans; }\n\tinline constexpr Modint\u0026 operator--() noexcept { if (num == 0) num = Modulus - 1; else num--; return *this; }\n\tinline constexpr Modint operator--(int) noexcept { Modint ans(*this); operator--(); return ans; }\n\tinline constexpr Modint operator-() noexcept { return Modint(0) -= *this; }\n\ttemplate\u003cclass T\u003e inline constexpr Modint \u0026operator+=(T x) noexcept { return operator+=(Modint(x)); }\n\ttemplate\u003cclass T\u003e inline constexpr Modint \u0026operator+(T x) noexcept { return Modint(*this) += x; }\n\ttemplate\u003cclass T\u003e inline constexpr Modint \u0026operator-=(T x) noexcept { return operator-=(Modint(x)); }\n\ttemplate\u003cclass T\u003e inline constexpr Modint \u0026operator-(T x) noexcept { return Modint(*this) -= x; }\n\ttemplate\u003cclass T\u003e inline constexpr Modint \u0026operator*=(T x) noexcept { return operator*=(Modint(x)); }\n\ttemplate\u003cclass T\u003e inline constexpr Modint \u0026operator*(T x) noexcept { return Modint(*this) *= x; }\n\ttemplate\u003cclass T\u003e inline constexpr Modint \u0026operator/=(T x) noexcept { return operator/=(Modint(x)); }\n\ttemplate\u003cclass T\u003e inline constexpr Modint \u0026operator/(T x) noexcept { return Modint(*this) /= x; }\n\tinline constexpr Modint inv() const noexcept { ll x = 0, y = 0; extgcd(num, Modulus, x, y); return x; }\n\tstatic inline constexpr ll extgcd(ll a, ll b, ll \u0026x, ll \u0026y) noexcept { ll g = a; x = 1; y = 0; if(b){ g = extgcd(b, a % b, y, x); y -= a / b * x; } return g; }\n\tinline constexpr Modint pow(u64 x) const noexcept { Modint ans = 1, cnt = *this; while(x){ if(x \u0026 1) ans *= cnt; cnt *= cnt; x /= 2; } return ans; }\n\ttemplate\u003cclass T\u003e constexpr Modint(T x) noexcept {\n\t\tusing U = typename std::conditional\u003csizeof(T) \u003e= 4, T, int\u003e::type;\n\t\tU y = x; y %= U(Modulus); if(y \u003c 0) y += Modulus; num = uint(y);\n\t}\n};\nstd::istream\u0026 operator\u003e\u003e(std::istream\u0026 is, Modint\u0026 x){ ll a; is \u003e\u003e a; x = a; return is; }\n// inline constexpr Modint operator\"\"_M(ull x) noexcept { return Modint(x); }\nstd::vector\u003cModint\u003e fac(1, 1), inv(1, 1);\ninline void reserve(ll a){\n\tif(fac.size() \u003e= a) return;\n\tif(a \u003c fac.size() * 2) a = fac.size() * 2;\n\tif(a \u003e= Modulus) a = Modulus;\n\twhile(fac.size() \u003c a) fac.push_back(fac.back() * Modint(fac.size()));\n\tinv.resize(fac.size());\n\tinv.back() = fac.back().inv();\n\tfor(ll i = inv.size() - 1; !inv[i - 1]; i--) inv[i - 1] = inv[i] * i;\n}\ninline Modint fact(ll n){ if(n \u003c 0) return 0; reserve(n + 1); return fac[n]; }\ninline Modint perm(ll n, ll r){\n\tif(r \u003c 0 || n \u003c r) return 0;\n\tif(n \u003e\u003e 24){ Modint ans = 1; for(ll i = 0; i \u003c r; i++) ans *= n--; return ans; }\n\treserve(n + 1); return fac[n] * inv[n - r];\n}\n// éšä¹—ã‚„ãã®é€†å…ƒã‚’ãƒ¡ãƒ¢åŒ–ã™ã‚‹ã¨é€Ÿã„\n// modã‚’å–ã‚ŠãŸããªã„ãªã‚‰nCk/2^Nã‚’ãƒ‘ã‚¹ã‚«ãƒ«ã®ä¸‰è§’å½¢ã§ä½œã‚‹\ninline Modint comb(ll n, ll r){ if(r \u003c 0 || n \u003c r) return 0; reserve(r + 1); return perm(n, r) * inv[r]; }\ninline Modint Mcomb(ll n, ll r){ return comb(n + r - 1, n - 1); } // r balls into n boxes\ninline Modint catalan(ll n){ reserve(n * 2 + 1); return fac[n * 2] * inv[n] * inv[n + 1]; }\n```\n\n## ä½¿ç”¨ä¾‹\n\n[ABC262 D - I Hate Non-integer Number](https://atcoder.jp/contests/abc262/submissions/33693576)\n\n## é–¢é€£é …ç›®\n- [ä»»æ„Modint](ArbitraryModint.md)","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/arithmetic/ntt":{"title":"æ•°è«–å¤‰æ›","content":"\n## èª¬æ˜\n\nè¤‡ç´ æ•°ä¸Šã®FFTã‚’æœ‰é™ä½“ä¸Šã«å–ã‚Šæ›¿ãˆãŸã®ãŒNTTã€‚ä¹—æ³•ç¾¤ã®ä½æ•°ãŒå¤§ããª2ã®ã¹ãä¹—ã‚’æŒã£ã¦ã„ã‚‹ã¨ç²¾åº¦ã‚’è½ã¨ã•ãšã«è¨ˆç®—ã§ãã¦å¬‰ã—ã„ã€‚\n\n## è¨ˆç®—é‡\n\n$O(N\\log{N})$\n\n## å®Ÿè£…\n\n\n## ä½¿ç”¨ä¾‹\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/arithmetic/primes/FastFactorize":{"title":"é«˜é€Ÿç´ å› æ•°åˆ†è§£ (Pollard-Ïæ³•/Miller-Rabinæ³•)","content":"\n## èª¬æ˜\n\nPollard-$\\rho$ æ³•ã¨ Miller-Rabin æ³•ã‚’ç”¨ã„ã¦ $O(n^{\\frac{1}{4}}\\log^3n)$ ã§ç´ å› æ•°åˆ†è§£ã§ãã‚‹ã€‚\n\n### Millerâ€“Rabin ç´ æ•°åˆ¤å®šæ³•\n\nMiller-Rabin ç´ æ•°åˆ¤å®šæ³•ã¯ä¸ãˆã‚‰ã‚ŒãŸæ•° $n$ ãŒç´ æ•°ã‹ã©ã†ã‹ã‚’è¨ˆç®—æ™‚é–“ $O(k\\log^3 n)$ ã§èª¤ã‚Šç‡ $4^{-k}$ ä»¥ä¸‹ã§åˆ¤å®šã™ã‚‹ç¢ºç‡çš„ç´ æ•°åˆ¤å®šã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã‚ã‚‹ã€‚\n\nãƒ•ã‚§ãƒ«ãƒãƒ¼ã®å°å®šç†ã«ã¤ã„ã¦è€ƒãˆã‚‹ã€‚ç´ æ•°ã§ã‚ã‚‹å‰°ä½™ $n$ ã«ã¤ã„ã¦ã€ãã®ä¹—æ³•ç¾¤ã®ä½æ•° $n-1$ ã¯ãã‚Œã‚’ $2$ ã§å‰²ã‚Œã‚‹ã ã‘å‰²ã£ãŸæ•°ã‚’ $d$ ã¨ã—ã¦ $n-1 = 2^sd$ ã¨æ›¸ã‘ã‚‹ã€‚\n\n$$\n\\begin{aligned}\na^{n-1} \u0026= a^{2^sd} â‰¡ 1 \\quad \\pmod n \\\\\na^{2^sd}-1 \u0026= (a^d-1)(a^d+1)(a^{2d}+1)(a^{4d}+1)\\cdots(a^{2^{s-1}d}+1)\\\\\n\u0026â‰¡ 0 \\\\\n\\iff\u0026\\begin{cases}\na^d \u0026â‰¡ 1 \u0026 \\pmod n \\\\\na^{2^rd} \u0026â‰¡ -1 \u0026 \\pmod n \u0026 (\\exists r \\in \\mathbb{Z}, 0\\leq r\\leq s-1)\n\\end{cases}\n\\end{aligned}\n$$\n\nã“ã®å¯¾å¶ã‚’ã¨ã‚‹ã¨ã€ã€Œæ¬¡ã®2å¼ã‚’æº€ãŸã™ $a$ ãŒå­˜åœ¨ã™ã‚‹ãªã‚‰ã°\n\n$$\n\\begin{aligned}\n\\begin{cases}\na^d \u0026\\neq 1 \u0026 \\pmod n \\\\\na^{2^rd} \u0026\\neq -1 \u0026 \\pmod n \u0026 (\\forall r \\in \\mathbb{Z}, 0\\leq r\\leq s-1)\n\\end{cases}\n\\end{aligned}\n$$\n\n$n$ ã¯åˆæˆæ•°ã§ã‚ã‚‹ã€ã¨è¨€ãˆã‚‹ã€‚\n\nã“ã‚Œã‚’ç”¨ã„ã€æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ç¢ºç‡çš„ãªç´ æ•°åˆ¤å®šãŒã§ãã‚‹ã€‚\n\n1. ãƒ©ãƒ³ãƒ€ãƒ ã« $a \\in [1, n-1]$ ã‚’ã¨ã£ã¦ãã‚‹\n2. ä¸Šã®æ¡ä»¶ã‚’æº€ãŸã—ãŸã‚‰ composite ã¨è¿”ã™\n3. æº€ãŸã•ãªã‘ã‚Œã° probably prime ã¨è¿”ã™\n\nã“ã‚Œã‚’ç¹°ã‚Šè¿”ã™ã“ã¨ã§åˆ¤å®šã®ç²¾åº¦ãŒé«˜ã¾ã‚Šã¾ã™ã€‚ã“ã®å‡¦ç†ã‚’Millerâ€“Rabinç´ æ•°åˆ¤å®šæ³•ã¨å‘¼ã³ã¾ã™ã€‚\n\n2, 325, 9375, 28178, 450775, 9780504, 1795265022\n\n## è¨ˆç®—é‡\n\n$O(k\\log^3 n)$ ã€FFTãƒ™ãƒ¼ã‚¹ã®ä¹—ç®—ã‚’ç”¨ã„ã‚‹ã¨ $Ã•(k\\log^2 n)$\n\n## å®Ÿè£…\n\n## ä½¿ç”¨ä¾‹\n\n## å‚è€ƒ\n[Deterministic variants of the Miller-Rabin primality test](http://miller-rabin.appspot.com/)\n\n## é–¢é€£é …ç›®\n- [ç´ å› æ•°åˆ†è§£](Factorize.md)\n- [ç´ æ•°åˆ—æŒ™](Primes.md)","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/arithmetic/primes/factorize":{"title":"ç´ å› æ•°åˆ†è§£","content":"\n## èª¬æ˜\n\n\n## è¨ˆç®—é‡\n\n\n## å®Ÿè£…\n\n```cpp\n#include \u003cvector\u003e\n\ntemplate \u003ctypename T\u003e\nstd::vector\u003cstd::pair\u003cT, int\u003e\u003e factors(T N) {\n  std::vector\u003cstd::pair\u003cT, int\u003e\u003e res;\n  for (T a = 2; a * a \u003c= N; ++a) {\n    if (N % a != 0)\n      continue;\n    int e = 0;\n    while (N % a == 0) {\n      ++e;\n      N /= a;\n    }\n    res.push_back({a, e});\n  }\n  if (N != 1)\n    res.push_back({N, 1});\n  return res;\n}\n```\n\n## ä½¿ç”¨ä¾‹\n\n\n## é–¢é€£é …ç›®\n- [é«˜é€Ÿç´ å› æ•°åˆ†è§£ (Pollard-Ïæ³•/Miller-Rabinæ³•)](FastFactorize.md)\n- [ç´ æ•°åˆ—æŒ™](Primes.md)\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/arithmetic/primes/primes":{"title":"ç´ æ•°åˆ—æŒ™","content":"\n## èª¬æ˜\n\nã‚¨ãƒ©ãƒˆã‚¹ãƒ†ãƒã‚¹ã®ç¯©\n\n## è¨ˆç®—é‡\n\n\n## å®Ÿè£…\n\n```cpp\n#include \u003cvector\u003e\n\nstd::vector\u003cint\u003e primes;\nstd::vector\u003cbool\u003e Eratosthenes(int N) {\n  std::vector\u003cbool\u003e isprime(N + 1, true);\n  isprime[0] = isprime[1] = false;\n\n  for (int p = 2; p \u003c= N; ++p) {\n    if (!isprime[p])\n      continue;\n    primes.push_back(p);\n    for (int q = p * 2; q \u003c= N; q += p) {\n      isprime[q] = false;\n    }\n  }\n  return isprime;\n}\n```\n\n## ä½¿ç”¨ä¾‹\n\n\n## é–¢é€£é …ç›®\n- [ç´ å› æ•°åˆ†è§£](Factorize.md)\n- [é«˜é€Ÿç´ å› æ•°åˆ†è§£ (Pollard-Ïæ³•/Miller-Rabinæ³•)](FastFactorize.md)","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/arithmetic/zeta":{"title":"é«˜é€Ÿã‚¼ãƒ¼ã‚¿å¤‰æ›ãƒ»é«˜é€Ÿãƒ¡ãƒ“ã‚¦ã‚¹å¤‰æ›","content":"\n## èª¬æ˜\n\n\n\n## è¨ˆç®—é‡\n\n\n## å®Ÿè£…\n\n```cpp\n#include \u003cvector\u003e\n\ntemplate \u003ctypename T\u003e\nclass Eratosthenes {\npublic:\n  std::vector\u003cbool\u003e isprime; // ç´ æ•°\n  std::vector\u003cT\u003e minfactor;  // æœ€å°ã®ç´ å› æ•°\n  // ãƒ¡ãƒ“ã‚¦ã‚¹é–¢æ•° Î¼\n  // Î¼(1)=1\n  // n ãŒã‚ã‚‹ç´ æ•°pã§2å›ä»¥ä¸Šå‰²ã‚Šåˆ‡ã‚Œã‚‹ã¨ãã€Î¼(n)=0\n  // n=p1Ã—p2Ã—â€¦pK ã¨ç´ å› æ•°åˆ†è§£ã§ãã‚‹ã¨ãã€Î¼(n)=(âˆ’1)^K\n  // f(1)=âˆ‘[i=1~N]Î¼(i)F(i) ç´„æ•°ç³»åŒ…é™¤åŸç†\n  std::vector\u003cT\u003e mobius;\n\n  // ã‚¨ãƒ©ãƒˆã‚¹ãƒ†ãƒã‚¹ã®ç¯© O(NloglogN)\n  Eratosthenes(int N)\n      : isprime(N + 1, true), minfactor(N + 1, -1), mobius(N + 1, 1) {\n    isprime[1] = false;\n    minfactor[1] = 1;\n\n    for (T p = 2; p \u003c= N; ++p) {\n      if (!isprime[p])\n        continue;\n      minfactor[p] = p;\n      mobius[p] = -1;\n      for (T q = p * 2; q \u003c= N; q += p) {\n        isprime[q] = false;\n        if (minfactor[q] == -1)\n          minfactor[q] = p;\n        if ((q / p) % p == 0)\n          mobius[q] = 0;\n        else\n          mobius[q] = -mobius[q / p];\n      }\n    }\n  }\n\n  // é«˜é€Ÿç´ å› æ•°åˆ†è§£ O(NlogN)\n  std::vector\u003cpT\u003e factorize(int n) {\n    std::vector\u003cpT\u003e res;\n    while (n \u003e 1) {\n      T p = minfactor[n];\n      T exp = 0;\n\n      while (minfactor[n] == p) {\n        n /= p;\n        ++exp;\n      }\n      res.emplace_back(p, exp);\n    }\n    return res;\n  }\n\n  // é«˜é€Ÿç´„æ•°åˆ—æŒ™ O(\\sigma n)\n  std::vector\u003cT\u003e divisors(T n) {\n    std::vector\u003cT\u003e res({1});\n    std::vector\u003cpT\u003e pf = factorize(n);\n\n    for (auto [p, e] : pf) {\n      T s = (T)res.size();\n      for (T i = 0; i \u003c s; ++i) {\n        T v = res[i];\n        for (T j = 0; j \u003c e; ++j) {\n          v *= p;\n          res.push_back(v);\n        }\n      }\n    }\n    return res;\n  }\n\n  // é«˜é€Ÿã‚¼ãƒ¼ã‚¿å¤‰æ› O(NloglogN)\n  // F(n)=âˆ‘[n|i]f(i)\n  template \u003cclass T\u003e\n  void fast_zeta(std::vector\u003cT\u003e \u0026f) {\n    T N = f.size();\n    for (T p = 2; p \u003c N; ++p) {\n      if (!isprime[p])\n        continue;\n      for (T k = (N - 1) / p; k \u003e= 1; --k) {\n        f[k] += f[k * p];\n      }\n    }\n  }\n\n  // é«˜é€Ÿãƒ¡ãƒ“ã‚¦ã‚¹å¤‰æ› O(NloglogN)\n  // f(n)=âˆ‘[n|i]Î¼(i/n)F(i)\n  template \u003cclass T\u003e\n  void fast_mobius(std::vector\u003cT\u003e \u0026F) {\n    T N = F.size();\n    for (T p = 2; p \u003c N; ++p) {\n      if (!isprime[p])\n        continue;\n      for (T k = 1; k * p \u003c N; ++k) {\n        F[k] -= F[k * p];\n      }\n    }\n  }\n\n  // æ·»å­—GCDç•³ã¿è¾¼ã¿ O(NloglogN)\n  // h(n)=âˆ‘[GCD(i,j)=n]f(i)g(j)\n  // H(n)=F(n)G(n)\n  template \u003cclass T\u003e\n  std::vector\u003cT\u003e gcd_conv(const std::vector\u003cT\u003e \u0026f, const std::vector\u003cT\u003e \u0026g) {\n    T N = max(f.size(), g.size());\n    std::vector\u003cT\u003e F(N, 0), G(N, 0), H(N);\n    for (T i = 0; i \u003c f.size(); ++i)\n      F[i] = f[i];\n    for (T i = 0; i \u003c g.size(); ++i)\n      G[i] = g[i];\n\n    fast_zeta(F);\n    fast_zeta(G);\n\n    for (T i = 1; i \u003c N; ++i)\n      H[i] = F[i] * G[i];\n\n    fast_mobius(H);\n\n    return H;\n  }\n};\n```\n\n## ä½¿ç”¨ä¾‹\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/blog/Chinese":{"title":"","content":"å‰ç½®è©\n\n\nåŠ©å‹•è©\n| åŠ©å‹•è© | æ„å‘³                | å¦å®šå½¢      | æ„å‘³ |\n| ------ | ------------------- | ----------- | ---- |\n| ä¼š     | å¯èƒ½                | ä¸ä¼š        |      |\n| èƒ½     | å®¢è¦³çš„ã«å¯èƒ½        | ä¸èƒ½        |      |\n| å¯ä»¥   | è¨±å¯                | ä¸å¯ä»¥      |      |\n| æƒ³     | å¸Œæœ›, é¡˜æœ›          | ä¸æƒ³        |      |\n| è¦     | å¸Œæœ›, é¡˜æœ›, have to | ä¸æƒ³, ä¸è¦  | ç¦æ­¢ |\n| å¾—     | have to             | ä¸ç”¨,ä¸å¿…è¦ |      | \n\nã«ã‚ƒã‚“ã±ã™ãƒ¼\n\n\n\n\n\n\n\n\n\n\n\nwÇ’ jiÃ o YÇ”zuÇ’jiÃ n dÃ xÄ«.\nwÇ’ shÃ¬ DÅngjÄ«ng gÅngyÃ¨ gÅngyÃ¨ de xuÃ©sheng\nwÇ’ xuÃ©si ZhÅngguÃ³huÃ  yÄ«niÃ¡n\nwÇ’ you xihuen chi ZhÅngguÃ³cai, you bu zuo\nwÇ’ hun hao ZhÅngguÃ³ wÃ©nhuÃ .\nwÇ’ hai bu ti ZhÅngguÃ³, wo ti kankan ZhÅngguÃ³.","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/blog/ChromeExtension":{"title":"","content":"","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/blog/Vim":{"title":"","content":"### Matering Vim Language\nhttps://www.youtube.com/watch?v=wlR5gYd6um0\n\nhttps://vim.help/12-clever-tricks#12.2\nhttps://career.levtech.jp/guide/knowhow/article/29/\n\n### åƒ•ãŒVimã§æ„›ç”¨ã—ã¦ã„ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³30é€£ç™º\nhttps://liginc.co.jp/469142\n\n### Vim ã® operator ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã¾ã¨ã‚ãŸ\nhttps://qiita.com/rbtnn/items/a47ed6684f1f0bc52906\n\n### vimcolorschemes\nhttps://vimcolorschemes.com\n\nç«¶ãƒ—ãƒ­ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ãƒãƒƒãƒˆã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã€ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚’å…¥ã‚Œã‚‹å¿…è¦ãŒãªã„\nãƒ¯ãƒ³ãƒ©ã‚¤ãƒ³if/forã‚’ãƒ–ãƒ­ãƒƒã‚¯ã«å±•é–‹ã™ã‚‹operator\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/blog/WindowsPower":{"title":"","content":"\né›»æºã®ã‚¹ãƒªãƒ¼ãƒ—ãŒä¸Šæ‰‹ãä½œå‹•ã—ãªã„\nåŸå› ã®èª¿ã¹æ–¹\nã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ `powercfg /requests` é˜»å®³ã—ã¦ã„ã‚‹ã‚¢ãƒ—ãƒªãŒåˆ†ã‹ã‚‹.\nSYSTEM...","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/blog/global_cyber":{"title":"","content":"ï¼ˆ1ï¼‰What is your cyber security experience?\nI am familiar with cryptography and pwn and used to participate in CTF as traP and thehackerscrew. I studied kernel exploits from kernel modules and eBPF bugs, malware analysis, and Windows forensics at the security camp. I have a weekly reading group of math books on elliptic curve cryptography with professionals in the cryptography field, and I often read papers in the cryptography field. We created a programming language for mini-symbolic execution and IoT security.\n\nï¼ˆ2ï¼‰What is your English proficiency?\nEIKEN Grade 2\n\nï¼ˆ3ï¼‰ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ã‚­ãƒ£ãƒ³ãƒ—ã«å‚åŠ ã—ãŸã“ã¨ãŒã‚ã‚‹äººã¯ã€å‚åŠ ã—ãŸå¤§ä¼šåã¨ã€ã‚¯ãƒ©ã‚¹/ãƒˆãƒ©ãƒƒã‚¯/å—è¬›è¬›ç¾©ç­‰ã‚’æ•™ãˆã¦ãã ã•ã„ã€‚ (ãªã„å ´åˆã¯ã€Œãªã—ã€ã¨è¨˜è¼‰ã€‚)\nã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ã‚­ãƒ£ãƒ³ãƒ—å…¨å›½å¤§ä¼š2022 ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ (Cãƒˆãƒ©ãƒƒã‚¯ è„…å¨è§£æã‚¯ãƒ©ã‚¹)\n\nï¼ˆ4ï¼‰å…¬é–‹ã—ã¦ã‚‹æŠ€è¡“ç³»ã®æ´»å‹•ã‚„è³‡æ–™(ãƒ–ãƒ­ã‚°ã‚„ã€Twitterã€GitHubã€Slideshareã€Speaker Deckãªã©)ãŒã‚ã‚Šã¾ã—ãŸã‚‰URLç­‰ã‚’è¨˜è¼‰ã—ã¦ãã ã•ã„ã€‚\nhttps://twitter.com/Anko_9801\nhttps://github.com/anko9801\nhttps://www.slideshare.net/DaikiUsami\nhttps://speakerdeck.com/anko9801\nhttps://qiita.com/Anko_9801\n\nï¼ˆ5ï¼‰PowerShellãƒãƒ«ã‚¦ã‚§ã‚¢ã§ã¯ã‚ˆãã€ŒIEXã€ã¨ã„ã†æ–‡å­—åˆ—ãŒåˆ©ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚ãªãœã§ã—ã‚‡ã†ã‹ï¼Ÿæ”»æ’ƒè€…ç›®ç·šã§å›ç­”ã—ã¦ãã ã•ã„ã€‚\nPowershell ã«ãŠã„ã¦ IEX ã¯ Invoke-Expression ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã¨ã—ã¦çŸ¥ã‚‰ã‚Œã¦ã„ã‚‹. Invoke-Expression ã¯æ–‡å­—åˆ—ã‚’ Powershell ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨ã—ã¦è©•ä¾¡ã—å®Ÿè¡Œã—ã¾ã™. ã“ã‚Œã‚’ç”¨ã„ã‚‹ã“ã¨ã§ã‚³ãƒãƒ³ãƒ‰ã‚’ãã®ã¾ã¾å®Ÿè¡Œã™ã‚‹ã‚ˆã‚Šã‚‚é›£èª­åŒ–ã‚’æ–½ã™ã“ã¨ãŒã§ããŸã‚Š, ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—, ãƒ•ã‚¡ã‚¤ãƒ«æ¤œçŸ¥ã‚’å›é¿ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™. ã¾ãŸãã‚Œã‚’ xor ã‚„ base64 ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ã§ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚½ãƒ•ãƒˆã«æ¤œå‡ºã•ã‚Œã«ãã, æ‚ªæ„ã®ã‚ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™.\nhttps://learn.microsoft.com/ja-jp/powershell/module/microsoft.powershell.utility/invoke-expression?view=powershell-7.3\n\nï¼ˆ6ï¼‰HPå‹Ÿé›†è¦é …ã®ç”³è¾¼æ–¹æ³•ã‹ã‚‰å–å¾—ã—ãŸã€ŒFindTheKey.exeã€ã®ã‚³ãƒ¼ãƒ‰ã‚’ Python3 ã«ç§»æ¤ã—ã¦ãã ã•ã„ã€‚ï¼ˆ2022å¹´11æœˆ21æ—¥è¿½åŠ ï¼‰\n```python3\nkey = [0xCB, 0xF7, 0xFA, 0xBF, 0xE8, 0xF0, 0xF2, 0xFA, 0xF1, 0xBF, 0xF6, 0xF1, 0xBF, 0xD6, 0xDB, 0xDE, 0xBF, 0xF3, 0xF0, 0xF8, 0xF0, 0xBF, 0xF6, 0xEC, 0xBF, 0xD2, 0xFE, 0xFB, 0xFE, 0xF2, 0xFA, 0xBF, 0xFB, 0xFA, 0xBF, 0xD2, 0xFE, 0xF6, 0xF1, 0xEB, 0xFA, 0xF1, 0xF0, 0xF1, 0xB1]\n\nnumber_for_the_key = int(input(\"Input a number for the key (0-255):\"))\n\nif 0 \u003c= number_for_the_key \u003c 0x100:\n    for i in range(3):\n        key[i] ^= number_for_the_key\n\n    prefix = b\"The\"\n    flag = True\n    for i in range(3):\n        if key[i] != prefix[i]:\n            flag = False\n\n    if flag:\n        for i in range(3,0x2d):\n            key[i] ^= number_for_the_key\n        print(bytes(key))\n    else:\n        print(\"Wrong key!!\")\n```\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/blog/memo":{"title":"","content":"\nESQuery\nhttps://zenn.dev/ubie_dev/articles/a5c8fb2d219258\næ—¢å­˜ã®ãƒ«ãƒ¼ãƒ«ã‚’ãƒã‚§ãƒƒã‚¯ã—ãªã„ã§ã‚„ã‚Œã‚‹\nç°¡æ˜“çš„ãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã“ã¨ã§lintã—ã¦ãã‚Œã‚‹ã‚„ã¤ãŒæ¬²ã—ã„.\nrust-analyzerã«clippyãŒå…¥ã£ãŸ.\nhttps://keens.github.io/blog/2019/12/23/jisakulintru_rutocargo_fixderustnoko_doworifakutasuru/\næ•´å½¢\n\nsmart replacer\n\njavascript optimizerã§æœ€å¼·ã‚‰ã—ã„\nhttps://github.com/google/closure-compiler\nTyped AST\nproto\nhttps://github.com/facebookarchive/prepack\nhttps://prepack.io/repl.html#BQMwrgdgxgLglgewgAmASmQbwFDOeaeJZAWwEM4J0tc9kokBnGZAJwFNHkBefdWvAwiMEAG3YA6UQgDmwDozS0AvrXKV0Abmy0CsRChCoMOOvSYsAHj2QBmAW3YwwrFJZXZlaLUA\n\noptimizer å›³é‘‘ã‚’ä½œã‚ŠãŸã„\n\ntest suite\nã‚„ã°ã„ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã‚’åéŒ²\nhttps://github.com/tc39/test262\n\nOcaml multicore -\u003e Reactã®Fiberã«å½±éŸ¿\n\nREASON OCaml ãŒãƒ™ãƒ¼ã‚¹ Facebookã«ã¯OCamlæ´¾é–¥ãŒã„ã‚‹\nhttps://reasonml.github.io/\n\ntraQ fuzzy search\n\nRust ORM Diesel","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/blog/security_camp":{"title":"","content":"ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ã‚­ãƒ£ãƒ³ãƒ—å…¨å›½å¤§ä¼š2022 ã‚ªãƒ³ãƒ©ã‚¤ãƒ³\nå°‚é–€ã‚³ãƒ¼ã‚¹ Cã€è„…å¨è§£æã‚¯ãƒ©ã‚¹ã€‘å¿œå‹Ÿèª²é¡Œ\n\nä»¥ä¸‹ã®å•1ã‹ã‚‰å•8ã«ã¤ã„ã¦ã€ãã‚Œãã‚Œ5,000æ–‡å­—ä»¥å†…ã§å›ç­”ã—ã¦ãã ã•ã„ã€‚\n\nå•5ãŠã‚ˆã³å•6ã«ã¤ã„ã¦ã¯é…å¸ƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ä»¥ä¸‹ã«é…å¸ƒãƒ•ã‚¡ã‚¤ãƒ«ã®SHA-256ãƒãƒƒã‚·ãƒ¥å€¤ã‚’è¨˜è¼‰ã—ã¾ã™ã®ã§ã€æ­£ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å–å¾—ã§ãã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ãŸä¸Šã§èª²é¡Œã«å–ã‚Šçµ„ã‚“ã§ãã ã•ã„ã€‚\n\n- sc2022_challenge05.zip\n  - 0292b1972845b6c3a57129acfd0de403f6f8080a4e2a3eef93c3913c63efe0df\n\n- sc2022_20220322T230402.zip\n  - 088e8fb04f486bae5d2dca1ccf9e5b971044c297bd03f7a5bd05bfaded6f27c3\n\nãªãŠã€æ­£è§£ãŒã‚ã‚‹è¨­å•ã«ã¤ã„ã¦ã¯ã€\"æ­£è§£ã—ã¦ã„ã‚‹ã“ã¨\"ã‚ˆã‚Šã‚‚\"æ­£è§£ã«ãŸã©ã‚Šç€ãã¾ã§ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚„ç†±æ„\"ã‚’é‡è¦è¦–ã—ã¦ã„ã¾ã™ã€‚ç­”ãˆã«ãŸã©ã‚Šç€ãã¾ã§ã®è©¦è¡ŒéŒ¯èª¤ã‚„è‡ªåˆ†ãªã‚Šã®å·¥å¤«ç­‰ã‚’æ›¸ã„ã¦ã€ç²¾ä¸€æ¯ã‚¢ãƒ”ãƒ¼ãƒ«ã—ã¦ãã ã•ã„ã€‚\n\n## å•1\nã‚ãªãŸãŒã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ã‚­ãƒ£ãƒ³ãƒ—å…¨å›½å¤§ä¼šã«å¿œå‹Ÿã™ã‚‹ç†ç”±ã‚’æ•™ãˆã¦ãã ã•ã„ã€‚å—è¬›ç”Ÿã‚„è¬›å¸«ã¨ã®ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€å—è¬›ã—ãŸã„è¬›ç¾©ã€ãªã‚ŠãŸã„è‡ªåˆ†ãªã©ã€ä½•ã§ã‚‚æ§‹ã„ã¾ã›ã‚“ã€‚\n\nç§ã¯å¤§å­¦ã®ã‚µãƒ¼ã‚¯ãƒ«ã§CTFç­ã¨å‘¼ã°ã‚Œã‚‹ç­ã«æ‰€å±ã—ã€æ¯é€±CTFã«å‚åŠ ã—ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«ã¤ã„ã¦å­¦ã‚“ã§ã„ã¾ã™ã€‚å…ˆæœˆã€ãã®ã‚µãƒ¼ã‚¯ãƒ«ãŒä¸»å‚¬ã™ã‚‹CTFã®å•é¡Œã®ä½œæˆã‹ã‚‰é–‹ç™ºã€é‹å–¶ã¾ã§æºã‚ã‚‹æ©Ÿä¼šã‚’é ‚ãã€ãã‚Œã‚‰ã‚’çµŒé¨“ã—ãŸçµæœã€è‡ªåˆ†ãŒã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«ã¤ã„ã¦çŸ¥ã‚‰ãªã„ã“ã¨ãŒã‚ã¾ã‚Šã«ã‚‚å¤šãã€çŸ¥ã£ã¦ã„ã¦ã‚‚è¡¨é¢çš„ã§æ–­ç‰‡çš„ãªã“ã¨ã«éããªã„ã“ã¨ã‚’ç—›æ„Ÿã—ã¾ã—ãŸã€‚ãã‚Œã§ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«ã¤ã„ã¦ã€å¾¹åº•çš„ã«å‹‰å¼·ã—ãŸã„ã¨å¼·ãæ€ã£ãŸã“ã¨ãŒã‚»ã‚­ãƒ¥ã‚­ãƒ£ãƒ³ã«å¿œå‹Ÿã™ã‚‹ç†ç”±ã§ã™ã€‚\n\nç®‡æ¡æ›¸ãã«ã™ã‚‹ã¨ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚\n\n- CTFã«å¼·ããªã‚ŠãŸã„\n- å¼·ã„äººã‚„çŸ¥ã‚‰ãªã„åˆ†é‡ã¨å‡ºä¼šã£ã¦åˆºæ¿€ã•ã‚ŒãŸã„`\n- ã‚«ãƒ¼ãƒãƒ«ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ã‚¤ãƒˆã‚’å‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã£ã¦ã‚«ãƒ¼ãƒãƒ«ã®è„†å¼±æ€§ã‚’è¦‹ã¤ã‘ã€ä¿®æ­£ã€å ±å‘Šã—ãŸã„\n- ã‚¦ã‚¤ãƒ«ã‚¹ã‚’å®Ÿéš›ã«èª­ã‚“ã§Anti Virusã‚½ãƒ•ãƒˆã‚’è‡ªä½œã—ã¦ã¿ãŸã„\n- ç‰©ç†ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¸ã®æ”»æ’ƒã‚„è¤‡æ•°ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’é€šã˜ãŸæ”»æ’ƒã€ä»–åˆ†é‡ã¨åˆã‚ã›ãŸæ”»æ’ƒ(ã‚·ãƒ¼ã‚±ãƒ³ã‚µãƒ¼ã®è„†å¼±æ€§ã‚’è¸ã‚€ã‚ˆã†ãªDNAã®ç”Ÿæˆãªã©)ã€æœ€è¿‘ã®æŠ€è¡“ã§ã‚ã‚‹TEEã‚„eBPFã¸ã®æ”»æ’ƒã«ã¤ã„ã¦çŸ¥ã‚ŠãŸã„\n- æ”»æ’ƒ/é˜²å¾¡ã‚’æŠ½è±¡åŒ–ã—ãŸã„\n\næ¬²å¼µã‚Šã§ã™ãŒã€ä½•ã§ã‚‚å­¦ã‚“ã§çµŒé¨“ã—ã¦ã¿ãŸã„ã§ã™ã€‚\n\n## å•2\nä»Šã¾ã§ã«è§£æã—ãŸã“ã¨ã®ã‚ã‚‹ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚„ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã«ã¯ã©ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿè§£æã®ç›®çš„ã‚„è§£ææ–¹æ³•ã€çµæœã¨ã—ã¦å¾—ã‚‰ã‚ŒãŸçŸ¥è¦‹ãªã©ã‚’å«ã‚ã¦æ•™ãˆã¦ãã ã•ã„ã€‚\n\nCTFã§å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã‚“ã ã‚Šã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã™ãŒã€ä¸–ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®ãƒã‚¤ãƒŠãƒªã‚’èª­ã‚€ã¨è¨€ã£ãŸçµŒé¨“ãŒä¹ã—ãã¦æœ¬å½“ã®è§£æã®ä¾‹ã‚’å‡ºã›ã¾ã›ã‚“ã€‚ãŸã ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚€ã¨ã„ã†ä½“é¨“ãªã‚‰å¹¾ã¤ã‹ã‚ã‚Šã¾ã™ã€‚\n\nLinuxã‚«ãƒ¼ãƒãƒ«ã‚’çŸ¥ã‚ŠãŸã„ã¨ã„ã†æ¬²æ±‚ã‹ã‚‰ã‚µãƒ¼ã‚¯ãƒ«ã®2äººã§Linuxã‚«ãƒ¼ãƒãƒ«ã‚’èª­ã‚€ã“ã¨ã‚’ã—ã¦ã„ã¾ã™ã€‚syscallã®å®Ÿè£…ã‚„ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã€ãƒ¡ãƒ¢ãƒªç®¡ç†ã‚„KASLRãªã©ã®å®Ÿè£…ã‚’èª­ã‚“ã§ã„ã¾ã—ãŸã€‚é«˜é€ŸåŒ–ã®ç‚ºã«èª­ã¿ã«ããé›‘(?)ãªå®Ÿè£…ã«ãªã‚‹ã®ãŒé¢ç™½ã„ãªã¨æ„Ÿã˜ã¾ã™ã€‚å¾—ã‚‰ã‚ŒãŸçŸ¥è¦‹ã¨ã„ã†ã¨å¤§ããªã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚€åŠ›ã§ã™ã€‚è‡ªåˆ†ã¯ã©ã‚“ãªã‚³ãƒ¼ãƒ‰ã§ã‚ã‚Œã€æ°—ã«ãªã£ãŸæ©Ÿèƒ½ã‚’ä¸€ç•ªä¸‹ã¾ã§æ·±æ˜ã‚Šã—ã¦èª­ã¿ãŸããªã£ã¦ã—ã¾ã†ã®ã§ã™ãŒã€ã‚‚ã†1äººã®æ–¹ãŒé€”ä¸­ã§åˆ‡ã‚Šä¸Šã’ã¦ãã ã•ã‚Šã€ä¸åº¦ã„ã„å¡©æ¢…ã§èª­ã‚€ã“ã¨ãŒå‡ºæ¥ã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚(ãã‚Œã§ã‚‚æŠ‘ãˆãã‚Œãšã€é€”ä¸­ã‹ã‚‰èª­ã‚“ã§ã‚‹å ´æ‰€ãŒå…¨ç„¶é•ã£ã¦ãã¦çŸ¥è¦‹ã‚’å…±æœ‰ã§ããªã„ã“ã¨ãŒå¤šã€…ã‚ã‚Šã¾ã—ãŸç¬‘)\n\nå¾Œã¯å¿…è¦ã«å¿œã˜ã¦ OSS ä¾‹ãˆã° python ã‚„ golang ãªã©ã®è¨€èªã®å®Ÿè£…ã ã£ãŸã‚Š V8 ã ã£ãŸã‚Š CTF ã§ã¯ Crypto ã‚’æ‹…å½“ã—ã¦ã‚‹ã®ã§ SageMath ã®å®Ÿè£…ã ã£ãŸã‚Šã‚’ã‚ˆãèª­ã¿ã¾ã™ã€‚\n\nãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ç³»ã§ã‚ã‚Œã°è³¼å…¥ã—ã¦ããŸLEDãƒ©ãƒ³ãƒ—ã®å…‰é‡ãŒå°‘ãªã„ç‚ºã€å›è·¯ã‚’èª­ã‚“ã§ã¯ã‚“ã ä»˜ã‘ã—ã¦å…‰é‡ã‚’å¢—ã‚„ã—ã¾ã—ãŸã€‚ã¾ãŸç‰©ã‚’åˆ†è§£ã™ã‚‹ç™–ãŒã‚ã‚Šã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã€ãƒ©ã‚¸ã‚ªã€ã‚¿ãƒƒãƒ—ã€ãƒ«ãƒ¼ã‚¿ãƒ¼ãªã©ã‚’åˆ†è§£ã—ãŸã‚Šã—ã¾ã—ãŸã€‚\n\n## å•3\nä»Šã¾ã§ã«ä½œæˆã—ãŸã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚„ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã«ã¯ã©ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿ\nã©ã‚“ãªè¨€èªã‚„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€ãƒ‘ãƒ¼ãƒ„ã‚’ä½¿ã£ã¦ä½œã£ãŸã®ã‹ã€ã©ã“ã«ã“ã ã‚ã£ã¦ä½œã£ãŸã®ã‹ã€ãªã©ãŸãã•ã‚“è‡ªæ…¢ã—ã¦ãã ã•ã„ã€‚\n\n- è‡ªä½œãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª\n2018å¹´åº¦ã®SecHack365ã«å‚åŠ ã—ã€IoTå‘ã‘è¨€èªã¨ã—ã¦å®‰å…¨æ€§ã¨æ‰‹è»½ã•ã€é€Ÿåº¦ã‚’æŒã¡åˆã‚ã›ãŸè¨€èªã‚’ä½œã‚Šã¾ã—ãŸã€‚C++ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ç”¨ã„ã€LLVMãƒ™ãƒ¼ã‚¹ã®è¨€èªã§ã€C++, Rust, Kotlinã«å½±éŸ¿ã•ã‚Œã¦ã„ã¦ã€ä»–ã¨ã¯é•ã†æ‰€ã¯ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã«é–¢é€£ã™ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ãŸã‚Šã—ãŸæ‰€ã§ã™ã€‚ãã®å½“æ™‚ã¯ãã‚Œã§æº€è¶³ã—ã¦ã„ãŸã‚ˆã†ã§ã™ãŒã€ä»Šã®è¦–ç‚¹ã‹ã‚‰ã™ã‚‹ã¨ãŠã‚‚ã¡ã‚ƒãªã®ã§ã‚ˆã‚Šå®‰å…¨ã§å¿ƒåœ°ã‚ˆã„è¨€èªã‚’æ›¸ããŸã„ãªã¨æ€ã„ã¾ã™ã€‚\n\n- é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ç”¨ã®C++ãƒ©ã‚¤ãƒ–ãƒ©ãƒª\nJOIã®å¤å­£åˆå®¿ã§qasmã¨å‘¼ã°ã‚Œã‚‹è¨€èªã¸ã®ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ©ã¨å¤å…¸ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ä¸Šã§ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ(ã‚‚ã¡ã‚ã‚“qubitæ•°ã«å¯¾ã—æŒ‡æ•°æ™‚é–“/ãƒ¡ãƒ¢ãƒª)ã‚’IBM Qã«ã‚ã‚‹æ¼”ç®—ã«å¯¾ã—å®Ÿè£…ã—ã¾ã—ãŸã€‚\n\n- å°†æ£‹AI\né«˜æ ¡ç”Ÿã®ã“ã‚ã€ãƒ‡ã‚£ãƒ¼ãƒ—ãƒ©ãƒ¼ãƒ‹ãƒ³ã‚°ã‚’ç”¨ã„ã¦ä½•ã‹ä½œã‚ŠãŸã„ã¨æ€ã„ã€å°†æ£‹AIã‚’å­¦ç¿’ã•ã›ã¾ã—ãŸã€‚ã©ã“ã‹ã®ã‚µã‚¤ãƒˆã«ã‚ã‚‹æ£‹è­œã‚’å…ƒã« Chainer ã§æ›¸ã„ãŸã‚‚ã®ã«å­¦ç¿’ã•ã›ã¾ã—ãŸã€‚ãã®å½“æ™‚ã¯æ¢ç´¢ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«å¼±ãã€ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒ¼ã‚¿æ³•ãªã©ã‚’çŸ¥ã‚‰ãªã‹ã£ãŸç‚ºã€åºç›¤/ä¸­ç›¤ã¯å¼·ã„ã§ã™ãŒçµ‚ç›¤ã¯ã‹ãªã‚Šå¼±ã„ã¨ã„ã†ã‚‚ã®ã«ãªã‚Šã¾ã—ãŸã€‚æœ€è¿‘ã§ã¯ GPT-3 ãªã©ã® Transformer ãŒæµè¡Œã£ã¦ã„ã¦ã€ã‚‚ã†ä¸€åº¦å‹‰å¼·ã—ç›´ã—ã¦éŸ³å£°å¤‰æ›æŠ€è¡“ã‚„ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚¿ãƒ–ã«ã¤ã„ã¦ã‚«ãƒ†ã‚´ãƒªã«å¿œã˜ã¦è‡ªå‹•çš„ã«ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã™ã‚‹ã‚‚ã®ã€ã‚ã¨ã¯æ–‡ç« ã‚’æ›¸ãã®ãŒè‹¦æ‰‹ãªã®ã§ãƒ–ãƒ­ã‚°ã‚’æ›¸ããŠæ‰‹ä¼ã„ã‚’ã—ã¦ãã‚Œã‚‹ã‚‚ã®ãªã©ã‚’ä½œã‚ŠãŸã„ãªã¨æ€ã£ã¦ã„ã¾ã™ã€‚\n\n- æ°´ä¸­ãƒ­ãƒœãƒƒãƒˆ\né«˜æ ¡ã®ã¨ãã«æ°´ä¸­ãƒ­ãƒœãƒƒãƒˆã‚’ãƒãƒ¼ãƒ ã§é–‹ç™ºã—ã€æ°´ä¸­ãƒ­ãƒœã‚³ãƒ³inJAMSTECã«èŠæµ¦å·¥æ¥­å¤§å­¦é™„å±é«˜æ ¡ã¨ã—ã¦å‚åŠ ã—ã€å„ªå‹ã—ã¾ã—ãŸã€‚è‡ªåˆ†ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’æ›¸ã„ãŸã ã‘ãªã®ã§ã»ã¼ä»–ã®æ–¹ã®ãŠã‹ã’ã§ã™ãŒã€ãã‚ŒãŒãã£ã‹ã‘ã¨ãªã‚Šã€ä»Šã¯æ°´ä¸­ãƒ­ãƒœã‚³ãƒ³ã®ã‚µãƒ¼ã‚¯ãƒ«ã§å›è·¯ã‚’çµ„ã‚€æ‰‹ä¼ã„ã‚’ã—ã¦ã„ã¾ã™ã€‚\n\n- ãƒ¬ã‚¤ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°\nã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã«ã¤ã„ã¦ã‚ã¾ã‚Šç†è§£ã§ãã¦ãªã‹ã£ãŸã®ã§ãƒ¬ã‚¤ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°æŠ€è¡“ãŒé¢ç™½ãã†ã¨æ€ã„ãã®ã‚¨ãƒ³ã‚¸ãƒ³ã‚’é–‹ç™ºã—ã¾ã—ãŸã€‚Ray Tracing in One Weekend ã¨ã„ã†è¨˜äº‹ã‚’å‚è€ƒã«ã—ã¦Rustã§æ›¸ãã€ppmã¨å‘¼ã°ã‚Œã‚‹å½¢å¼ã§å‡ºåŠ›ã—ã¦è¡¨ç¤ºã™ã‚‹ã¨ã„ã†ã‚‚ã®ã‚’ä½œã‚Šã¾ã—ãŸã€‚ãƒ¬ã‚¤ãƒãƒ¼ãƒãƒ³ã‚°ã¯ã¾ã å‡ºæ¥ã¦ãªã„ã®ã§ã‚„ã‚ŠãŸã„ãªã¨æ€ã£ã¦ã„ã¾ã™ã€‚\n\n- ELFè§£æãƒ„ãƒ¼ãƒ«\nELFã®é™çš„è§£æã¨å‹•çš„è§£æãŒã§ãã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ELFãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒã‚¤ãƒŠãƒªã§ç›´èª­ã¿ã§ãã‚‹ã‚ˆã†ã«ãªã‚ŠãŸã„ã¨æ€ã„é–‹ç™ºã—ã¾ã—ãŸã€‚\né™çš„è§£æã¯ ELF header, Program header table, Section header table ãªã©ã‚’èª­ã‚“ã§ Spotify TUI ãªã©ã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒª tui-rs ã§ TUI è¡¨ç¤ºã—ã¦ã‚‚ã‚‰ã†ã‚‚ã®ã§ã™ã€‚å‹•çš„è§£æã¯å®Ÿè³ªè‡ªä½œãƒ‡ãƒãƒƒã‚¬ãƒ¼ã§ãã‚Œã‚’å®Ÿè¡Œã™ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã‚’èµ·å‹•ã—ã¦ptraceã§ã‚¢ã‚¿ãƒƒãƒã—ã€ãƒ¬ã‚¸ã‚¹ã‚¿ã‚„ã‚¢ã‚»ãƒ³ãƒ–ãƒªãªã©ã®æƒ…å ±ã‚’å–ã£ã¦ãã¦è¡¨ç¤ºã—ã¦ãã‚Œã‚‹ã‚‚ã®ã§ã™ã€‚ãƒ¡ãƒ¢ãƒªã®å€¤ã‹ã‚‰å¤§ä½“ã®å‹ã‚’æ±ºã‚ã¦ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯å‚ç…§å…ˆã®ã‚‚è¡¨ç¤ºã—ãŸã‚Šæ–‡å­—åˆ—ã¯æ–‡å­—åˆ—ã¨ã—ã¦è¡¨ç¤ºã—ã¾ã—ãŸã€‚\n\n- è‡ªä½œã‚·ãƒ³ãƒœãƒªãƒƒã‚¯å®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³\nrevå•ã‚’ã‚„ã£ã¦ã„ã‚‹ã¨angrã¨å‘¼ã°ã‚Œã‚‹ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯å®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³ã‚’ã‚ˆãä½¿ã†ã®ã§ã™ãŒã€ãã®ä»•çµ„ã¿ãŒã‚ã‚“ã¾ã‚Šç†è§£ã§ãã¦ãªã‹ã£ãŸã®ã§è‡ªä½œã—ã¾ã—ãŸã€‚é–‹ç™ºæœŸé–“ãŒ3æ—¥é–“ãªã®ã§x64ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§æœ¬å½“ã«å°è¦æ¨¡ãªã‚‚ã®ã‚’ä½œã‚Šã¾ã—ãŸ(æœ¬å½“ã¯ãƒœãƒ¼ã£ã¨ç”Ÿãã¦ãŸã‚‰3æ—¥å¾Œã«LTãŒã‚ã‚‹ã“ã¨ã«æ°—ä»˜ãã€ã‚„ã°ã„ã¨æ€ã„ã¤ã¤ã€ã“ã®ç„¡è¬€ãªãƒã‚¿ã«ã—ãŸã‚‰ä½œã‚Œã¦ã—ã¾ã£ãŸã¨ã„ã†ç· åˆ‡é§†å‹•é–‹ç™ºã®å‡„ã•ã¨æã‚ã—ã•ã‚’çŸ¥ã‚Šã¾ã—ãŸ)ã€‚\nã‚·ãƒ³ãƒœãƒªãƒƒã‚¯å®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³è‡ªä½“ã®ä»•çµ„ã¿ã¯å‘½ä»¤åˆ—ã‚’SMTã«æŠ•ã’ã‚‹ã ã‘ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚å®Ÿéš›ã¯SMTã¾ã§è‡ªä½œã—ãŸã‹ã£ãŸã§ã™ãŒã€è³‡æ–™ãŒè¦‹ã¤ã‹ã‚‰ãšã€z3ã«ä»»ã›ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚å®Ÿè£…ã¯x64ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®å¿…è¦æœ€å°é™ã®å‘½ä»¤ã‚’å®Ÿè£…ã—ã¾ã—ãŸã€‚ãƒã‚¿ã‚’è€ƒãˆãŸã¨ãã«ãã®æ™‚æµè¡Œã£ã¦ã„ãŸCVE-2022-0778: OpenSSLã®ç„¡é™ãƒ«ãƒ¼ãƒ—ã®è„†å¼±æ€§ã‚’æ¤œå‡ºã—ã‚ˆã†ã¨è€ƒãˆã¦ã„ã¾ã—ãŸãŒã€æ™®é€šã«ã‚„ã‚‹ã¨(ã‚ˆãè€ƒãˆã‚Œã°ã§ããã†ã§ã™ãŒ)ãƒ«ãƒ¼ãƒ—å›æ•°ã«å¯¾ã—ã€æŒ‡æ•°æ™‚é–“æ›ã‹ã‚Šã€5,6å›ãã‚‰ã„ã®ãƒ«ãƒ¼ãƒ—ã§æ•°æ™‚é–“ã®ã‚ªãƒ¼ãƒ€ãƒ¼ã¨ãªã‚Šã€æ•°åå›ã¾ã§ãƒ«ãƒ¼ãƒ—ã™ã‚Œã°ç„¡é™ãƒ«ãƒ¼ãƒ—ã¨æ±ºå®šã§ããŸã®ã§ã™ãŒã€ãã®æ¤œå‡ºã¯ä¸å¯èƒ½ã¨å¾Œã§æ°—ä»˜ãã¾ã—ãŸã€‚\nã¾ãŸè¨€èªã¯Rustã§é–‹ç™ºã—ãŸã®ã§ã™ãŒè¨­è¨ˆã®æ®µéšã§å¤§ããªé–“é•ã„ã‚’çŠ¯ã—ã¦ã„ã¦ã€ã©ã®ã‚ˆã†ã«ã—ã¦ã‚‚è§£æ±ºã§ããªã„ã‚ˆã†ãªå¾ªç’°å‚ç…§ã«é™¥ã‚Šã€ãã®ä¿®æ­£ã«ã‹ãªã‚Šæ‚©ã¾ã›ã‚‰ã‚Œã€é–‹ç™ºã®ã»ã¨ã‚“ã©æ™‚é–“ã¯ã“ã‚Œã«æ³¨ãè¾¼ã¿ã¾ã—ãŸã€‚ãŠã‹ã’ã§Rustã®è¨­è¨ˆæ€æƒ³ãŒåˆ†ã‹ã‚‹ã‚ˆã†ã«ãªã‚Šã€ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã«é ­ã‚’æŠ±ãˆã‚‹ã¨ã„ã†ã“ã¨ãŒã»ã¼ç„¡ããªã‚Šã¾ã—ãŸã€‚\n\n- ç«¶æŠ€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã¨CTFã®ã‚³ãƒ³ãƒ†ã‚¹ãƒˆã®é‹å–¶ã€é–‹ç™ºã€ä½œå•\né–‹ç™ºã§ã¯ Rust, React ã§ç«¶ãƒ—ãƒ­ã®ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œã¨ãƒ•ãƒ­ãƒ³ãƒˆã‚’ç¹‹ãéƒ¨åˆ†ã®ä¿®æ­£ã‚’ã—ãŸã‚Šã€ Ansible ã‚’æ›¸ãã¾ã—ãŸã€‚ä½œå•ã¯ Crypto åˆ†é‡ã‚’ä¸»ã«ä½œã‚Šã€ä»–ã¯ç°¡å˜ãªã‚‚ã®ã‚’1ã¤ãšã¤ã»ã©ä½œã‚Šã¾ã—ãŸã€‚æ”¹ã‚ã¦ CTFer ã¨ã—ã¦ã‚ˆã‚ã„ãªã¨æ„Ÿã˜ã€ã“ã‚Œã‹ã‚‰1å¹´å¼·ããªã‚ã†ã¨æ±ºæ„ã—ã¾ã—ãŸã€‚\n\n- ãã®ä»–\nã“ã‚Œã¯è»Šè¼ªã®å†ç™ºæ˜ã§é–‹ç™ºã«ã¯å…¥ã‚‰ãªã„ã¨æ€ã„ã¾ã™ãŒã€ç†è§£ã—ãŸããªã£ãŸã‚‰è‡ªä½œã™ã‚‹ã“ã¨ãŒã‚ã‚Šã€OS, ã‚·ã‚§ãƒ«, ALU, DB, ã‚²ãƒ¼ãƒ ã‚¨ãƒ³ã‚¸ãƒ³ ãªã©ã‚’è‡ªä½œã—ã¾ã—ãŸã€‚\n\n## å•4\nã“ã“æ•°å¹´ã«ç™ºè¡¨ã•ã‚ŒãŸã€ä»¥ä¸‹ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã«é–¢é€£ã™ã‚‹ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚„è¨˜äº‹ã‚„å­¦è¡“è«–æ–‡ã‹ã‚‰1ã¤é¸ã³ã€ãã‚Œã«é–¢ã—ã¦èª¿ã¹ãŸå†…å®¹ã‚’è¨˜è¿°ã—ã¦ãã ã•ã„ã€‚å†…å®¹ã«ã¯ã€1.é¸ã‚“ã ç†ç”±ã€2.æŠ€è¡“çš„è©³ç´°ã€3.è¢«å®³è¦æ¨¡ã¾ãŸã¯å½±éŸ¿ç¯„å›²ã€4.å¯¾ç­–ã€ã®4ç‚¹ã‚’å¿…ãšå«ã‚ã¦ãã ã•ã„ã€‚ãªãŠã€å¯¾ç­–ã¯ä»Šã‚ã‚‹æŠ€è¡“ã®ã¿ã«æ•ã‚ã‚Œãšã€å°†æ¥çš„ãªæŠ€è¡“ã‚„æ³•å¾‹ãªã©ã€è‡ªç”±ãªç™ºæƒ³ã§æ›¸ã„ã¦ãã ã•ã„ã€‚\n\nã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ï¼š\n- ã‚µã‚¤ãƒãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆ\n- ãƒãƒ«ã‚¦ã‚§ã‚¢\n- æ”»æ’ƒã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³\n- è„†å¼±æ€§\n- æ–°ãŸãªæ”»æ’ƒæ‰‹æ³•\n- æœªçŸ¥ã®è„…å¨\n\nã‚µã‚¤ãƒãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆã®1ã¤ã¨ã—ã¦ã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³æ”»æ’ƒãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯ã©ã†ã™ã‚Œã°æ”»æ’ƒã‚’é˜²ãã“ã¨ãŒã§ãã‚‹ã‹æ°—ã«ãªã£ãŸãŸã‚é¸ã³ã¾ã—ãŸã€‚\nã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³æ”»æ’ƒã¨ã¯ä¾‹ãˆã°OSSã§ã‚ã‚Œã°ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«æ‚ªæ„ã®ã‚ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒåŸ‹ã‚è¾¼ã‚ã‚‰ã‚Œã‚‹ã¨ãã‚Œã«ä¾å­˜ã™ã‚‹å…¨ã¦ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«è¢«å®³ãŒæ³¢åŠã™ã‚‹ã‚ˆã†ãªæ”»æ’ƒã§ã™ã€‚ä»Šå¹´3æœˆã«ã‚‚npmã§ã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³æ”»æ’ƒãŒã‚ã‚Šã¾ã—ãŸã€‚ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã§ã‚ã‚Œã°ã€éƒ¨å“ã®ãƒœãƒ¼ãƒ‰ã«å¾®å°ãªãƒãƒƒãƒ—ãŒåŸ‹ã‚è¾¼ã¾ã‚Œã¦ã„ãŸã‚Šã€ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ãƒˆãƒ­ã‚¤ã¨å‘¼ã°ã‚Œã‚‹é›†ç©å›è·¯ã«ä¸æ­£ãªå‡¦ç†ãŒåŸ‹ã‚è¾¼ã¾ã‚Œã¦ã„ãŸã‚Šã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã€ãã‚Œã‚’ãƒ™ãƒ¼ã‚¹ã«çµ„ã‚“ã è£½å“ã¯æ©Ÿå¯†æƒ…å ±ã‚’ç›—ã¾ã‚ŒãŸã‚Šå¦¨å®³ã•ã‚Œã‚‹ã“ã¨ãŒè€ƒãˆã‚‰ã‚Œã¾ã™ã€‚\nã“ã‚Œã‚‰ã«å¯¾ã—ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’æ‹…ä¿ã™ã‚‹ãŸã‚ã«ã¯ã€æ‚ªæ„ã®ã‚ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ¤œçŸ¥ã™ã‚‹æ‰‹æ³•ã‚„ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ãƒˆãƒ­ã‚¤ã‚’æ¤œå‡ºã™ã‚‹æ‰‹æ³•ã‚’é–‹ç™ºã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ãã‚ŒãŒå‡ºæ¥ãªã‘ã‚Œã° DevSecOps ã®æ€æƒ³ã®ã‚ˆã†ã«éƒ¨å“èª¿é”ã‹ã‚‰ã‚µãƒ¼ãƒ“ã‚¹åŒ–ã¾ã§å…¨ä½“ã‚’é€šã˜ãŸã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®è©•ä¾¡æ‰‹æ³•ã‚’ç¤¾ä¼šçš„ãªä»•çµ„ã¿ã‚„åˆ¶åº¦ã‚’é€šã—ã¦è¡Œãˆã‚Œã°ã‚ˆã„ã¨æ€ã„ã¾ã™ã€‚\nã¾ãŸã€ã“ã‚Œã¯å®Ÿç¾å¯èƒ½ã‹ã©ã†ã‹ã¯åˆ†ã‹ã‚Šã¾ã›ã‚“ãŒã€ç§ã¯ã‚ˆã‚Šé€²ã‚“ã æ”»æ’ƒ/é˜²å¾¡ã®æ¦‚å¿µã®ç†è§£ã«ã‚ˆã£ã¦è¨€èªå´ã‹ã‚‰ã‚µãƒãƒ¼ãƒˆã§ãã‚‹ã¨æ€ã£ã¦ã„ã¾ã™ã€‚\n\n## å•5\né…å¸ƒãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆsc2022_challenge05.zipï¼‰ã«å«ã¾ã‚Œã‚‹safe.exe.gzfã¯è§£æå¯¾è±¡ã®PEãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’Ghidraãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å½¢å¼ã«å¤‰æ›ã—ãŸã‚‚ã®ã§ã™ã€‚data.datã¯è§£æå¯¾è±¡ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒä½¿ç”¨ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã§ã™ã€‚safe.exe.gzfã‚’è§£æã—ã¦ä»¥ä¸‹ã®å•é¡Œã«å¯¾ã—ã¦å›ç­”ã—ã¦ãã ã•ã„ã€‚\n\nâ€»Ghidraã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŠã‚ˆã³gzfã«é–¢ã™ã‚‹è£œè¶³: https://hackmd.io/@qKyR9Y4rS7y7ytUCRr6FRg/H188XOvXq\n\n### å•5-1 \nã“ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ç›®çš„ã€æŒ™å‹•ã‚’èª¬æ˜ã›ã‚ˆã€‚\n\nWindowsé–¢é€£ã®æ§˜ã€…ãªé–¢æ•°ãŒã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã€ WinMain é–¢æ•°ã«ã¤ã„ã¦ãƒ‡ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚’ç”¨ã„ã¦èª¿ã¹ã‚‹ã¨ã€ 'C:\\Users\\Public\\KB59E7269.log' ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã€ãã®å†…å®¹ã‚’æš—å·åŒ–ã—ãŸã‚‚ã®ã‚’ã‚¢ãƒ—ãƒªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã¨ã—ã¦ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’èµ·å‹•ã—ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚ä»–ã®é–¢æ•°ã¯ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„å†…éƒ¨æƒ…å ±ã‚’å–å¾—ã—ã¦ãƒ—ãƒ­ã‚»ã‚¹ã®èµ·å‹•æº–å‚™ã‚’è¡Œã†ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶ã®ã‚ˆã†ãªé–¢æ•°ç¾¤ãªã©ãŒã‚ã‚Šã¾ã—ãŸãŒãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¨ã¯é–¢ä¿‚ãŒãªã•ãã†ãªã®ã§ã“ã‚Œã‚‰ã¯ç„¡è¦–ã—ã¾ã™ã€‚\nã¤ã¾ã‚Šã€ã“ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯Windowsã®ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æš—å·åŒ–ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã™ã€‚\n\n### å•5-2 \ndata.datãŒã©ã®ã‚ˆã†ãªå½¢å¼ã§æš—å·åŒ–ã•ã‚Œã¦ã„ã‚‹ã‹ç­”ãˆã‚ˆã€‚ã¾ãŸã€å¾©å·ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ã®å†…å®¹ãŒã©ã®ã‚ˆã†ãªã‚‚ã®ã‹ç­”ãˆã‚ˆã€‚\n\nå¯Ÿã™ã‚‹ã«æš—å·åŒ–ã•ã‚ŒãŸã‚‚ã®ãŒ data.dat ã«æ›¸ã‹ã‚Œã¦ã‚ã‚‹ã¨è€ƒãˆã‚‰ã‚Œã¾ã™ã€‚\næš—å·åŒ–ã®æ‰‹æ³•ã«ã¤ã„ã¦èª­ã‚“ã§ã¿ã‚‹ã¨ã€ã¾ãšãƒ•ã‚¡ã‚¤ãƒ«ã‚’16ãƒã‚¤ãƒˆã®ãƒ˜ãƒƒãƒ€ã¨ãã‚Œä»¥å¤–ã«åˆ†å‰²ã—ã€ãƒ˜ãƒƒãƒ€ã¯å…±é€šéµã¨ã—ã¦ã€å…·ä½“çš„ã«ã¯å†…éƒ¨çŠ¶æ…‹(S-box)ã‚’ç”Ÿæˆã™ã‚‹ã®ã«ä½¿ã„ã€å†…éƒ¨çŠ¶æ…‹ã‚’ç”¨ã„ã¦å¾ŒåŠã®å†…å®¹ã‚’æš—å·åŒ–ã—ã¾ã™ã€‚å†…éƒ¨çŠ¶æ…‹ã¯0x00ã‹ã‚‰0xffã¾ã§ã®å€¤ã®é †åˆ—ã¨ãªã£ã¦ãŠã‚Šå…·ä½“çš„ãªç”Ÿæˆæ–¹æ³•ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚ãŸã ã—æ¼”ç®—ã¯ $\\mathbb{Z}/256\\mathbb{Z}$ ä¸Šã§è¡Œã†ã“ã¨ã¨ã—ã¾ã™ã€‚\n\n1. 256ãƒã‚¤ãƒˆã®å†…éƒ¨çŠ¶æ…‹ã«0x00ã‹ã‚‰0xffã¾ã§æ›¸ãè¾¼ã‚€ã€‚\n2. æ•° w ã‚’ãŠãã€ç¾åœ¨è¦‹ã¦ã„ã‚‹å†…éƒ¨çŠ¶æ…‹ã®å€¤ã¨ãƒ˜ãƒƒãƒ€ã®å€¤ã‚’ w ã«è¶³ã—ã€å†…éƒ¨çŠ¶æ…‹ã® w ã®ä½ç½®ã«ã‚ã‚‹å€¤ã¨ã‚¹ãƒ¯ãƒƒãƒ—ã™ã‚‹ã€‚\n3. 2ã‚’å†…éƒ¨çŠ¶æ…‹ã®æœ€åˆã‹ã‚‰é †ç•ªã«æœ€å¾Œã¾ã§ç¹°ã‚Šè¿”ã™ã€‚\n\næš—å·åŒ–ã®å…·ä½“çš„ãªæ–¹æ³•ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚\n\n1. æ•° p ã‚’ãŠãã€ç¾åœ¨è¦‹ã¦ã„ã‚‹å†…éƒ¨çŠ¶æ…‹ã®å€¤ã‚’ p ã«è¶³ã—ã€å†…éƒ¨çŠ¶æ…‹ã® p ã®ä½ç½®ã«ã‚ã‚‹å€¤ã¨ã‚¹ãƒ¯ãƒƒãƒ—ã™ã‚‹ã€‚\n2. ã‚¹ãƒ¯ãƒƒãƒ—ã—ãŸãã‚Œãã‚Œã®æ•°ã‚’è¶³ã—ãŸä½ç½®ã«ã‚ã‚‹å†…éƒ¨çŠ¶æ…‹ã®å€¤ã®ä½ç½®ã«ã‚ã‚‹å†…éƒ¨çŠ¶æ…‹ã®å€¤ã‚’æš—å·åŒ–ã—ãŸã„å†…å®¹ã¨xorã™ã‚‹ã€‚\n3. 1,2ã‚’æš—å·åŒ–ã—ãŸã„å†…å®¹ã®æœ€åˆã‹ã‚‰é †ç•ªã«æœ€å¾Œã¾ã§ç¹°ã‚Šè¿”ã™ã€‚\n\nå¾©å·ã™ã‚‹ã“ã¨ã«ã¤ã„ã¦è€ƒãˆã¾ã™ã€‚ã“ã®æš—å·ã¯å…±é€šéµæ–¹å¼ã®ã‚¹ãƒˆãƒªãƒ¼ãƒ æš—å·ã«å±ã—ã€ç§˜å¯†éµã§ã‚ã‚‹ãƒ˜ãƒƒãƒ€ã•ãˆåˆ†ã‹ã‚Œã°å†…éƒ¨çŠ¶æ…‹ãŒåˆ†ã‹ã‚Šå¾©å·ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã¤ã¾ã‚Šå¾©å·ã™ã‚‹æ–¹æ³•ã¯2ã¤ã‚ã‚Šã€1ã¤ã¯ç§˜å¯†éµã‚’å½“ã¦ã‚‹æ–¹æ³•ã€ã‚‚ã†1ã¤ã¯ã“ã®æš—å·ã®è„†å¼±æ€§ã‚’ç™ºè¦‹ã™ã‚‹æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚\nã¾ãšç§˜å¯†éµã‚’ç›´æ¥å½“ã¦ã‚‹æ–¹æ³•ã§ã™ã€‚æ°—ä»˜ã„ãŸã“ã¨ã¯ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã„ã†ã“ã¨ãªã®ã§ã¾ãš ASCII ã§æ›¸ã‹ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ãŒé«˜ã„ã¨ã„ã†ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã§128ãƒ“ãƒƒãƒˆå…¨æ¢ç´¢ãŒç´„112ãƒ“ãƒƒãƒˆå…¨æ¢ç´¢ã¨ãªã‚Šã¾ã—ãŸãŒç›®æ¨™ã¯å¤§ä½“32ãƒ“ãƒƒãƒˆå…¨æ¢ç´¢ãªã®ã§ã“ã‚Œã¯èª¤å·®ã§ã™ã€‚ä»–ã«ã‚‚Windowsã®ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ç‰¹æœ‰ã®æ€§è³ªã‚’èª¿ã¹ã¾ã—ãŸãŒç„¡ã•ãã†ã§ã—ãŸã€‚ã¾ãŸä»¥ä¸‹ã®ã‚ˆã†ã«å®šå¼åŒ–ã—ã¦ã‚‚æ§‹é€ ãŒè¤‡é›‘ã§ç§˜å¯†éµã®ç‰¹å®šãŒé›£ã—ã‹ã£ãŸã§ã™ã€‚\n\n$$\n\\begin{aligned}\n\u0026\\begin{cases}\np_{i+1} = p_i + s_i + h_i \\\\\ns_i \\iff s_{p_{i}} \\\\\n\\end{cases} \\\\\n\u0026\\begin{cases}\np_{i+1} = p_i + s_i \\\\\ns_i \\iff s_{p_{i}} \\\\\nm_{i} = c_i \\oplus ss(s_i + s_{p_{i}}) \\\\\n\\end{cases}\n\\end{aligned}\n$$\n\nãã“ã§2ã¤ç›®ã€æš—å·ã®è¦å‰‡æ€§ã‚’ç™ºè¦‹ã™ã‚‹ã“ã¨ã‚’è€ƒãˆã¾ã™ã€‚èª¿ã¹ã¦ã¿ã‚‹ã¨å·®åˆ†è§£ææ³•ã‚„ç·šå½¢è§£èª­æ³•ãŒå½“ã¦ã¯ã¾ã‚Šãã†ãªã®ã§ãã‚Œã‚’ã‚„ã‚ã†ã¨ã—ãŸã®ã§ã™ãŒã€æ–‡çŒ®ã®å°‘ãªã•ã¨é›£ã—ã•ã‹ã‚‰å¿œå‹Ÿã™ã‚‹ã¾ã§ã«è©¦ã™ã“ã¨ãŒå‡ºæ¥ã¾ã›ã‚“ã§ã—ãŸã€‚\n\n### å•5-3\ndata.datã‚’å¾©å·ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆã—ã¦æå‡ºã›ã‚ˆã€‚\n\nç§˜å¯†éµã‚’å…¨æ¢ç´¢ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ›¸ãã¾ã—ãŸã€‚\n\n```python\nfrom string import printable\n\nstrs = printable\n\ndef search(h):\n    if len(h) == 16:\n        dec = decrypt(list(reversed(h)))\n        m = []\n        for i in range(size):\n            c = next(dec)\n            m.append(cipher[i] ^ c)\n            if chr(m[i]) not in strs:\n                if i \u003e 5:\n                    print(bytes(reversed(h)), bytes(m))\n                break\n        return\n    for s in strs:\n        h.append(ord(s))\n        search(h)\n        h.pop()\n\ndef decrypt(h):\n    sbox = [0] * 0x100\n    for i in range(0x100):\n        sbox[i] = i\n    swap = 0\n    for i in range(0x100):\n        swap += h[i \u0026 0xf] + sbox[i]\n        swap \u0026= 0xff\n        sbox[i], sbox[swap] = sbox[swap], sbox[i]\n    swap = 0\n    i = 0\n    while True:\n        swap += sbox[i]\n        swap \u0026= 0xff\n        sbox[i], sbox[swap] = sbox[swap], sbox[i]\n        yield sbox[sbox[(sbox[i] + sbox[swap]) \u0026 0xff]]\n        i = (i + 1) \u0026 0xff\n\nwith open('data.dat', 'rb') as f:\n    cipher = f.read()\n    size = len(cipher)\n    search([])\n```\n\n## å•6\né…å¸ƒãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆsc2022_20220322T230402.zipï¼‰ã¯ã€Windows 10 PCã®ãƒ¦ãƒ¼ã‚¶sc2022ã®ãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª(C:Â¥UsersÂ¥sc2022Â¥)ä»¥ä¸‹ã‚’å–å¾—ã—ã€zipå½¢å¼ã§åœ§ç¸®ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚ã“ã®ãƒ¦ãƒ¼ã‚¶ã¯ã€ã‚ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚µãƒ¼ãƒä¸Šã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ãŸã“ã¨ã€ã‚ã‚‹ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã—ã¦ã„ãŸã“ã¨ã€ãŒåˆ¤æ˜ã—ã¦ã„ã¾ã™ã€‚\n\nä»¥ä¸‹ã®å•é¡Œã«å¯¾ã—ã¦ã€é…å¸ƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã©ã®ã‚ˆã†ã«è§£æã—ãŸã‹ã‚‚å«ã‚ã¦å›ç­”ã—ã¦ãã ã•ã„ã€‚\n\n### å•6-1\nãƒ¦ãƒ¼ã‚¶ãŒã‚¢ã‚¯ã‚»ã‚¹ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚µãƒ¼ãƒãƒ¼ä¸Šã®ãƒ•ã‚¡ã‚¤ãƒ«ã«é–¢é€£ã™ã‚‹æƒ…å ±ã‚’å¯èƒ½ãªé™ã‚Šè¨˜è¼‰ã—ã¦ãã ã•ã„(ä¾‹: ãƒ•ã‚¡ã‚¤ãƒ«åã€ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã€æ—¥æ™‚ç­‰)ã€‚\n\nã¾ãšä¸€é€šã‚Šè¦‹ã¦é–¢ä¿‚ãŒãªã„ã¨æ–­è¨€ã§ãã‚‹ã‚‚ã®ã‚’è¦‹ã¤ã‘ã¾ã™ã€‚ä»¥ä¸‹ã®ã‚ˆã†ãªã‚‚ã®ã¯é–¢ä¿‚ãªã„ã¨è¨€ãˆã¾ã™ã€‚\n\n- NTUSER.DATãªã©: Windowsãƒ¬ã‚¸ã‚¹ãƒˆãƒªã®å®Ÿä½“\n- desktop.ini: ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã®è¡¨ç¤ºæ–¹æ³•\n\nã“ã‚Œã‚ˆã‚ŠAppDataä»¥ä¸‹ãŒæ€ªã—ã„ã“ã¨ãŒã‚ã‹ã‚‹ã®ã§ãã‚Œã‚‰ã‚’ä¸­å¿ƒã«èª¿ã¹ã¾ã™ã€‚ã¾ãš cloud, storage, drive, file ãªã©ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒ“ã‚¹ã§ä½¿ã‚ã‚Œã¦ã„ãã†ãªå˜èªã§ grep ã—ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®é–²è¦§å±¥æ­´ã«ã‚ã‚Šãã†ã¨ã„ã†ã‚¢ã‚¿ãƒªã‚’ä»˜ã‘ã¾ã—ãŸã€‚\n\n```\n$ rg \"storage\" --binary -M 1 -m 1\n```\n\nãã—ã¦FireFoxã®é–²è¦§å±¥æ­´ã‚’ä¿å­˜ã—ã¦ã„ã‚‹ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ä½¿ã£ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚µãƒ¼ãƒãƒ¼ã¯ firestorage ã ã¨ã„ã†ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\n\n`C/Users/sc2022/AppData/Roaming/Mozilla/Firefox/Profiles/hc93rfhn.default-release/places.sqlite`\n\nhttps://fire.st/ZM7Nt1u ãªã©ã‹ã‚‰canary.txtã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€last_visit_dateã‹ã‚‰2022-03-22 22:35ã«é–²è¦§ã—ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\n\n### å•6-2 \nãƒ¦ãƒ¼ã‚¶ãŒåˆ©ç”¨ã—ã¦ã„ãŸã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒ“ã‚¹ã«é–¢é€£ã™ã‚‹æƒ…å ±ã‚’å¯èƒ½ãªé™ã‚Šè¨˜è¼‰ã—ã¦ãã ã•ã„(ä¾‹: ã‚µãƒ¼ãƒ“ã‚¹åã€ã‚¢ã‚¯ã‚»ã‚¹æ–¹æ³•ã€æ—¥æ™‚ç­‰)ã€‚\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåˆ©ç”¨ã—ã¦ã„ãŸã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒ“ã‚¹ã¯ FireStorage ã§ WindowsSearch ã®ã‚ˆãã¿ã‚‹ã‚µã‚¤ãƒˆãªã©ã‹ã‚‰ FireFox ã‚’èµ·å‹•ã—ã€2022å¹´03æœˆ22æ—¥ã®22:35ã«é–²è¦§ã—ãŸã€‚\n\n### å•6-3\nãƒ¦ãƒ¼ã‚¶ã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚µãƒ¼ãƒä¸Šã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸã‹ã€ã—ã¦ã„ãŸå ´åˆã¯ã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚ã£ãŸã‹ã‚’å›ç­”ã—ã¦ãã ã•ã„ã€‚\n\nã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã¯ã“ã®ã‚ˆã†ãªãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚ã‚‹ã€‚\ncanary.txt\n```\nFDGG\n\n```\n\n## å•7\nBinary Exploitã«é–¢ã—ã¦ã€æ¬¡ã®å„å•ã«å›ç­”ã—ã¦ãã ã•ã„ã€‚\n\n### å•7-1\nHeap Buffer Overflowã¨ã¯ã©ã®ã‚ˆã†ãªè„†å¼±æ€§ã‹ã‚’ç°¡æ½”ã«èª¬æ˜ã—ã¦ãã ã•ã„ã€‚ã¾ãŸã€ã“ã®è„†å¼±æ€§ã‚’æ”»æ’ƒè€…ãŒã©ã®ã‚ˆã†ã«æ”»æ’ƒã«åˆ©ç”¨ã™ã‚‹ã‹ã‚’èª¬æ˜ã—ã¦ãã ã•ã„ã€‚\n\nã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã¯æ§˜ã€…ãªæ–¹æ³•ã§ãƒ¡ãƒ¢ãƒªã‚’ç®¡ç†ã—ã¦ã„ã¾ã™ã€‚ãã®ä¸­ã§ãƒ—ãƒ­ã‚»ã‚¹ã”ã¨ã«æŒã¤ãƒ¡ãƒ¢ãƒªé ˜åŸŸã¨ã—ã¦ ã‚¹ã‚¿ãƒƒã‚¯(Stack) ã¨ ãƒ’ãƒ¼ãƒ—(Heap) ãŒã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€Buffer Overflowã¨ã¯æƒ³å®šã•ã‚Œã‚‹ã‚µã‚¤ã‚ºä»¥ä¸Šã«æ›¸ãè¾¼ã‚€ã“ã¨ãŒã§ãã¦ã—ã¾ã†è„†å¼±æ€§ã§ã™ã€‚ã¤ã¾ã‚Šã€Heap Buffer Overflowã¨ã¯ãƒ’ãƒ¼ãƒ—ã¨ã„ã†ãƒ¡ãƒ¢ãƒªé ˜åŸŸã§å¿…è¦ä»¥ä¸Šã«æ›¸ãè¾¼ã¿ãŒå‡ºæ¥ã¦ã—ã¾ã†è„†å¼±æ€§ã§ã™ã€‚\nå…·ä½“çš„ãªæ”»æ’ƒæ–¹æ³•ã¯ãƒ’ãƒ¼ãƒ—ã®æ§‹é€ ã«ã¤ã„ã¦çŸ¥ã‚‰ãªã‘ã‚Œã°èª¬æ˜ã§ããªã„ã®ã§å…ˆã«ãã‚Œã«ã¤ã„ã¦æ•´ç†ã—ã¾ã™ã€‚\n\nãƒ’ãƒ¼ãƒ—ã¯ãƒ¡ãƒ¢ãƒªã‚’å‹•çš„ã«ç¢ºä¿ã€è§£æ”¾ã™ã‚‹ä»•çµ„ã¿ã‚’ã‚‚ã¤ãƒ¡ãƒ¢ãƒªé ˜åŸŸã§ã™ã€‚ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯ malloc()/free() é–¢æ•°ã«ã‚ˆã£ã¦ç¢ºä¿/è§£æ”¾ã—ã¾ã™ã€‚\næœ€åˆã« malloc() ãŒå‘¼ã°ã‚Œã‚‹ã¨ syscall ã®1ã¤ã§ã‚ã‚‹ sbrk() ãŒå‘¼ã³å‡ºã•ã‚Œã€ãƒ’ãƒ¼ãƒ—é ˜åŸŸã‚’ä½œã‚Šã¾ã™ã€‚malloc() ã§ç¢ºä¿ã•ã‚Œç¶šã‘ã€ãƒ’ãƒ¼ãƒ—é ˜åŸŸã«ç©ºããŒå°‘ãªããªã£ã¦ãã‚‹ã¨ sbrk syscall ã«ã‚ˆã£ã¦ãƒ’ãƒ¼ãƒ—é ˜åŸŸã‚’æ‹¡å¼µã—ã¾ã™ã€‚åŸºæœ¬æˆ¦ç•¥ã¨ã—ã¦ãã‚Œãã‚Œã®ç©ºãé ˜åŸŸã‚’ãƒãƒ£ãƒ³ã‚¯ã¨ã—ã¦ç®¡ç†ã—ã€ãã‚Œã‚‰ãƒãƒ£ãƒ³ã‚¯ã‚’ã„ã‹ã«ä¸Šæ‰‹ãä½¿ã„å›ã™ã‹ã§é€Ÿåº¦ãŒå¤‰ã‚ã‚Šã¾ã™ã€‚ä¾‹ãˆã°ã€å›³æ›¸é¤¨ã®äº‹å‹™ã‚’æƒ³åƒã—ã¦ã‚‚ã‚‰ã£ã¦ã€å€Ÿã‚Šã¦è¿”ã—ãŸæœ¬ã‚’ã‚‚ã†ä¸€åº¦å€Ÿã‚Šã‚‹ã¨ã„ã†ã“ã¨ãŒé »ç¹ã«èµ·ã“ã‚‹ã¨ãã«ã€ã„ã¡ã„ã¡å…ƒã«ã‚ã£ãŸå ´æ‰€ã«æˆ»ã—ã¦ã¾ãŸå–ã£ã¦ãã‚‹ã¨ã„ã†ã®ã¯æ‰‹é–“ã§ã€æ‰‹å…ƒã«ç½®ã„ã¦ãŠãæ–¹ãŒä¾¿åˆ©ã§ã™ã€‚ãŸã å…¨ã¦ã®æœ¬ã‚’æ‰‹å…ƒã«ç½®ã„ã¦ãŠã‘ã‚‹è¨³ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã©ã†ã‚„ã£ã¦åˆ¶é™ã•ã‚ŒãŸå ´æ‰€ã§åŠ¹ç‡ã‚ˆãç®¡ç†ã™ã‚‹ã‹ã€‚ã“ã‚Œã¨åŒã˜ã‚ˆã†ã«ãƒãƒ£ãƒ³ã‚¯ã‚’ä¸€æ—¦ä¿æŒã—ã¦ãŠãã¨ã„ã†ã“ã¨ã‚’ã—ã¾ã™ã€‚ã¾ãŸã€ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãŒèµ·ã“ã‚‹ã¨ãã®ãƒãƒ£ãƒ³ã‚¯ free lilst ã¨å‘¼ã°ã‚Œã‚‹é€£çµãƒªã‚¹ãƒˆã¨ã—ã¦ç®¡ç†ã—ã¦ã„ã¾ã™ã€‚ã“ã® malloc()/free() ã¯ç¢ºä¿ã™ã‚‹ãƒ¡ãƒ¢ãƒªã‚µã‚¤ã‚ºã‚’æŒ‡å®šã§ãã‚‹ã®ã§ã™ãŒã‚µã‚¤ã‚ºã«ã‚ˆã£ã¦æ ¼ç´æ–¹æ³•ã‚’å¤‰ãˆã¦ã„ã¾ã™ã€‚\nä»¥ä¸‹64bitã®ã‚·ã‚¹ãƒ†ãƒ ã‚’å‰æã«ã—ã¦è€ƒãˆã¾ã™ã€‚\n\n- tcache\nå§‹ã‚ã®7ã¤ã®ãƒãƒ£ãƒ³ã‚¯ã¯tcacheã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã™ã€‚per-thread cache ã®ç•¥ã‚‰ã—ã„ã§ã™ã€‚\n- fastbins\n128B(`global_max_fast`)ã¾ã§ã®å°ã•ãªé ˜åŸŸã¯ fastbins ã«ã‚ˆã£ã¦ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã™ã€‚fastbins ã§ã¯ã‚µã‚¤ã‚ºã«å¿œã˜ã¦16BãŠãã«ãƒªã‚¹ãƒˆã‚’ä½œæˆã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Š best-fit allocator ã¨ãªã‚Šã¾ã™ã€‚å®Ÿè£…ã¯ main_arena ã«ã‚ã‚‹fastbinsY ã‹ã‚‰ãƒãƒ£ãƒ³ã‚¯ãŒä¼¸ã³ã¦ã„ã¾ã™ã€‚\n- unsorted bins\nmalloc_consolidate() ãªã©ã§ä»–ã® bin ã§ç®¡ç†ã•ã‚Œãªããªã£ãŸã‚‚ã®ã‚’ä¿æŒã—ã¾ã™ã€‚ã“ã‚Œã‚‰ã¯ç¢ºä¿ã•ã‚Œã‚‹ã‹ bin ã«ç™»éŒ²ã•ã‚Œã‚‹ã¾ã§æ®‹ã‚Šç¶šã‘ã¾ã™ã€‚\n- smallbins\n1KB(`MIN_LARGE_SIZE`)ã¾ã§ã®é ˜åŸŸã¯ smallbins ã«ã‚ˆã£ã¦ç®¡ç†ã•ã‚Œã¾ã™ã€‚8BãŠãã«ãƒªã‚¹ãƒˆã‚’ä½œã‚Šã¾ã™ã€‚\n- largebins\n1KB(`MIN_LARGE_SIZE`)ä»¥ä¸Šã®å¤§ããªé ˜åŸŸã¯ largebins ã«ã‚ˆã£ã¦ç®¡ç†ã•ã‚Œã¾ã™ã€‚ã‚µã‚¤ã‚ºã«å¯¾ã—æŒ‡æ•°çš„ã«é–“éš”ã‚’åºƒãå–ã£ã¦ãƒªã‚¹ãƒˆã§ç®¡ç†ã—ã¾ã™ã€‚\n- mmap/munmap\n128KB(`M_MMAP_THRESHOLD`)ä»¥ä¸Šã®å ´åˆã¯ mmap/munmap ã«ã‚ˆã‚Šã‚«ãƒ¼ãƒãƒ«ã‹ã‚‰ç›´æ¥ç¢ºä¿ã•ã‚Œã¾ã™ã€‚\n\nãã—ã¦ Heap Buffer Overflow ã¯ãã‚Œã‚’ä½¿ã†ã“ã¨ã§ãƒ‡ãƒ¼ã‚¿ã®ä¸Šæ›¸ããŒã§ãã€ãã‚Œã«ã‚ˆã£ã¦ãƒ’ãƒ¼ãƒ—ã®ç®¡ç†æ§‹é€ ã‚’ä¹—ã£å–ã‚‹ã“ã¨ãŒã§ãã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚\n\nã¾ãŸã€OSã®æ ¸ã§ã‚ã‚‹ã‚«ãƒ¼ãƒãƒ«ã‚‚ãƒ’ãƒ¼ãƒ—é ˜åŸŸã‚’æŒã¡ã€ãã‚Œã«å¯¾ã—ã¦ã® BOF ã¯Kernel Heap Buffer Overflow ã¨å‘¼ã³ã¾ã™ã€‚ã“ã“ã‚‰è¾ºã¯ã‚ã¾ã‚Šè©¦ã—ãŸã“ã¨ãŒãªãèª¬æ˜ã§ãã‚‹ã‚‚ã®ãŒå°‘ãªã„ã§ã™ãŒã€1å›ã ã‘ meowmow ã¨ã„ã†å•é¡Œã§ Kernel Exploit ã‚’å‹‰å¼·ã—ã¦ã„ãŸã¨ãã« kmalloc ãŒã‚µã‚¤ã‚ºã”ã¨ã«åˆ†ã‘ã‚‰ã‚Œã€Slabã¨å‘¼ã°ã‚Œã‚‹ãƒšãƒ¼ã‚¸å˜ä½ã‚’å°åˆ†ã‘ã«ã—ã¦ç®¡ç†ã—ã¦ã„ã‚‹ã‚‚ã®ã« HBOF ãŒå‡ºæ¥ã‚‹æ§‹é€ ä½“ã¨ tty_struct æ§‹é€ ä½“ã‚’è¼‰ã›ã€ tty_struct ã‚’æ›¸ãæ›ãˆã¦æ”»æ’ƒã§ãã‚‹ã¨ã„ã†ã‚‚ã®ã‚’çŸ¥ã‚Šã¾ã—ãŸã€‚ãã‚Œä»¥å¤–ã®æ”»æ’ƒæ‰‹æ³•ã¯å…¨ãçŸ¥ã‚‰ãªã„ã®ã§ã“ã‚Œã‹ã‚‰ç†è§£ã—ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚\n\n### å•7-2\nUse-after-Freeã¨ã¯ã©ã®ã‚ˆã†ãªè„†å¼±æ€§ã‹ã‚’ç°¡æ½”ã«èª¬æ˜ã—ã¦ãã ã•ã„ã€‚ã¾ãŸã€ã“ã®è„†å¼±æ€§ã‚’æ”»æ’ƒè€…ãŒã©ã®ã‚ˆã†ã«æ”»æ’ƒã«åˆ©ç”¨ã™ã‚‹ã‹ã‚’èª¬æ˜ã—ã¦ãã ã•ã„ã€‚\n\nãƒ’ãƒ¼ãƒ—é ˜åŸŸã®ãƒãƒ£ãƒ³ã‚¯ã‚’è§£æ”¾ã—ãŸå¾Œã§ã‚‚ä½¿ãˆã¦ã—ã¾ã†è„†å¼±æ€§ã§ã™ã€‚ä¾‹ãˆã°ã€unsorted bin ã§ Use-after-Free ãŒã§ãã‚‹ã¨ç®¡ç†é ˜åŸŸã®æƒ…å ±ã‚’è¦—ãã“ã¨ãŒã§ãã€ä¾‹ãˆã° fd ã‹ã‚‰ libc base ãŒåˆ†ã‹ã£ãŸã‚Šã—ã¾ã™ã€‚libc base ãŒåˆ†ã‹ã‚Œã°ã€libc ä¸Šã®ã‚¬ã‚¸ã‚§ãƒƒãƒˆã‹ã‚‰ Stack Buffer Overflow ãªã©ã§ ROP ã‚’çµ„ã‚€äº‹ãŒã§ãã€ã‚·ã‚§ãƒ«ã‚’èµ·å‹•ã§ãã¾ã™ã€‚\n\n### å•7-3\nä»¥ä¸‹ã®x64ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ROP gadgetã‚’çµ„ã¿åˆã‚ã›ã€å¾Œã®å„å‡¦ç†ã‚’å®Ÿç¾ã™ã‚‹ROP chainã‚’æ§‹ç¯‰ã—ã¦ãã ã•ã„ã€‚ROP chainã¯ã€64-bitã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚„å€¤ã‚’ã‚«ãƒ³ãƒ(,)åŒºåˆ‡ã‚Šã§æ›¸ã„ã¦ãã ã•ã„ã€‚ãŸã ã—ã€é–¢æ•°A, Bã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯ãã‚Œãã‚Œ0x401aa0, 0x401bb0ã€64-bitéè² æ•´æ•°å‹å¤‰æ•°xã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯0x602080ã¨ã—ã¾ã™ã€‚ã¾ãŸã€é–¢æ•°A, Bã®å‘¼ã³å‡ºã—è¦ç´„ã¯AMD64 ABIã«å¾“ã£ã¦ãŠã‚Šã€å¼•æ•°ãƒ»æˆ»ã‚Šå€¤ã¨ã‚‚ã«64-bitã®éè² æ•´æ•°å€¤ã¨ã—ã¾ã™ã€‚\n\nã“ã®ROP gadgetã®çµ„ã¿åˆã‚ã›ã ã‘ã§ã¯å®Ÿç¾ã§ããªã„ã¨åˆ¤æ–­ã—ãŸå ´åˆã¯ã€ãã®ç†ç”±ã‚’æ›¸ã„ã¦ãã ã•ã„ã€‚\n\n0x401027: pop rdi; ret;\n0x40103a: pop rcx; ret;\n0x4011f2: pop rsi; pop r12; ret;\n0x40132a: mov rdi, rax; rep movsq; ret;\n0x401401: xchg eax, edi; ret;\n\n(ä¾‹) A(1); B(2);\n--\u003e 0x401027, 1, 0x401aa0, 0x401027, 2, 0x401bb0\n\n(1) A(1, 2); B(3);\n(2) A(B(0));\n(3) A(x);\n(4) x = 0xdeadbeefcafebabe;\n\nå•é¡Œã®æ„å‘³ãŒåˆ†ã‹ã‚‰ãªã„å ´åˆã¯Return Oriented Programmingã«ã¤ã„ã¦èª¿ã¹ã€ROPã«ã¤ã„ã¦ã‚ãªãŸãŒç†è§£ã—ãŸå†…å®¹ã‚’æ›¸ã„ã¦ãã ã•ã„ã€‚\n\n(1) A(1, 2); B(3);\n0x401027, 1, 0x4011f2, 2, 0, 0x401aa0, 0x401027, 3, 0x401bb0\n\n(2) A(B(0));\n0x401027, 0, 0x401bb0, 0x401401, 0x401aa0\n\n(3) A(x);\nãƒ¡ãƒ¢ãƒªå‚ç…§ã®ã‚¬ã‚¸ã‚§ãƒƒãƒˆãŒç„¡ã„ãŸã‚ã€xã®å€¤ã‚’ãƒ¬ã‚¸ã‚¹ã‚¿ã«æ ¼ç´ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ãšã€å®Ÿç¾ã§ãã¾ã›ã‚“ã€‚\n\n(4) x = 0xdeadbeefcafebabe;\nã‚¹ã‚¿ãƒƒã‚¯ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒåˆ†ã‹ã‚‰ãšã€ã‚¹ã‚¿ãƒƒã‚¯ä¸Šã«æ›¸ãè¾¼ã¿ãŸã„å€¤ã‚’æ›¸ã„ã¦ã‚‚ã‚¹ãƒˆãƒªãƒ³ã‚°å‘½ä»¤ã®è»¢é€å‰ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒå‡ºæ¥ãªã„ãŸã‚ã€å®Ÿç¾ã§ãã¾ã›ã‚“ã€‚\n\nA: 0x401aa0, B: 0x401bb0\nx: 0x602080\n\n## å•8\neBPF(extended Berkeley Packet Filter)ã¯Linuxã‚«ãƒ¼ãƒãƒ«ãŒæä¾›ã™ã‚‹æ©Ÿèƒ½ã®åå‰ã§ã™ã€‚eBPFã«ã¤ã„ã¦æ¬¡ã®å„å•ã«ç­”ãˆã¦ãã ã•ã„ã€‚\n\n### å•8-1\neBPFã¨ã¯ã©ã®ã‚ˆã†ãªæ©Ÿèƒ½ã‹ã‚’ã€ŒJITã€ã¨ã„ã†è¨€è‘‰ã‚’ç”¨ã„ã¦èª¬æ˜ã—ã¦ãã ã•ã„ã€‚\n\neBPF ã¯ extended Berkley Packet Filter ã®ç•¥ã§ã€ã‚«ãƒ¼ãƒãƒ«ã®ç‰¹å®šã®ãƒã‚¤ãƒ³ãƒˆã§ãƒ•ãƒƒã‚¯ã•ã›ã¦å®Ÿè¡Œã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’å®‰å…¨ã«ä»•è¾¼ã‚ã‚‹æŠ€è¡“ã§ã™ã€‚ã“ã‚Œã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§å®‰å…¨ã§é«˜é€Ÿã«ã‚«ãƒ¼ãƒãƒ«ã®åˆ¶å¾¡ã‚„æ´»ç”¨ãŒã§ãã¾ã™ã€‚ä¾‹ãˆã°ã‚«ãƒ¼ãƒãƒ«ã®ãƒˆãƒ¬ãƒ¼ã‚¹ã‚’ã—ãŸã‚Šã€å†…éƒ¨æƒ…å ±ã‚’å–å¾—ã—ãŸã‚Šã€ãƒ‘ã‚±ãƒƒãƒˆãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã•ã›ãŸã‚Šã€syscallã«åˆ¶é™ã‚’æ›ã‘ãŸã‚Šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚eBPF ã®ä¸­èº«ã¯ BPF ç‹¬è‡ªã®å‘½ä»¤ã‚»ãƒƒãƒˆã‚’è§£é‡ˆã™ã‚‹ä»®æƒ³ãƒã‚·ãƒ³ã¨ã‚«ãƒ¼ãƒãƒ«ç©ºé–“ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ç©ºé–“ã§å…±æœ‰ã™ã‚‹ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒã‚ã‚Šã¾ã™ã€‚ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã‚ˆã£ã¦ã‚«ãƒ¼ãƒãƒ«ã®æƒ…å ±ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ãŸã™ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚\n\nãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯æ¬¡ã®ã‚ˆã†ã«ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚\n\nCè¨€èªã®BPFãƒ—ãƒ­ã‚°ãƒ©ãƒ  -\u003e BPFãƒã‚¤ãƒˆã‚³ãƒ¼ãƒ‰ -\u003e ãƒã‚·ãƒ³ã‚³ãƒ¼ãƒ‰\n\nCè¨€èªã®BPFãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‹ã‚‰BPFãƒã‚¤ãƒˆã‚³ãƒ¼ãƒ‰ã¸ã¯LLVM/Clangã‚’ç”¨ã„ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚ç”Ÿæˆã•ã‚ŒãŸBPFãƒã‚¤ãƒˆã‚³ãƒ¼ãƒ‰ã¯ bpf syscall ã«ã‚ˆã‚Šã‚«ãƒ¼ãƒãƒ«ã«æ¸¡ã•ã‚Œã€BPF Verifierã¨å‘¼ã°ã‚Œã‚‹æ¤œæŸ»æ©Ÿã‚’ç”¨ã„ã¦å®‰å…¨ã«å®Ÿè¡Œã§ãã‚‹ã‹ç¢ºèªã—ã¦ã‹ã‚‰ã€ãƒã‚·ãƒ³ã‚³ãƒ¼ãƒ‰ã¸JIT (Just In Time) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã€ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã‚«ãƒ¼ãƒãƒ«ã‚’å†èµ·å‹•ã›ãšã«ã‚«ãƒ¼ãƒãƒ«å†…ã§å®‰å…¨ã«ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹åŒ–ã•ã‚ŒãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚\n\n### å•8-2\nã‚ãªãŸãŒèº«è¿‘ã«ä½¿ã£ã¦ã„ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§BPF/eBPFã‚’åˆ©ç”¨ã™ã‚‹ã‚‚ã®ã‚’æ¢ã—ã€ã©ã®ã‚ˆã†ãªä½¿ã‚ã‚Œæ–¹ãŒã—ã¦ã„ã‚‹ã‹ã‚’èª¬æ˜ã—ã¦ãã ã•ã„ã€‚è¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã¯ã€æ™®æ®µä½¿ã£ã¦ã„ãªã„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚‚æ§‹ã„ã¾ã›ã‚“ã€‚\n\næ™®æ®µä½¿ã£ã¦ã„ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«eBPFã¯ç”¨ã„ã‚‰ã‚Œã¦ã„ãªã‹ã£ãŸã®ã§ã€Pixieã¨å‘¼ã°ã‚Œã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦èª¿ã¹ã¾ã—ãŸã€‚\nPixie ã¯ Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿ã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ©ã‚„ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®å¯è¦–åŒ–ã‚’è¡Œã†ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚eBPFã‚’ç”¨ã„ã‚‹ã“ã¨ã§æ§˜ã€…ãªãƒ¬ã‚¤ãƒ¤ãƒ¼ã§ã®ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆã‚„ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã€ã‚¨ãƒ©ãƒ¼ã‚’åé›†ã™ã‚‹ã“ã¨ãŒã§ãã€ãã‚Œã‚‰ã®æƒ…å ±ã‚’çµ±åˆã•ã›ã¦HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚„ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã€ãã‚Œã‚‰ã®ãƒ•ãƒ­ãƒ¼ã€ã‚¹ãƒ­ãƒ¼ã‚¯ã‚¨ãƒªã€Nodeã‚„Podã®ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ãªã©ã‚’ã—ã¦ãã‚Œã¾ã™ã€‚\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/crypto/AES/AES":{"title":"AES","content":"\n- AES-ECB (Electronic Codeblock)\n- AES-CBC (Cipher Block Chaining)\n- AES-CTR\n- PCBC (Propagating Cipher Block Chaining)\n- CFB (Cipher Feedback)\n- AES-GCM (Galois/Counter Mode)\n\nAES-NI\n\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/crypto/AES/Symmetric_cryptography":{"title":"","content":"æœ€æ–°ã®çŠ¶æ³ã¯ã“ã®ç™ºè¡¨ã‚’è¦‹ã‚Œã°ã™ã¹ã¦ã‚ã‹ã‚‹\n[Invited talk: Symmetric Cryptography for Long Term Security, by Maria Naya Plasencia - YouTube](https://www.youtube.com/watch?v=kcaPL2xxXiY)\nè»½é‡ãª\nã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ vs. åŠ¹ç‡\nå¿œç”¨ã«åˆã‚ã›ãŸæ€§è³ª\n- ZK-friendly\n- FHE-friendly\n- low latency\n- easy-masking\n- quantum safe\n\næœ€è¿‘ã®å¤§ããªç ”ç©¶10é¸\n- SHA-1 collision and Chosen-prefix collision\n- Practical attacks on 15-year old operating mode and ISO standard OCB2\n- Attacks on $\\approx2^{40}$ on GEA-1(back door) and GEA-2\n- Division property: Generalization of integrals, higher order diff.\n\t- Can be combined with cube attacks\n\t- Provides best known attacks on several stream ciphers\n\t- First full break of MISTY1, a widely implemented primitive\n- Partial non-linear layers: Zorro, LowMC attacks, Malicious, Hades/Poseidon\n- Stream cipher based: Kreyvium, FLIP\n- Large fields: MiMC round $x^3$\n![[Pasted image 20221024224251.png]]\n\nPost-Quantum Cryptography\nAsymmetric (e.g. RSA)\nShor's algorithm: Polynomial time\nSolution: lattice-based, code-based,...\n\nSymmetric (e.g. AES)\nGrover's algorithm: $2^{K}\\to 2^{K/2}$\néµé•·ã‚’å€ã®é•·ã•ã«ã™ã‚‹ã“ã¨ã§åŒã˜ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’æ‹…ä¿ã§ãã‚‹ã€‚","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/crypto/DLP/BSGS":{"title":"Baby-step Giant-step","content":"\n## èª¬æ˜\n\nåŠåˆ†å…¨åˆ—æŒ™ã‚’ç”¨ã„ã¦ $O(\\sqrt{N}\\log{N})$ ã§DLPãŒè§£ã‘ã‚‹ã€‚\n\nä½æ•° $N$ ã®å·¡å›ç¾¤ $G$ ã«ã¤ã„ã¦ $a, b\\in G$ ãŒä¸ãˆã‚‰ã‚Œã‚‹ã®ã§ $a^n = b$ ã¨ãªã‚‹æœ€å°ã® $n\\in \\mathbb{N}$ ã‚’æ±‚ã‚ã‚‹å•é¡Œã‚’è€ƒãˆã‚‹ã€‚ã“ã®ã¨ã $m = \\lceil\\sqrt{N}\\rceil$ ã¨ãŠãã€$n$ ã‚’ $m$ ã§å‰²ã‚‹ã¨ $n = qm + r \\ (q, r\\in[0, \\lceil\\sqrt{N}\\rceil)\\ )$ ã¨è¡¨ã›ã‚‰ã‚Œã‚‹ã€‚ã™ã‚‹ã¨ $r$ ã«å¯¾ã—ã¦ $ba^{-r}$ ã‚’å…¨åˆ—æŒ™ã—ã€ãã®ãƒªã‚¹ãƒˆã«å¯¾ã—ã¦ $a^{qm}$ ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‚ˆã†ãª $q$ ã‚’æ¢ç´¢ã™ã‚‹ã¨é«˜é€Ÿã«è§£ãŒæ±‚ã¾ã‚‹ã€‚\n\nä¾‹ãˆã°ã€æœ‰é™ä½“ $\\mathbb{F}_p$ ä¸Šãªã‚‰ä¹—æ³•ç¾¤ã®ä½æ•° $p-1$ ã‹ã‚‰\n\næ¥•å††æ›²ç·š $E$ ä¸Šã§ã‚ã‚Œã°åŠ æ³•ç¾¤ã®ä½æ•° $\\#E$ ã‹ã‚‰\n\n## è¨ˆç®—é‡\n$O(\\sqrt{N}\\log N)$\n\n## å®Ÿè£…\n\n## ä½¿ç”¨ä¾‹\n\n## å‚è€ƒ\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/crypto/DLP/DLP":{"title":"é›¢æ•£å¯¾æ•°å•é¡Œ (DLP)","content":"\n## èª¬æ˜\n\né›¢æ•£å¯¾æ•°å•é¡Œ (DLP: Discrete Logarithm Problem) ã¨ã¯å·¡å›ç¾¤ $G$ ã«ã¤ã„ã¦ $a, b\\in G$ ãŒä¸ãˆã‚‰ã‚Œã‚‹ã®ã§ $a^n = b$ ã¨ãªã‚‹æœ€å°ã® $n\\in \\mathbb{N}$ ã‚’æ±‚ã‚ã‚‹å•é¡Œã§ã‚ã‚‹ã€‚\n\nä¾‹ãˆã°ã€æœ‰é™ä½“ $\\mathbb{F}_q$ ã®DLP\n\næ¥•å††æ›²ç·š $E$ ä¸Šã§ã®DLP\n\n## å®Ÿè£…\n\n## ä½¿ç”¨ä¾‹\n\n## å‚è€ƒ\n\n- [General purpose integer factoring](https://eprint.iacr.org/2017/1087)","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/crypto/DLP/IndexCalculus":{"title":"æŒ‡æ•°è¨ˆç®—æ³• (Index Calculus Algorithm)","content":"\n## èª¬æ˜\n\n## å®Ÿè£…\n\n## ä½¿ç”¨ä¾‹\n\n## å‚è€ƒ\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/crypto/DLP/NumberFieldSieve":{"title":"æ•°ä½“ãµã‚‹ã„æ³•","content":"\n## èª¬æ˜\n\n## å®Ÿè£…\n\n## ä½¿ç”¨ä¾‹\n\n## å‚è€ƒ\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/crypto/DLP/Pohlig_Hellman":{"title":"Pohlig-Hellman","content":"\n## èª¬æ˜\n\nä¸­å›½å‰°ä½™å®šç†ã‚’ç”¨ã„ã¦å¤§ããªç¾¤ã‚’è¤‡æ•°ã®å°ã•ãªç¾¤ã®ç›´ç©ã«åˆ†å‰²ã™ã‚‹ã€‚\n\n## å®Ÿè£…\n\n```python\nfact = factor(G.order())\nord = int(G.order())\ndlogs = []\nfor p, e in fact:\n    t = ord // p ^ e\n    dlog = discrete_log(t * Q, t * G, operation=\"+\")\n    dlogs += [dlog]\n\nprint(crt(dlogs, primes))\n```\n\n## ä½¿ç”¨ä¾‹\n\n## å‚è€ƒ\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/crypto/DLP/Pollard_rho":{"title":"Pollard's rho æ³•","content":"\n## èª¬æ˜\n\nåˆæœŸç‚¹ $x_0$ ã¨é©å½“ãªå‰¯ä½œç”¨ã®ãªã„ç–‘ä¼¼ä¹±æ•°é–¢æ•° $f(x)$ ã‚’æ±ºã‚ã¦ $x_{i+1} = f(x_i)$ ã¨ãªã‚‹ã‚ˆã†ã«æ•°åˆ— $(x_0, x_1, \\ldots)$ ã‚’ç”Ÿæˆã™ã‚‹ã€‚ã“ã®ã¨ã $0 \\leq \\exists i \u003c \\exists j \u003c N$, $x_i = x_j$ ã¨ãªã‚‹ $i,j$ ã‚’è¦‹ã¤ã‘ã‚‰ã‚ŒãŸã‚‰DLPãŒè§£ã‘ã‚‹ã¨ã„ã†ä»•çµ„ã¿ã§ã™ã€‚\n\nã‚ˆãç”¨ã„ã‚‰ã‚Œã‚‹é–¢æ•° $f(x)$ ã¯æ¬¡ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚ãŸã ã—ã€$G_1, G_2, G_3$ ã¯å·¡å›ç¾¤ $G$ ã®é›†åˆã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«æŒ¯ã‚Šåˆ†ã‘ã‚‰ã‚Œã‚‹ã‚ˆã†ã«3ã¤ã«åŒºåˆ¥ã—ãŸã‚‚ã®ã§ã™ã€‚\n\n$$\nf(x)=\n\\begin{cases}\nbx \u0026 (x \\in G_1 \\mathrm{ã®ã¨ã}) \\\\\nx^2 \u0026 (x \\in G_2 \\mathrm{ã®ã¨ã}) \\\\\nax \u0026 (x \\in G_3 \\mathrm{ã®ã¨ã}) \\\\\n\\end{cases}\n$$\n\nã“ã®ã¨ã $x_0 = a$ ã¨ã™ã‚‹ã¨ $x_i$ ã¯ $x_i = a^{s_i}b^{t_i}$, $s_i, t_i \\in \\mathbb{N}$ ã¨è¡¨ã›ã‚‰ã‚Œã‚‹ã€‚ã™ã‚‹ã¨ $x_i = x_j$ ã«ãŠã„ã¦ $n$ ã¯å·¡å›ç¾¤ã®ä½æ•° $N$ ã‚’ç”¨ã„ã¦æ¬¡ã®ã‚ˆã†ã«è¡¨ã›ã‚‰ã‚Œã‚‹ã€‚\n\n$$\n\\begin{aligned}\nx_i \u0026= a^{s_i}b^{t_i} = a^{s_i + nt_i} \\\\\nx_j \u0026= a^{s_j + nt_j} \\\\\na^{s_i - s_j} \u0026= a^{n(t_j - t_i)} \\\\\nn \u0026= \\frac{s_i - s_j}{t_j - t_i} \\pmod N\n\\end{aligned}\n$$\n\nã“ã‚Œã‚ˆã‚ŠDLPãŒè§£ã‘ã‚‹ã€‚\nPollard-$\\rho$ æ³•ã® $\\rho$ ã¯æ–‡å­— $\\rho$ ã®å½¢ãŒç”±æ¥ã¨ãªã£ã¦ã„ã‚‹ã€‚\n\n\u003c!-- Pollard's Kangaroo æ³• (Lambda æ³•)\n$\\rho$ æ³•ã¯å‹•ãç‚¹ãŒ1ã¤ã®å€¤ã ã£ãŸã®ã«å¯¾ã—ã€ $\\lambda$ æ³•ã¯2ã¤ã®å€¤ãŒãƒ©ãƒ³ãƒ€ãƒ ã«å‹•ã„ã¦ã„ãã€ä¸€æ–¹ãŒã‚‚ã†ä¸€æ–¹ã®ç‚¹ã«è¡çªã—ãŸã¨ãDLPãŒè§£ã‘ã‚‹ã€‚\n\n$$\n\\begin{aligned}\nx_0 \u0026= g^{a_0} \u0026 y_0 \u0026= g^{b_0} \\\\\nx_{i+1} \u0026= x_ig^{r(x_i)} \u0026 y_{i+1} \u0026= y_i g^{r(y_i)} \\\\\n\\end{aligned}\n$$\n\n$x_i = y_j$ ã¨ãªã‚‹ã¨ã --\u003e\n\n## è¨ˆç®—é‡\n\n$O(\\sqrt{N})$\n\nè¨ˆç®—é‡ã®æœŸå¾…å€¤é›†åˆ $S$ ã«å¯¾ã—ã¦ãã‚Œãã‚Œç›¸é•ãª $x_0, x_1, \\ldots, x_{k-1}$ ã‚’é¸ã¶äº‹è±¡ $A$ ã¨\n\n$$\n\\begin{aligned}\nP(A) \u0026= \\prod_{i = 0}^{k-1}\\left(1-\\frac{i}{N}\\right) \\approx \\prod_{i = 0}^{k-1}e^{-i/N} \\approx e^{-k^2/2N} \\\\\nP(B) \u0026= \\frac{k}{N}e^{-k^2/2N} \\\\\nE(B) \u0026= \\sum_{k=1}^N k\\cdot\\frac{k}{N}e^{-k^2/2N} \\\\\n\u0026\\approx \\sqrt{N}\\int_0^\\infty t^2e^{-t^2/2} dt \\\\\n\u0026= \\sqrt{\\frac{\\pi N}{2}}\n\\end{aligned}\n$$\n\n\n## å®Ÿè£…\n\n## ä½¿ç”¨ä¾‹\n\n## å‚è€ƒ\n\n- The Arithmetic of Elliptic Curves. p.383","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/crypto/ECC/ECC":{"title":"æ¥•å††æ›²ç·šæš—å·","content":"\n# æ¥•å††æ›²ç·šæš—å·\n\n## æ¥•å††æ›²ç·š\n$K$ ã‚’ä»»æ„ã®ä½“ã€ $f(x) \\in K[x]$ ã‚’3æ¬¡æ–¹ç¨‹å¼ã¨ã™ã‚‹ã€‚ãŸã ã— $f(x)$ ã®3è§£ã¯ç›¸ç•°ãªã‚‹ã€‚ã“ã“ã§æ¬¡ã®æ–¹ç¨‹å¼ã‚’è€ƒãˆã‚‹ã€‚\n\n$$\ny^2 = f(x)\n$$\n\n$x, y$ ç·šå½¢å¤‰æ›ã«ã‚ˆã£ã¦2æ¬¡ã®é …ã¯æ¶ˆã™ã“ã¨ãŒã§ãã€\n\n$$\ny^2 = x^3 + ax + b\n$$\n\n- ã‚°ãƒ©ãƒ•(ä¸€èˆ¬æ€§ãªã—)\n- ç‰¹ç•°æ€§ -\u003e ç„¡é™é ç‚¹\n- å’Œ\n\n![[Pasted image 20220907220335.png]]\n\n$C: F(x, y) = 0$ ã«ã¤ã„ã¦\n$C$ ãŒç‚¹ $(x_0, y_0)$ ã§éç‰¹ç•°ã§ã‚ã‚‹ã¨ã¯2ã¤ã®åå¾®åˆ† $\\partial F/\\partial x, \\partial F/\\partial y$ ã®ã†ã¡ã®1ã¤ãŒ $(x_0, y_0)$ ã§ $0$ ã§ãªã„ã¨ã„ã†ã“ã¨ã§ã‚ã‚‹ã€‚$K'$ ãŒå®Ÿæ•°ä½“ $\\mathbb{R}$ ã§ã‚ã‚‹ã¨ã $C$ ãŒãã®ç‚¹ã§æ¥ç·šã‚’æŒã¤ãŸã‚ã®æ¡ä»¶ã¨ä¸€è‡´ã™ã‚‹ã€‚ $F(x, y) = y^2 - f(x)$ ã®å ´åˆã€åå¾®åˆ†ã¯ $- f'(x_0)$ ã¨ $2y_0$ ã§ã‚ã‚‹ã€‚2ã¤ã®å¾®åˆ†ãŒåŒæ™‚ã« $0$ ã§ã‚ã‚‹ãŸã‚ã«ã¯ã€ $y_0 = 0$ ã‹ã¤ $x_0$ ã¯ $f(x)$ ã®é‡è§£ã§ã‚ã‚‹ã“ã¨ãŒå¿…è¦ååˆ†ã§ã‚ã‚‹ã€‚ã“ã®ç†ç”±ã®ç‚ºã«æ¥•å††æ›²ç·šã®å®šç¾©ã«ãŠã„ã¦ã€$f(x)$ ãŒç›¸é•ãªã‚‹æ ¹ã‚’æŒã¤ã¨ã„ã†ã“ã¨ã‚’ä»®å®šã—ãŸã®ã§ã‚ã‚‹ã€‚ã¤ã¾ã‚Šæ¥•å††æ›²ç·šã¯ã™ã¹ã¦ã®ç‚¹ã«ãŠã„ã¦éç‰¹ç•°ã§ã‚ã‚‹ã€‚\n\næ¥•å††æ›²ç·šä¸Šã®ç‚¹å…¨ä½“ã«åŠ ãˆã¦ãã®æ›²ç·šä¸Šã«å­˜åœ¨ã™ã‚‹ã¨è€ƒãˆãŸã„ãã‚ã‚ã¦é‡è¦ãªç„¡é™é ç‚¹ã¨å‘¼ã°ã‚Œã‚‹ã‚‚ã®ãŒã‚ã‚‹ã€‚ã“ã‚Œã¯è¤‡ç´ é–¢æ•°è«–ã«ãŠã„ã¦ã€è¤‡ç´ å¹³é¢ã«ç„¡é™é ç‚¹ã‚’æ·»åŠ ã—ã¦ãƒªãƒ¼ãƒãƒ³çƒé¢ã‚’å½¢æˆã™ã‚‹ã“ã¨ã¨åŒã˜ã‚ˆã†ãªã‚‚ã®ã§ã‚ã‚‹ã€‚ã“ã®ã“ã¨ã‚’æ­£ç¢ºã«æ‰±ã†ç‚ºã«ä»Šã€å°„å½±åº§æ¨™ã‚’å°å…¥ã™ã‚‹ã€‚\n\nå˜é …å¼ $x^iy^j$ ã®å…¨æ¬¡æ•°(total degree) ã¨ã¯ $i + j$ ã‚’æ„å‘³ã™ã‚‹ã€‚å¤šé …å¼ $F(x,y)$ ã®å…¨æ¬¡æ•°ã¨ã¯ã€ $0$ ã§ãªã„ä¿‚æ•°ã‚’æŒã£ã¦å‡ºã¦ãã‚‹å˜é …å¼ã®å…¨æ¬¡æ•°ã®æœ€å¤§å€¤ã‚’æ„å‘³ã™ã‚‹ã€‚$F(x,y)$ ã®å…¨æ¬¡æ•°ãŒ $n$ ã®ã¨ãã€å¯¾å¿œã™ã‚‹ $3$ å¤‰æ•°ã®åŒæ¬¡å¤šé …å¼ $\\widetilde{F}(x,y,z)$ ã‚’ $F(x,y)$ ã«ãŠã‘ã‚‹å„å¤šé …å¼ $x^iy^j$ ã«ã€ $x, y, z$ ã«é–¢ã™ã‚‹å…¨æ¬¡æ•°ãŒ $n$ ã«ãªã‚‹ã‚ˆã†ã« $z^{n-i-j}$ ã‚’æ›ã‘ã¦å¾—ã‚‰ã‚Œã‚‹å¤šé …å¼ã¨å®šç¾©ã™ã‚‹ã€‚è¨€ã„æ›ãˆã‚‹ã¨\n\n$$\n\\widetilde{F}(x,y,z) = z^nF\\left(\\frac{x}{z}, \\frac{y}{z}\\right)\n$$\n\nã¨ãªã‚‹ã€‚ä¾‹ãˆã°æ¥•å††æ›²ç·šã®1ã¤ $F(x, y) = y^2 - (x^3 + ax + b)$\n\n$$\n\\begin{aligned}\n\\widetilde{F}(x,y,z) \u0026= y^2z - x^3 - axz^2 - bz^3 \\\\\n\\end{aligned}\n$$\n\n$\\widetilde{F}(x, y, 1) = F(x, y)$ ã¨ã‹ $\\widetilde{F}(\\lambda x,\\lambda y,\\lambda z) = \\lambda^n\\widetilde{F}(x, y, z)$ ã¿ãŸã„ãªæ€§è³ªãŒã‚ã‚‹ã€‚\n\nç„¡é™é ç‚¹ã®è§£èª¬\nè‡ªæ˜ãª3ã¤çµ„ $(0,0,0)$ ã‚’é™¤ã„ãŸå°„å½±å¹³é¢ $\\mathbb{P}_K^2$ ã‚’éè‡ªæ˜ãª3ã¤çµ„ã®åŒå€¤é¡ã‚’ä½“ã®ãªã™é›†åˆã¨ã—ã¦å®šç¾©ã™ã‚‹ã€‚\nå°„å½±å¹³é¢ã‚’åŒå€¤é¡ã§è€ƒãˆã‚‹ã“ã¨ãŒå¥½ããªæ­£å¸¸ãªäººé–“ãªã©ã„ã‚‹ã‚ã‘ãªã„ãŒã€ã‚ã‚ŠãŒãŸã„ã“ã¨ã«ã“ã‚Œã‚’å¹¾ä½•å­¦çš„ã«è€ƒãˆã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚\n$(x,y,z)$ ã®åŒå€¤é¡\n$\\{(x,1,0)\\ |\\ x \\in K\\}$ ã¯ $y = 1$ ã®ç›´ç·šã¨ç„¡é™é ç‚¹ $(1,0,0)$ ã®å’Œã¨ã—ã¦è¦–è¦šåŒ–ã§ãã‚‹ã€‚\n\nå’Œã®å®šç¾©\nç¾¤æ§‹é€ ã‚’ãªã™è¨¼æ˜\n\nå’Œã®å®šç¾©\næ¥•å††æ›²ç·šä¸Šã®ç‚¹ $P, Q$ ã«å¯¾ã—ã€ç›´ç·š $PQ$ ã¨æ›²ç·šã¨ã®äº¤ç‚¹ã® $y$ åº§æ¨™ã‚’ç¬¦å·åè»¢ã—ãŸç‚¹ã‚’ $P + Q$ ã¨ã—ã¾ã™ã€‚\n\n![[Pasted image 20220907220413.png]]\n\nã“ã®å®šç¾©ã‚’è¸ã¾ãˆã¦ã€å…·ä½“çš„ã«å¼ã‚’ç«‹ã¦ã¦è¨ˆç®—ã™ã‚‹ã¨ $P(x_1, y_1), Q(x_2, y_2)$ ã¨ã—ã¦ $R(x_3, y_3) = P + Q$ ã¯æ¬¡ã®ã‚ˆã†ã«è¨ˆç®—ã§ãã¾ã™ã€‚ãŸã ã—ã€$P = Q$ ã®ã¨ãã®ç›´ç·š $PQ$ ã¯æ›²ç·šã«å¯¾ã™ã‚‹ç‚¹ $P$ ã®æ¥ç·šã¨è€ƒãˆã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nx_3 \u0026= \\lambda^2 - x_1 - x_2 \\\\\ny_3 \u0026= \\lambda(x_1 - x_3) - y_1 \\\\\n\\lambda \u0026=\n\\begin{dcases}\n\\frac{y_2 - y_1}{x_2 - x_1} \\quad (P \\neq Q) \\\\\n\\frac{3x_1^2 + a}{2y_1} \\quad (P = Q)\n\\end{dcases}\n\\end{aligned}\n$$\n\n## 2é‡å‘¨æœŸé–¢æ•°\nè¤‡ç´ å¹³é¢å†…ã®æ ¼å­ $L$ ã¨ã¯ã€ä¸ãˆã‚‰ã‚ŒãŸ2ã¤ã®è¤‡ç´ æ•° $\\omega_1, \\omega_2$ ã®æ•´æ•°ä¿‚æ•°ã®1æ¬¡çµåˆå…¨ä½“ã®ãªã™é›†åˆã‚’æ„å‘³ã™ã‚‹ã€‚ãŸã ã—ã€$\\omega_1$ ã¨ $\\omega_2$ ã¯åŸç‚¹ã‚’é€šã‚‹åŒä¸€ã®ç›´ç·šçŠ¶ã«ç„¡ã„ã‚‚ã®ã¨ã™ã‚‹ã€‚\nä¾‹ãˆã° $\\omega_1 = 1, \\omega_2 = i$ ã®å ´åˆã€ã‚¬ã‚¦ã‚¹æ•´æ•°å…¨ä½“ã®ãªã™æ ¼å­ $\\{m + ni\\ |\\ m, n \\in \\mathbb{Z}\\}$ ã‚’å¾—ã‚‹ã€‚\nåŸºæœ¬å¹³è¡Œå››è¾ºå½¢\n\n$$\n\\begin{aligned}\nL \u0026= \\{m\\omega_1 + n\\omega_2\\ |\\ m, n \\in \\mathbb{Z}\\} \\\\\n\\Pi \u0026= \\{a\\omega_1 + b\\omega_2\\ |\\ 0 \\leq a \\leq 1, 0 \\leq b \\leq 1\\} \\\\\n\\end{aligned}\n$$\n\nä¸ãˆã‚‰ã‚ŒãŸæ ¼å­ $L$ ã«å¯¾ã—ã€ $\\mathbb{C}$ ä¸Šã®æœ‰ç†å‹é–¢æ•° $f$ ã¯ã™ã¹ã¦ã® $\\lambda \\in L$ ã«ã¤ã„ã¦ $f(z + \\lambda) = f(z)$ ã«ãªã‚‹ã¨ãã€ $L$ ã«é–¢ã™ã‚‹æ¥•å††é–¢æ•°ã¨è¨€ã‚ã‚Œã‚‹ã€‚ $\\lambda = \\omega_1$ ã¨ $\\lambda = \\omega_2$ ã«ã¤ã„ã¦ã“ã®æ€§è³ªã‚’ç¢ºèªã™ã‚Œã°ååˆ†ã§ã‚ã‚‹ã“ã¨ã‚’æ³¨æ„ã—ã¦ãŠãã€‚\n\n2é‡å‘¨æœŸé–¢æ•°\nè¤‡ç´ å¤šæ§˜ä½“ ãƒˆãƒ¼ãƒ©ã‚¹\nå®Ÿå¤šæ§˜ä½“ å††\n\næ¥•å††é–¢æ•°ã®é‡è¦ãªä¾‹ã¨ãªã‚‹ã‚‚ã®ã‚’å®šç¾©ã™ã‚‹ã€‚ã“ã®é–¢æ•°ã¯ãƒ¯ã‚¤ã‚¨ãƒ«ã‚·ãƒ¥ãƒˆãƒ©ã‚¹ã® $\\wp$ -é–¢æ•°(ãƒšãƒ¼é–¢æ•°)ã¨å‘¼ã°ã‚Œã‚‹ã€‚\n\n$$\n\\wp(z) = \\wp(z; L) = \\frac{1}{z^2} + \\sum_{\\lambda \\in L, \\lambda \\neq 0} \\left(\\frac{1}{(z-\\lambda)^2} - \\frac{1}{\\lambda^2} \\right)\n$$\n\n\n\n$$\n\\begin{aligned}\n\\wp(z) \u0026= \\frac{1}{z^2} + \\sum_{\\lambda \\in L, \\lambda \\neq 0} \\left(\\frac{1}{(z-\\lambda)^2} - \\frac{1}{\\lambda^2} \\right) \\\\\n\u0026= \\frac{1}{z^2} + \\sum_{\\lambda \\in L, \\lambda \\neq 0} \\frac{1}{\\lambda^2}\\left(\\frac{1}{(1-z/\\lambda)^2} - 1\\right) \\\\\n\u0026= \\frac{1}{z^2} + \\sum_{\\lambda \\in L, \\lambda \\neq 0} \\frac{1}{\\lambda^2}\\sum_{k=1}^{\\infty}(k+1)\\left(-\\frac{z}{\\lambda}\\right)^k \\\\\n\u0026= \\frac{1}{z^2} + \\sum_{k=1}^{\\infty}(k+1)(-1)^k\\sum_{\\lambda \\in L, \\lambda \\neq 0} \\frac{1}{\\lambda^{k+2}}z^k \\\\\n\u0026= \\frac{1}{z^2} + \\frac{g_2}{20}z^2 + \\frac{g_3}{28}z^4 + \\mathcal{O}(z^6) \\\\\ng_2 \u0026:= 60\\sum_{\\lambda \\in L}\\frac{1}{\\lambda^4}, \\quad\ng_3 := 140\\sum_{\\lambda \\in L}\\frac{1}{\\lambda^6} \\\\\n\\end{aligned}\n$$\n\n$$\n\\begin{aligned}\n\\wp'(z) \u0026= -2\\sum_{\\lambda \\in L} \\frac{1}{(z-\\lambda)^3} \\\\\n\u0026= - \\frac{2}{z^3} + 2\\sum_{\\lambda \\in L,\\lambda\\neq0} \\frac{1}{\\lambda^3}\\sum_{k=0}^{\\infty}(2k+1)\\left(\\frac{z}{\\lambda}\\right)^k \\\\\n\u0026= 2\\sum_{k=0}^{\\infty} (2k+1)\\sum_{\\lambda \\in L,\\lambda\\neq0}\\frac{1}{\\lambda^{k+3}}z^k\n\\end{aligned}\n$$\n\n$$\n\\begin{aligned}\n\\wp(z) \u0026= \\frac{1}{z^2} + \\frac{g_2}{20}z^2 + \\frac{g_3}{28}z^4 + \\mathcal{O}(z^6) \\\\\n\\wp'(z) \u0026= -\\frac{2}{z^3} + \\frac{g_2}{10}z + \\frac{g_3}{7}z^3 + \\mathcal{O}(z^5) \\\\\n\\wp^3(z) \u0026= \\frac{1}{z^6} + \\frac{3g_2}{20}\\frac{1}{z^2} + \\frac{3g_3}{28} + \\mathcal{O}(z^2) \\\\\n\\wp'^2(z) \u0026= \\frac{4}{z^6} - \\frac{2g_2}{5}\\frac{1}{z^2} - \\frac{4g_3}{7} + \\mathcal{O}(z^2) \\\\\n\\end{aligned}\n$$\n\n![[Pasted image 20220907220319.png]]\n\n\n![[Pasted image 20220907220303.png]]\næ¥•å††é–¢æ•°ä½“\næ¥•å††æ›²ç·š\n\n## ãƒšã‚¢ãƒªãƒ³ã‚°\nweil pairing\ntate pairing\nå¤§äººæ•°\nãƒšã‚¢ãƒªãƒ³ã‚°\n\n## è¶…æ¥•å††æ›²ç·š\nè¶…æ¥•å††æ›²ç·š\nãƒ¤ã‚³ãƒ“å¤šæ§˜ä½“\n\n## ä¿å‹å½¢å¼\nä¸ŠåŠå¹³é¢ $\\mathbb{H}$\n\n$$\n\\gamma(x) = \\frac{ax + b}{cx + d}\n$$\n\nã®å¤‰æ›ã«ã¤ã„ã¦ä¸å¤‰\n\nåŒå‹å†™åƒ\nSIDH\næ¥•å††æ›²ç·šæš—å·ã‚’ãã“ã¾ã§ç†è§£ã—ã¦ãªã„ã®ã§ã€ã“ã‚Œã‹ã‚‰å­¦ã¶äººãŒã‚ˆã‚Šå…ˆã¸é–‹æ‹“ã—ã¦ã„ãã€ã‚ˆã‚Šã‚ˆã„è¨˜äº‹ãŒå‡ºã•ã‚Œã‚‹ã“ã¨ã‚’æœŸå¾…ã—ã¦ã„ã¾ã™ã€‚\n\n### æ¥•å††æ›²ç·šæš—å·ã¨ã¯\n\næ¥•å††æ›²ç·šæš—å· (ECC) ã¯RSAæš—å·ã¨åŒæ™‚æœŸã«é–‹ç™ºã•ã‚ŒãŸæš—å·ã§1985å¹´é ƒã« Victor S. Miller ã¨ Neal Koblitz ãŒåŒæ™‚æœŸã‹ã¤ç‹¬ç«‹ã«ç™ºæ˜ã—ã¾ã—ãŸ(ã¡ãªã¿ã«Miller-Rabinç´ æ•°åˆ¤å®šæ³•ã®Millerã¯Gary L. Millerã§åˆ¥äººã§ã™)ã€‚ç‰¹å¾´ã¨ã—ã¦RSAæš—å·ã‚ˆã‚Šã‚‚ç´”ç²‹ã«å¼·ã„æš—å·ã§ã‚ã‚‹ã“ã¨ã‚„åŒã˜å¼·åº¦ã®RSAæš—å·ã¨æ¯”ã¹ã¦éµé•·ãŒçŸ­ã„ãªã©ãŒã‚ã‚Šã¾ã™ã€‚\n\næ¥•å††æ›²ç·šã¨ã„ã†ã®ã¯æ¬¡ã®é–¢æ•°ã‹ã‚‰ãªã‚‹æ›²ç·šã®ã“ã¨ã§ã™ã€‚\n\n$$\ny^2 = x^3 + ax + b\n$$\n\nã“ã“ã«ã‚°ãƒ©ãƒ•\n\næ¥•å††æ›²ç·šä¸Šã®ç‚¹ $P, Q$ ã«å¯¾ã—ã€ç›´ç·š $PQ$ ã¨æ›²ç·šã¨ã®äº¤ç‚¹ã® $y$ åº§æ¨™ã‚’ç¬¦å·åè»¢ã—ãŸç‚¹ã‚’ $P + Q$ ã¨ã—ã¾ã™ã€‚\n\nã“ã“ã«å›³\n\nã“ã®å®šç¾©ã‚’è¸ã¾ãˆã¦ã€å…·ä½“çš„ã«å¼ã‚’ç«‹ã¦ã¦è¨ˆç®—ã™ã‚‹ã¨ $P(x_1, y_1), Q(x_2, y_2)$ ã¨ã—ã¦ $R(x_3, y_3) = P + Q$ ã¯æ¬¡ã®ã‚ˆã†ã«è¨ˆç®—ã§ãã¾ã™ã€‚ãŸã ã—ã€$P = Q$ ã®ã¨ãã®ç›´ç·š $PQ$ ã¯æ›²ç·šã«å¯¾ã™ã‚‹ç‚¹ $P$ ã®æ¥ç·šã¨è€ƒãˆã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nx_3 \u0026= \\lambda^2 - x_1 - x_2 \\\\\ny_3 \u0026= \\lambda(x_1 - x_3) - y_1 \\\\\n\\lambda \u0026=\n\\begin{dcases}\n\\frac{y_2 - y_1}{x_2 - x_1} \\quad (P \\neq Q) \\\\\n\\frac{3x_1^2 + a}{2y_1} \\quad (P = Q)\n\\end{dcases}\n\\end{aligned}\n$$\n\nã“ã“ã«å…·ä½“ä¾‹\n\nã¾ãŸåŠ æ³•ã«ã¤ã„ã¦ç¾¤ã¨ãªã‚‹ã“ã¨ãŒè¨¼æ˜ã§ãçµåˆæ³•å‰‡ $P + (Q + R) = (P + Q) + R$ ãŒæˆã‚Šç«‹ã¤ã“ã¨ãŒè¨¼æ˜ã§ãã€$nP = \\underbrace{P + P + \\ldots + P}_n$ ã¨æ›¸ã‘ã¾ã™ã€‚ã“ã‚Œã‚’æ¥•å††æ›²ç·šä¸Šã®ã‚¹ã‚«ãƒ©ãƒ¼ç©ã¨å‘¼ã³ã¾ã™ã€‚\n\nã“ã“ã«å…·ä½“ä¾‹\n\n$8P$\n\nã“ã“ã«å®Ÿè£…\n\nã•ã¦ã€ã“ã“ã§ã“ã®æ¥•å††æ›²ç·šä¸Šã®åŠ æ³•ã‚’ç”¨ã„ãŸæ¬¡ã®ã‚ˆã†ãªå•é¡Œã‚’ä½œã‚Œã¾ã™ã€‚\n\n---\n\næ¥•å††æ›²ç·šä¸Šã®ç‚¹ $P, Q$ ã« $Q=dP$ ã¨ã„ã†é–¢ä¿‚ãŒã‚ã‚‹ã¨ã $d$ ã‚’æ±‚ã‚ã‚ˆã€‚\n\n---\n\nã¤ã¾ã‚Šæ¥•å††æ›²ç·šã®ä¸–ç•Œã§ã€Œå‰²ã‚Šç®—ã€ã‚’ã—ãªã•ã„ã¨ã„ã†å•é¡Œã§ã™ã€‚\n\nå®Ÿã¯ã“ã®å•é¡Œã¯ã¨ã¦ã‚‚é›£ã—ãã€ã“ã‚Œã‚’è§£ãåŠ¹ç‡çš„ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯ç¾åœ¨è¦‹ã¤ã‹ã£ã¦ã„ã¾ã›ã‚“ã€‚ã“ã‚Œã‚’æ¥•å††æ›²ç·šä¸Šã®é›¢æ•£å¯¾æ•°å•é¡Œ (ECDLP : Elliptic Curve Discrete Logarithm Problem) ã¨å‘¼ã³ã¾ã™ã€‚ã“ã® ECDLP ã‚’åˆ©ç”¨ã—ã¦æš—å·ã®å½¢ã«ã—ãŸã‚‚ã®ãŒæ¥•å††æ›²ç·šæš—å·ã§ã™ã€‚\n\nå…·ä½“ä¾‹ã¨ã—ã¦ã¯è‰²ã€…ã‚ã‚Šã¾ã™ãŒCTFã§æœ€ã‚‚ã‚ˆãå‡ºã‚‹ã®ãŒECDHã§ã™ã€‚\n\n#### ECDH (Elliptic curve Diffieâ€“Hellman key exchange)\n\næš—å·é€šä¿¡ã‚’ã™ã‚‹ç‚ºã«ä½¿ã‚ã‚Œã‚‹æš—å·ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã§ã™ã€‚\n\nAlice ã¨ Bob ã¯ AES ãªã©ã®å…±é€šéµæš—å·ã‚’ç”¨ã„ã¦æš—å·é€šä¿¡ã—ã‚ˆã†ã¨ã—ã¦ã„ã¾ã™ãŒã€å§‹ã‚ã«2äººã ã‘ã®ç§˜å¯†ã§ã‚ã‚‹å…±æœ‰éµãŒå¿…è¦ã§ã™ã€‚ã—ã‹ã—ãã‚Œã‚’ç›´æ¥å…±æœ‰ã—ã¦ã—ã¾ã†ã¨ã€ç¬¬ä¸‰è€…ã‹ã‚‰éµã‚’ç›—è´ã•ã‚Œã¦é€šä¿¡ã‚’è¦—ãè¦‹ã‚‰ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚ãã“ã§æš—å·ã‚’ç”¨ã„ã‚‹ã“ã¨ã§éµã‚’ç›´æ¥å…±æœ‰ã™ã‚‹ã“ã¨ãªãå…±æœ‰éµã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®æ‰‹æ³•ã‚’ãƒ‡ã‚£ãƒ•ã‚£ãƒ¼ãƒ˜ãƒ«ãƒãƒ³éµå…±æœ‰ (DH) ã¨å‘¼ã³ã€DH ã®ä¸­ã§ã‚‚ ECDLP ã‚’å®‰å…¨æ€§æ ¹æ‹ ã¨ã™ã‚‹ DH ã‚’æ¥•å††æ›²ç·šãƒ‡ã‚£ãƒ•ã‚£ãƒ¼ãƒ˜ãƒ«ãƒãƒ³éµå…±æœ‰ (ECDH) ã¨å‘¼ã³ã¾ã™ã€‚\n\nå…·ä½“çš„ã«ã¯æ¬¡ã®ã‚ˆã†ãªæ–¹æ³•ã§ ECDH ã‚’å®Ÿç¾ã—ã¾ã™ã€‚\n\nã“ã“ã«å›³\n\n1. Aliceã¨BobãŒæ¥•å††æ›²ç·šã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ãƒ™ãƒ¼ã‚¹ãƒã‚¤ãƒ³ãƒˆ $G$ ã‚’å…±æœ‰ã™ã‚‹ã€‚\n2. Aliceã¨Bobã¯ãã‚Œãã‚Œãƒ©ãƒ³ãƒ€ãƒ ãªå€¤ $d_A, d_B$ ã‚’ç”Ÿæˆã—ã€$d_A, d_B$ ã‚’ç§˜å¯†éµã€$Q_A = d_AG, Q_B = d_BG$ ã‚’å…¬é–‹éµã¨ã—ã¦å…¬é–‹ã™ã‚‹ã€‚\n3. Aliceã¨Bobã¯è‡ªåˆ†ã®ç§˜å¯†éµã¨ç›¸æ‰‹ã®å…¬é–‹éµã‚’æ›ã‘ã‚‹ã¨ $S = d_Ad_BG = d_AQ_B = d_BQ_A$ ã¨ãªã‚Šã€$S$ ã® $x$ åº§æ¨™ã‚’ãƒãƒƒã‚·ãƒ¥åŒ–ã—ãŸã‚‚ã®ãŒ Alice ã¨ Bob ã®ã¿ãŒçŸ¥ã‚‹å…±é€šéµã¨ãªã‚‹ã€‚\n\nã“ã®ã‚ˆã†ã«æ”»æ’ƒè€…ã¯ $(G, dG)$ ãŒåˆ†ã‹ã£ã¦ã‚‚ ECDLP ãŒè§£ã‘ãªã„ç‚ºã« $d$ ãŒåˆ†ã‹ã‚‰ãšã€å®‰å…¨ã«å…±é€šéµã‚’å…±æœ‰ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n\nã“ã“ã«å®Ÿè£…\n\næš—å·æ¨™æº–ã‚’å®šã‚ã‚‹å›½éš›æ©Ÿé–¢ã«ã‚ˆã£ã¦æ¥•å††æ›²ç·šãŒ\nhttps://neuromancer.sk/std/\n\n### æ¥•å††æ›²ç·šã¨ã¯\n\næ´ã¿ã‚’è¦‹ã‚ŒãŸã¨æ€ã†ã®ã§ã™ãŒã‚ˆãç†è§£ã™ã‚‹ã«ã¯æ­£ç¢ºãªå®šç¾©ãŒå¿…è¦ã§ã™ã€‚\næ•°å­¦çš„ãªè©±ã¯ã‚ã‚“ã¾ã‚Š\n\nå°„å½±å¹³é¢ä¸Šã®æ¥•å††æ›²ç·š\n\nå°„å½±å¹³é¢ã§å®šç¾©ã™ã‚‹ç†ç”±\n\n- ç„¡é™é ç‚¹ã‚’æ•°å­¦çš„ã«å®šç¾©ã§ãã‚‹\n- å®Ÿè£…æ™‚ã«å‰²ã‚Šç®—ã®é…å»¶ãŒã§ãé«˜é€ŸåŒ–ã§ãã‚‹\n\n\nã•ã¦ãã‚ãã‚æ”»æ’ƒã—ãŸãã¦ãƒ ã‚ºãƒ ã‚ºã—å§‹ã‚ãŸã‚“ã˜ã‚ƒãªã„ã§ã—ã‚‡ã†ã‹ï¼Ÿã§ã¯ã‚„ã£ã¦ã„ãã¾ã—ã‚‡ã†ï¼\n\n### æ”»æ’ƒæ‰‹æ³•\n\nã“ã® ECDLP ã‚’è§£ãã“ã¨ãŒã§ãã‚Œã° ECDH ã‚’å«ã‚ã€æ§˜ã€…ãªæ¥•å††æ›²ç·šæš—å·ã‚’è§£ãã“ã¨ãŒã§ãã¾ã™ã€‚ã•ã¦ä¸»ã«æ”»æ’ƒå¯¾è±¡ã¨ãªã‚‹æ¥•å††æ›²ç·šæš—å·ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚\n\n1. ç¾åœ¨è¦‹ã¤ã‹ã£ã¦ã„ã‚‹æœ€ã‚‚é«˜é€Ÿãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ ECDLP ã‚’è§£ãã€‚è¨ˆç®—é‡ã¯ $O(\\sqrt{\\#E/\\mathbb{F}_p})$ ã¨ãªã‚‹ã€‚\n2. $\\#E/\\mathbb{F}_p = p_1^{e_1}p_2^{e_2}\\ldots p_k^{e_k}$ (ä½æ•°ãŒ Smooth number ãªã¨ã) ãªã‚‰ã°ä½æ•° $p_i$ ã®å°ã•ãª ECDLP ã«åˆ†è§£ã§ãã‚‹ã€‚ãã‚Œãã‚Œè¨ˆç®—é‡ã¯ $O(\\sqrt{p_i})$ ã§ã‚ã‚‹ã€‚\n3. $\\#E/\\mathbb{F}_p = p$ (Anomalous ãªã¨ã) ãªã‚‰ã° $\\mathbb{F}_p^+$ ä¸Šã® DLP ã«å¸°ç€ã§ãã‚‹ã€‚\n4. $\\#E/\\mathbb{F}_p = p+1$ (Supersingular ãªã¨ã) ãªã‚‰ã°åŸ‹ã‚è¾¼ã¿æ¬¡æ•° $k$ ã‚’ç”¨ã„ã¦ $\\mathbb{F}_{p^k}^\\times$ ä¸Šã® DLP ã«å¸°ç€ã§ãã‚‹ã€‚å®Ÿè·µä¸Š $k$ ã¯ãã“ã¾ã§å¤§ãããªã‚‰ãªã„ã€‚\n5. $\\Delta(E/\\mathbb{F}_p) = 0$ (Singular ãªã¨ã) ãªã‚‰ã° $\\mathbb{F}_p^+$ ã‚„ $\\mathbb{F}_p^\\times, \\mathbb{F}_{p^2}^\\times$ ä¸Šã® DLP ã«å¸°ç€ã§ãã‚‹ã€‚\n6. æ¥•å††æ›²ç·šä¸Šã«å­˜åœ¨ã—ãªã„ç‚¹ã‚„ä½æ•°ã®å°‘ãªã„ç‚¹ã‚’æŒ‡å®šã§ãã‚‹ãªã‚‰ã°ç§˜å¯†éµã®æƒ…å ±ã‚’å–ã‚Šå‡ºã™ã“ã¨ãŒã§ãã‚‹ã€‚\n\nãã‚Œãã‚Œ\n\n### 1. ECDLP\n\n### 2. Polig-Hellman Attack\n\n### 3. MOV/FR Reduction\nMOV Reduction (Menezes-Okamoto-Vanstone Reduction)\nWeil-pairing\nFR Reduction (Frey-RÃ¼ck Reduction)\nTate-pairing\n\nTate-pairing, Bilinear-pairingã®ã„ã„è³‡æ–™ãŒã¿ã¤ã‹ã‚‰ãªã„\n\n### 4. SSSA Attack / Supersingularãªæ›²ç·šã‚’ç”¨ã„ã¦ã¯ã„ã‘ãªã„\n$E/\\mathbb{F}_q, \\gcd(t, q) \u003e 1$ åŸ‹ã‚è¾¼ã¿æ¬¡æ•° $k\\leq6$ å…¨åŸ‹è¾¼ã¿æ¬¡æ•°ã¯æ—¢çŸ¥\n$E[p]  \\mathbb{Z}/p\\mathbb{Z}$\n$\\pi:\\mathbb{P}^2(\\mathbb{Q}_p) \\to \\mathbb{P}^2(\\mathbb{F}_p)$\n$\\phi:\\ker\\pi \\to \\mathcal{E}(p\\mathbb{Z}_p)$\n\n\n### 5. Singularãªæ›²ç·šã‚’ç”¨ã„ã¦ã¯ã„ã‘ãªã„\n\nSingular ãªæ¥•å††æ›²ç·šã®å ´åˆã€ç‰¹ç•°ç‚¹ãŒå­˜åœ¨ã—ã€ç‰¹ç•°ç‚¹ã«ã¯å°–ç‚¹ (cusp) ã€ç¯€ç‚¹ (node) ã®2ç¨®é¡ãŒã‚ã‚‹ã€‚$c_4 = 0$ ã¨å°–ç‚¹ã¯åŒå€¤ã§ã‚ã‚‹ã€‚\n\n$y = 0$ ä¸Šã®ç‰¹ç•°ç‚¹ãŒåŸç‚¹ $O(0, 0)$ ã¨ãªã‚‹ã‚ˆã†ã«å¹³è¡Œç§»å‹•ã•ã›ã‚‹ã€‚ã™ã‚‹ã¨ä»»æ„ã® Singular ãªæ¥•å††æ›²ç·šã¯ $y^2 = x^3 + kx^2$ ã®å½¢ã¨ãªã‚‹ã€‚\n\n$$\n\\begin{aligned}\n\\begin{dcases}\nE(\\mathbb{F}_p) \\rightarrow \\mathbb{F}_p^+: (x,y)â†¦\\frac{x}{y},\u0026âˆâ†¦0 \u0026 (cuspã®ã¨ã)\\\\\nE(\\mathbb{F}_p) \\rightarrow \\mathbb{F}_p^\\times: (x,y)â†¦\\frac{y + \\sqrt{k}x}{y - \\sqrt{k}x},\u0026âˆâ†¦1 \u0026 (nodeã®ã¨ã) \\\\\n\\end{dcases}\n\\end{aligned}\n$$\n\nâ†‘ã“ã‚Œã¯ãªãœï¼Ÿ\n\n### 6. Invalid Curve Attack\n\n\n### Weil decsent\n### ECFFT\n\n\nã‚ˆã‚Šé¢ç™½ã„è©±é¡Œã¨ã—ã¦æ¥•å††æ›²ç·šæš—å·ã«ãƒãƒƒã‚¯ãƒ‰ã‚¢ãŒä»•è¾¼ã¾ã‚Œã¦ã„ãŸã¨ã„ã†äº‹ä»¶ãŒã‚ã‚‹ã€‚\n- Dual EC DRBG\n\næ§‹æˆ\n- SIDH SIKE\n- ECDH\n- CSIDH\n\nhttps://blog.z.cash/new-snark-curve/ :  BLS12-381: New zk-SNARK Elliptic Curve Construction\nunefficient key recovery\n\nDiffie Hellman\nE/P/Q = E/Q/P\nECDDH\nE/P E/Q -\u003e E/PQ\n\nCall Stack Graph\nã‚¨ãƒ©ãƒ¼ãŒèµ·ããŸã¨ã“ã‚ã‚’ã„ã„æ„Ÿã˜ã«ãŸã©ã‚Œã‚‹\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/crypto/ECC/ECFFT":{"title":"ECFFT","content":"\n[ECFFT1.pdf (toronto.edu)](https://www.math.toronto.edu/swastik/ECFFT1.pdf)","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/crypto/ECC/GHS-Attack":{"title":"GHS Attack","content":"Weil descent æ”»æ’ƒã¨ã‚‚å‘¼ã°ã‚Œã‚‹","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/crypto/ECC/Invalid-Curve-Attack":{"title":"Invalid Curve Attack","content":"\n## èª¬æ˜\n\nã–ã£ãã‚Šè¨€ã†ã¨æ¥•å††æ›²ç·šä¸Šã«ç‚¹ãŒä¹—ã£ã¦ã„ãªã„ã¨ãã«ä½æ•°ãŒä½ããªã‚‹ã“ã¨ã‚’åˆ©ç”¨ã™ã‚‹æ”»æ’ƒã§ã™ã€‚\n\né©å½“ã«é¸ã‚“ã æ•°ã¯å°ã•ãªç´ æ•°ã§å‰²ã‚Œã‚„ã™ã„\nã®ã¨åŒã˜ã‚ˆã†ã«\n\n\n[Google CTF Tiramisu write up (zenn.dev)](https://zenn.dev/kurenaif/articles/9cf509d9a15815)","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/crypto/ECC/MOV-FR-Reduction":{"title":"MOV/FR Reduction","content":"\n## MOV Reduction\n$R=dP$ ã¨ãªã‚‹ECDLPã‚’è§£ã\n\nWeil pairing $e_n: E[n]\\times E[n]\\to \\mu_n\\subseteq \\mathbb{F}_{p^k}^*$\n\n1. $E[n]\\subseteq E(\\mathbb{F}_{p^k})$ ã¨ãªã‚‹æœ€å°ã® $k$ ã‚’æŒã£ã¦ãã‚‹\n2. ä½æ•° $n$ ã® $\\alpha=e_n(P, Q)$ ã¨ãªã‚‹ã‚ˆã†ã« $Q \\in E[n]$ ã‚’å–ã£ã¦ãã‚‹\n3. $\\beta = e_n(dP, Q)$\n4. $\\mathbb{F}_{p^k}^*$ ä¸Šã®DLPã‚’ $\\alpha, \\beta$ ã‚’ç”¨ã„ã¦è§£ã\n\n$k$ ã¯å¤šãã¨ã‚‚6ã¾ã§\n$E(\\mathbb{F}_{p^k}^*)\\cong\\mathbb{Z}_{c_1n_1}\\oplus\\mathbb{Z}_{c_2n_1}$\n\n","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/crypto/ECC/Millar":{"title":"Millar","content":"","lastmodified":"2022-12-30T07:57:21.463263852Z","tags":null},"/crypto/ECC/Pohlig-Hellman":{"title":"Pohlig-Hellman Attack","content":"\n## èª¬æ˜\n\nä¸­å›½å‰°ä½™å®šç†ã‚’ç”¨ã„ã¦å¤§ããªç¾¤ã‚’è¤‡æ•°ã®å°ã•ãªç¾¤ã®ç›´ç©ã«åˆ†ã‘ã‚‹ã€‚\n\næ¥•å††æ›²ç·šæš—å·ã®æ¥•å††æ›²ç·šã®ä½æ•°ã¯ç´°ã‹ãç´ å› æ•°åˆ†è§£ã§ãã‚‹ã“ã¨ãŒå¤šã„ã€‚\n\næ¥•å††æ›²ç·šã®ä½æ•° $\\#E = p_1^{e_1}p_2^{e_2}\\ldots p_k^{e_k}$ ã¨ç´ å› æ•°åˆ†è§£ã§ãã‚‹ã€‚$Q = dP$ ã¨ãªã‚‹ã¨ãæ¬¡ã®ã‚ˆã†ã« $d_i$ ã‚’ç½®ãã€‚\n\n$$\n\\begin{aligned}\nd_1 \u0026= d \\pmod{p_1^{e_1}} \\\\\nd_2 \u0026= d \\pmod{p_2^{e_2}} \\\\\n\u0026\\vdots \\\\\nd_k \u0026= d \\pmod{p_k^{e_k}} \\\\\n\\end{aligned}\n$$\n\nãã‚Œãã‚Œã® $d_i$ ã«ã¤ã„ã¦æ¬¡ã®ã‚ˆã†ã«æ›¸ã‘ã‚‹ã€‚\n\n$$\nd_i=z_0+z_1p_i+z_2p_i^2+\\ldots+z_{e_iâˆ’1}p_i^{e_iâˆ’1} \\pmod{p_i^{e_i}} \\quad (âˆ€k:z_k \\in [0,p_i))\n$$\n\nã“ã“ã§ $P_{i,j}=\\frac{\\#E}{p_i^j}P, Q_i=\\frac{\\#E}{p_i^j}Q$ ã¨ãŠãã¨\n\n$$\nQ_{i,1} = d_{i,1}P_{i,1} = (z_0+z_1p_i+z_2p_i^2+\\ldots+z_{e_iâˆ’1}p_i^{e_iâˆ’1})P_{i,1} = z_0P_i\n$$\n\nã¨ãªã‚Š, $z_0 \u003c p_i$ ã§ã‚ã‚‹ $Q_i = z_0P_i$ ã«ã¤ã„ã¦DLPã‚’è§£ã‘ã°è‰¯ã„ã€‚\n\nä»–ã«ã¤ã„ã¦ã¯ $Q_i' = (Q_i - z_0P_i) / p_i$ ã¨ãŠã„ã¦åŒæ§˜ã«è§£ã‘ã‚‹ã¨æ€ã£ã¦ã„ãŸã‘ã©é™¤ç®—ã¯ ECC ã® DDH å•é¡Œã‹ã‚‰ä¸å¯èƒ½ã£ã½ã„ã®ã§ $p_i^{e_i}$ å…¨æ¢ç´¢ã™ã‚‹ã—ã‹ãªã„ã‹ã‚‚ã€‚\n\n## å®Ÿè£…\n\n```python\nfact = factor(G.order())\nord = int(G.order())\ndlogs = []\nfor p, e in fact:\n    t = ord // p ^ e\n    dlog = discrete_log(t * Q, t * G, operation=\"+\")\n    dlogs += [dlog]\n\nprint(crt(dlogs, primes))\n```\n\n## ä½¿ç”¨ä¾‹\n\n## å‚è€ƒ\n","lastmodified":"2022-12-30T07:57:21.467263831Z","tags":null},"/crypto/ECC/SIKE":{"title":"Attacks on SIKE","content":"\n[Attacks on SIDH/SIKE | ellipticnews (wordpress.com)](https://ellipticnews.wordpress.com/2022/08/12/attacks-on-sidh-sike/)\n[jack4818/Castryck-Decru-SageMath: A SageMath implementation of the Castryck-Decru Key Recovery attack on SIDH (github.com)](https://github.com/jack4818/Castryck-Decru-SageMath)","lastmodified":"2022-12-30T07:57:21.467263831Z","tags":null},"/crypto/ECC/SSSA-Attack":{"title":"SSSA Attack","content":"\n## èª¬æ˜\n$$\n\\newcommand{\\calO}{\\mathcal{O}}\n\\newcommand{\\FF}{\\mathbb{F}}\n\\newcommand{\\tE}{\\tilde{E}}\n\\newcommand{\\ZZ}{\\mathbb{Z}}\n\\newcommand{\\QQ}{\\mathbb{Q}}\n\\DeclareMathOperator{\\Ker}{Ker}\n\\DeclareMathOperator{\\ord}{ord}\n$$\n## Definition\n- $\\FF_p$\n    - ç´ æ•°$p$ã«å¯¾ã—ã¦$p$å€‹ã®å…ƒã‹ã‚‰ãªã‚‹æœ‰é™ä½“\n    - ç´ æ•°$p$ã®å‰°ä½™ç¾¤\n    - $\\mathbb{Z}/p\\mathbb{Z}$\n- $\\mathbb{Q}_p$\n    - pé€²æ•°ä½“\n    - $27=2.5+2.25 + 27.125 + O(5^4)$ å°„å½±æ¥µé™ã«ã‚ˆã‚‹å°å…¥\n    - $27 = 2 + 5^2 + O(5^3)$ pé€²å±•é–‹ã«ã‚ˆã‚‹å°å…¥\n    - $\\mathbb{Q}$ã®pé€²ä»˜å€¤ã«ã‚ˆã‚‹å®Œå‚™åŒ–ã‚’ã™ã‚‹å°å…¥\n    - $n\\times 100 = n.10^{-2}$\n- $\\mathbb{Z}_p$\n    - pé€²æ•´æ•°ç’°\n    - $Q_p$ã®æ•´æ•°éƒ¨åˆ†\n    - è«–æ–‡ã«ã‚‚æ³¨é‡ˆãŒã‚ã‚‹ãŒ$\\mathbb{Z}/n\\mathbb{Z}$ã®ç•¥è¨˜$\\mathbb{Z}_n$ã¨ã¯åˆ¥ç‰©\n- $\\mathbb{Z}\\text{-algebra}$ã«å¯¾ã™ã‚‹$\\mathbb{P}^n(R)$\n    - $\\mathbb{Z}$ã‹ã‚‰$R$ã¸ã®å‡–åŒå‹ãŒã‚ã‚‹\n    - é›ªæ±Ÿä»£æ•°å­¦2å·» Def. 1.3.13 (p.15)ã®å®šç¾©\n      + $k, A$ã‚’ç’°ã¨ã™ã‚‹.ã€€$k$ã‹ã‚‰$A$ã¸ã®æº–åŒå‹ãŒã‚ã‚‹ã¨ã, $A$ã‚’$k$ä»£æ•°, ã‚ã‚‹ã„ã¯$k$ä¸Šã®ä»£æ•°ã¨ã„ã†.\n- $\\calO=(0 : 1 : 0)$ã§æ¥•å††æ›²ç·šã®ç¾¤æ¼”ç®—ã«é–¢ã™ã‚‹å˜ä½å…ƒ\n- æŒã¡ä¸Šã’\n    - æº–åŒå‹ã®ç§»å‹•\n- RãŒä½“ã®ã¨ã$E(R)$ã¯ç¾¤ã§ã‚ã‚‹ã“ã¨ã¯å—ã‘å…¥ã‚Œã‚‹\n- $\\mathscr{L}$ã¯åŒå‹å†™åƒ\n\n$\\mathbb{Q}_p$, $\\mathbb{Z}_p$ ã¯ãã‚Œãã‚Œpé€²ä½“ã€pé€²æ•´æ•°ç’°ã¨ã™ã‚‹ã€‚\n\næ¬¡ã®åŒå‹å†™åƒ $\\lambda_E$ ã‚’ç”¨ã„ã¦æ¥•å††æ›²ç·š $\\tilde{E}(\\mathbb{F}_p)$ ä¸ŠãŒ $\\mathbb{F}_p$ ä¸Šã® DLPã€ã¤ã¾ã‚Š $\\bmod p$ ã®å‰²ã‚Šç®—ã«å¸°çµã™ã‚‹ã€‚\n\n$$\n\\lambda_E \\colon \\tilde{E}(\\mathbb{F}_p) \\overset{u}{\\to} E(\\mathbb{Q}_p)\\xrightarrow{på€}\\ker\\pi \\xrightarrow{\\mathscr{L}} p\\mathbb{Z}_p\\xrightarrow{\\bmod p^2}p\\mathbb{Z}_p/p^2 \\mathbb{Z}_p\\simeq \\mathbb{F}_p\n$$\n\n\n\n## å‚è€ƒ\n\n[Fermat Quotient ã¨ Anomalous æ¥•å††æ›²ç·šã®é›¢æ•£å¯¾æ•°ã®å¤šé …å¼æ™‚é–“è§£æ³•ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«ã¤ã„ã¦(ä»£æ•°çš„æ•´æ•°è«–ã¨ãã®å‘¨è¾º)](https://repository.kulib.kyoto-u.ac.jp/dspace/bitstream/2433/61761/1/1026-15.pdf)\n","lastmodified":"2022-12-30T07:57:21.467263831Z","tags":null},"/crypto/ECC/Schoof":{"title":"Schoof Algorithm","content":"\nHasse-Weil å®šç†ã‚ˆã‚Š\n\n$$\nq+1-2\\sqrt{q}\\leq|E(\\mathbb{F}_q)|\\leq q+1+2\\sqrt{q}\n$$\n\n$|E(\\mathbb{F}_q)|=q+1+t$ ã¨ãŠã‘ã‚‹ã€‚$\\mathbb{F}_q$ ã®ãƒ•ãƒ­ãƒ™ãƒ‹ã‚¦ã‚¹å†™åƒ $\\sigma$ ã®ãƒˆãƒ¬ãƒ¼ã‚¹ $t$ ã‚’è¨ˆç®—ã§ãã‚Œã°ä½æ•°ãŒæ±‚ã¾ã‚‹ã€‚ã—ã‹ã— $t$ ã¯ $2\\sqrt{q}$ ã®ã‚ªãƒ¼ãƒ€ãƒ¼ã§ã‚ã‚‹ãŸã‚ã€ç›´æ¥è¨ˆç®—ã§ããªã„ã€‚ãã“ã§ç´ æ•° $l$ ã‚’å‰°ä½™ã«ã¨ã£ã¦ãã‚Œãã‚Œã® $t$ ã®å€¤ã‚’æ±‚ã‚ã€ä¸­å›½å‰°ä½™å®šç†ã«ã‚ˆã£ã¦ $t$ ã‚’æ±‚ã‚ã‚‹ã€‚\n\nå…·ä½“çš„ã«ã¯ç‰¹æ€§å¤šé …å¼ã® $t$ ã« $0,\\ldots,\\frac{l-1}{2}$ ã®å€¤ã‚’ä»£å…¥ã—ã¦ç¢ºã‹ã‚ã‚‹ã€‚\n\n$$\n\\begin{aligned}\n\\sigma_q^2-t\\sigma_q+q \u0026= 0 \\\\\n\\pm[t_l]\\circ\\sigma_q \u0026= \\sigma_q^2+[q_l]\n\\end{aligned}\n$$\n\n1ã¤ã® $l$ ç­‰åˆ†ç‚¹ $P$ ã«å¯¾ã—ã¦æˆã‚Šç«‹ã¦ã°ã™ã¹ã¦ã® $l$ ç­‰åˆ†ç‚¹ã«å¯¾ã—ã¦æˆã‚Šç«‹ã¤ã€‚\n","lastmodified":"2022-12-30T07:57:21.467263831Z","tags":null},"/crypto/Hash/DifferencialCryptoanalysis":{"title":"Differencial cryptoanalysis","content":"\n\nhttps://github.com/aappleby/smhasher/wiki/MurmurHash2Flaw\n\nDifferencial cryptanalysis\nã“ã‚Œã¯ãƒãƒƒã‚·ãƒ¥é–¢æ•°ã®å®Ÿè£…ã«è¸ã¿è¾¼ã‚€æ‰‹æ³•ã§ã‚ã‚‹. ã‚¹ã‚±ãƒƒãƒã¨ã—ã¦ã¯ä½•ã‹ã—ã‚‰ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒåŒã˜ãªã©ã®ç‰¹æ®Šãªå ´åˆã®ã¨ã, ç°¡ç´„åŒ–ãŒã§ã, å˜ç´”ãªç®—è¡“æ¼”ç®—ã«ã‚ˆã‚‹æ¡ä»¶å¼ã‚’ã„ãã¤ã‹ç”Ÿæˆã§ãã‚‹. ã“ã‚Œã‚’ SMT ã§è§£ãã‚‰ã—ã„.\n","lastmodified":"2022-12-30T07:57:21.467263831Z","tags":null},"/crypto/Hash/hash":{"title":"ãƒãƒƒã‚·ãƒ¥é–¢æ•°","content":"\n## èª¬æ˜\n\n- åŸåƒè¨ˆç®—å›°é›£æ€§ ä¸ãˆã‚‰ã‚ŒãŸ $h$ ã«å¯¾ã—ã¦ $H(m) = h$ ã¨ãªã‚‹ $m$ ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒå›°é›£ã§ã‚ã‚‹ï¼\n- ç¬¬äºŒåŸåƒè¨ˆç®—å›°é›£æ€§ $m1$ ãŒä¸ãˆã‚‰ã‚ŒãŸã¨ãã« $H(m1) = H(m2)$ ã¨ãªã‚‹ $m2(Ì¸= m1)$ ã‚’æ±‚ã‚ã‚‹ã®ãŒå›°é›£ã§ã‚ã‚‹ï¼\n- è¡çªå›°é›£æ€§ ç›¸ç•°ãªã‚‹ $m1$ ã¨ $m2$ ã§ï¼Œ$H(m1) = H(m2)$ ã¨ãªã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒå›°é›£ã§ã‚ã‚‹ï¼\n\nHMAC (Hash-based MAC)\n\nä¼¸é•·æ”»æ’ƒ\n- Merkle-DamgÃ¥rd construction","lastmodified":"2022-12-30T07:57:21.467263831Z","tags":null},"/crypto/Lattice/BKZ":{"title":"BKZ(Block Korkine-Zolotareff) åŸºåº•ç°¡ç´„","content":"\n## èª¬æ˜\n\nHKZ(Hermite-Korkine-Zolotareff) åŸºåº•ç°¡ç´„\n\n1. ã‚µã‚¤ã‚ºåŸºåº•ç°¡ç´„\n2. æ¡ä»¶ã«åˆã†ã‚ˆã†ã«åŸºåº•ãƒ™ã‚¯ãƒˆãƒ«ã®äº¤æ›\n\n## è¨ˆç®—é‡\n\n\n## å®Ÿè£…\n\n\n## ä½¿ç”¨ä¾‹\n\n## å‚è€ƒ\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/Lattice/GSO":{"title":"Gram-Schmidt ç›´äº¤åŒ–","content":"\n## èª¬æ˜\n\nGram-Schmidt ç›´äº¤åŒ– (GSO; Gram-Schmidt Orthonormalization) ã¨ã¯å®Ÿ $m$ æ¬¡å…ƒãƒ™ã‚¯ãƒˆãƒ«ç©ºé–“ $\\mathbb{R}^m$ ã®ä»»æ„ã® $\\mathbb{R}$ ãƒ™ã‚¯ãƒˆãƒ«ç©ºé–“ã¨ã—ã¦ã®åŸºåº•ã‚’ç›´äº¤åŸºåº•ã«å¤‰æ›ã™ã‚‹æ–¹æ³•ã§ã™. $\\mathbf{b} _ n$ ã®ç›´äº¤åŒ–ã¯ $\\mathbf{b} _ {1},\\ldots, \\mathbf{b} _ {n-1}$ ã™ã¹ã¦ã¨ç›´äº¤ã™ã‚‹ã‚ˆã†ã«å…ƒã®é«˜ã•ã®ã¾ã¾ç§»å‹•ã•ã›ã¾ã™. [GSOã®Wikipedia](https://ja.wikipedia.org/wiki/%E3%82%B0%E3%83%A9%E3%83%A0%E3%83%BB%E3%82%B7%E3%83%A5%E3%83%9F%E3%83%83%E3%83%88%E3%81%AE%E6%AD%A3%E8%A6%8F%E7%9B%B4%E4%BA%A4%E5%8C%96%E6%B3%95) ã®gifãŒã‚ã‹ã‚Šã‚„ã™ã„ã§ã™.\n\n![[400px-Gram-Schmidt_orthonormalization_process.gif]]\n\n**Definition 1** (GSOãƒ™ã‚¯ãƒˆãƒ«)\n$n$ æ¬¡å…ƒæ ¼å­ $L\\subseteq \\mathbb{R}^m$ ã®é †åºä»˜ãåŸºåº• $\\{\\mathbf{b} _ {1},\\ldots, \\mathbf{b} _ {n}\\}$ ã«å¯¾ã™ã‚‹GSOãƒ™ã‚¯ãƒˆãƒ« $\\mathbf{b} _ {1}^* ,\\ldots, \\mathbf{b} _ {n}^ *\\in\\mathbb{R}^m$ ã‚’æ¬¡ã®ã‚ˆã†ã«å®šç¾©ã™ã‚‹. ã¾ãŸ $\\mu _ {i,j}$ ã‚’GSOä¿‚æ•°ã¨å‘¼ã¶.\n\n$$\n\\begin{aligned}\n\u0026\\begin{dcases}\n\\mathbf{b} _ 1^* := \\mathbf{b} _ 1 \\\\\n\\mathbf{b} _ i^ * := \\mathbf{b} _ i - \\sum _ {j=1}^{i-1} \\mu _ {i, j} \\mathbf{b} _ j^ * \u0026 (2\\leq i\\leq n) \\\\\n\\end{dcases} \\\\\n\u0026\\quad\\mu _ {i, j} := \\frac{\\langle \\mathbf{b} _ i, \\mathbf{b}_j^ * \\rangle}{\\| \\mathbf{b} _ j^ * \\|^2} \\qquad (1\\leq j\u003ci\\leq n)\n\\end{aligned}\n$$\n\nè¡Œåˆ—ã‚’ç”¨ã„ã¦è¡¨ç¾ã™ã‚‹ã¨æ¬¡ã®ã‚ˆã†ã«(è¦è©³ç´°) $B, B^* , U$ ã‚’å®šç¾©ã—ãŸã¨ã $B = UB^ *$ ãŒæˆã‚Šç«‹ã¤ã¨æ›¸ã‘ã‚‹.\n\n$$\n\\begin{aligned}\nB \u0026=\n\\begin{pmatrix}\n\\mathbf{b} _ 1 \\\\\n\\vdots \\\\\n\\mathbf{b} _ n \\\\\n\\end{pmatrix}\n\u0026 B^* \u0026=\n\\begin{pmatrix}\n\\mathbf{b} _ 1^ * \\\\\n\\vdots \\\\\n\\mathbf{b} _ n^ * \\\\\n\\end{pmatrix}\n\u0026 U \u0026=\n\\begin{pmatrix}\n1 \u0026 0 \u0026 0 \u0026 \\cdots \u0026 0 \\\\\n\\mu _ {2,1} \u0026 1 \u0026 0 \u0026 \\cdots \u0026 0 \\\\\n\\mu _ {3,1} \u0026 \\mu_{3,2} \u0026 1 \u0026 \\cdots \u0026 0 \\\\\n\\vdots \u0026 \\vdots \u0026 \\vdots \u0026 \\ddots \u0026 \\vdots \\\\\n\\mu _ {n,1} \u0026 \\mu _ {n,2} \u0026 \\mu _ {n,3} \u0026 \\cdots \u0026 1 \\\\\n\\end{pmatrix}\n\\end{aligned}\n$$\n\n**Theorem 2** (GSOãƒ™ã‚¯ãƒˆãƒ«ã®åŸºæœ¬æ€§è³ª)\n1. ä»»æ„ã® $1\\leq i\u003cj\\leq n$ ã«å¯¾ã—ã¦ $\\langle\\mathbf{b}_ i^* , \\mathbf{b} _j^ *\\rangle = 0$ ãŒæˆã‚Šç«‹ã¤.\n2. ä»»æ„ã® $1\\leq i\\leq n$ ã«å¯¾ã—ã¦ $\\|\\mathbf{b}_ i^ * \\|\\leq\\|\\mathbf{b} _i\\|$ ãŒæˆã‚Šç«‹ã¤.\n3. ä»»æ„ã® $1\\leq i\\leq n$ ã«å¯¾ã—ã¦ $\\langle\\mathbf{b} _ 1^* ,\\ldots,\\mathbf{b} _ i^ *\\rangle_{\\mathbb{R}} = \\langle\\mathbf{b} _ 1,\\ldots,\\mathbf{b} _ i\\rangle _ {\\mathbb{R}}$ ãŒæˆã‚Šç«‹ã¤.\n4. $\\mathrm{vol}(L) = \\prod _ {i=1}^n\\|\\mathbf{b} _ i^*\\|$ ãŒæˆã‚Šç«‹ã¤.\n\n**Proof.**\n1. $j$ ã«é–¢ã™ã‚‹æ•°å­¦çš„å¸°ç´æ³•ã«ã‚ˆã‚Šç¤ºã™. $j=1$ ã®ã¨ãã¯è¨¼æ˜ã™ã¹ãã“ã¨ã¯ãªã„. $1,\\ldots,j$ ã«ã¤ã„ã¦æˆç«‹ã—ã¦ã„ã‚‹ã¨ä»®å®šã™ã‚‹. $j+1$ ã®ã¨ãä»»æ„ã® $1\\leq i\u003cj+1$ ã«å¯¾ã—ã¦\n$$\n\\begin{aligned}\n\\langle\\mathbf{b} _ i^ * , \\mathbf{b} _ {j+1}^ * \\rangle \u0026= \\left\\langle\\mathbf{b} _ i^ * , \\mathbf{b} _ {j+1} - \\sum _ {k=1}^j\\mu _ {j+1, k}\\mathbf{b} _ {k}^ * \\right\\rangle \\\\\n\u0026= \\langle\\mathbf{b} _ i^ * , \\mathbf{b} _ {j+1}\\rangle - \\mu _ {j+1,i}\\langle\\mathbf{b} _ i^ * , \\mathbf{b} _ {i}^ * \\rangle \\\\\n\u0026= \\langle\\mathbf{b} _ i^ * , \\mathbf{b} _ {j+1}\\rangle - \\frac{\\langle \\mathbf{b} _ {j+1}, \\mathbf{b} _ i^ * \\rangle}{\\| \\mathbf{b} _ i^ * \\|^2}\\|\\mathbf{b} _ i^ * \\|^2 \\\\\n\u0026= 0\n\\end{aligned}\n$$\nãŒæˆã‚Šç«‹ã¤. ã‚ˆã£ã¦, æ•°å­¦çš„å¸°ç´æ³•ã‚ˆã‚Šä»»æ„ã® $1\\leq i\u003cj\\leq n$ ã«å¯¾ã—ã¦ $\\langle\\mathbf{b} _ i^ * , \\mathbf{b} _ j^ * \\rangle = 0$ ãŒæˆã‚Šç«‹ã¤.\n\n2. $i=1$ ã®ã¨ã $\\mathbf{b} _ 1^* = \\mathbf{b} _ 1$ ã‚ˆã‚Šæ˜ã‚‰ã‹. $i\\geq 2$ ã®ã¨ã\n$$\n\\|\\mathbf{b}_ i\\|^2 = \\|\\mathbf{b} _ i^ * \\|^2 + \\sum_{j=1}^{i-1}\\mu _ {i,j}^2\\|\\mathbf{b}_j^ * \\|^2\\geq\\|\\mathbf{b} _ i^ * \\|^2\n$$\nã‚ˆã‚Šæˆã‚Šç«‹ã¤.\n\n3. ä»»æ„ã® $1\\leq k\\leq i$ ã«å¯¾ã—, $\\mathbf{b} _ k = \\mathbf{b} _ k^* + \\sum _ {j=1}^{k-1} \\mu _ {k, j}\\mathbf{b} _ j^ *$ ã‚ˆã‚Š, $\\mathbf{b} _ k\\in\\langle\\mathbf{b} _ 1^ * ,\\ldots,\\mathbf{b} _ i^ * \\rangle _ {\\mathbb{R}}$ ãŒã‚ã‹ã‚‹. ã‚ˆã£ã¦ $\\langle\\mathbf{b} _ 1,\\ldots,\\mathbf{b} _ i\\rangle _ {\\mathbb{R}}\\subseteq\\langle\\mathbf{b} _ 1^ * ,\\ldots,\\mathbf{b} _ i^ * \\rangle _ {\\mathbb{R}}$ ãŒæˆã‚Šç«‹ã¤. é€†å‘ãã®åŒ…å«é–¢ä¿‚ã¯ $i$ ã«é–¢ã™ã‚‹æ•°å­¦çš„å¸°ç´æ³•ã§ç¤ºã™. $i = 1$ ã®ã¨ã $\\mathbf{b} _ 1^ * = \\mathbf{b} _ 1$ ã‚ˆã‚Šæ˜ã‚‰ã‹. $i=k-1$ ã®ã¨ãæˆã‚Šç«‹ã¤ã¨ä»®å®šã™ã‚‹ã¨ $i=k$ ã®ã¨ã $\\mathbf{b} _ k^ * = \\mathbf{b} _ k - \\sum _ {j=1}^{k-1} \\mu _ {k, j}\\mathbf{b} _ j^ *$ ã‚ˆã‚Š $\\mathbf{b} _ k^ * \\in\\langle\\mathbf{b} _ 1,\\ldots,\\mathbf{b} _ i\\rangle _ {\\mathbb{R}}$ , ã‚ˆã£ã¦ä»»æ„ã® $i$ ã«ã¤ã„ã¦ç¤ºã•ã‚ŒãŸ. ã‚ˆã£ã¦ $\\langle\\mathbf{b} _ 1^ * ,\\ldots,\\mathbf{b} _ i^ * \\rangle _ {\\mathbb{R}}=\\langle\\mathbf{b} _ 1,\\ldots,\\mathbf{b} _ i\\rangle _ {\\mathbb{R}}$ ã§ã‚ã‚‹.\n\n4. $B=UB^*$ ã¨ $\\det(U) = 1$, GSOãƒ™ã‚¯ãƒˆãƒ«ã®ç›´äº¤æ€§ã‚ˆã‚Š\n$$\n\\begin{aligned}\n\\mathrm{vol}(L)^2 \u0026= \\det(BB^\\top) \\\\\n\u0026= \\det(UB^ * (B^ * )^\\top U^\\top) \\\\\n\u0026= \\det(B^ * (B^ * )^\\top) \\\\\n\u0026= \\prod _ {i=1}^n\\|\\mathbf{b} _ i^ * \\|^2\n\\end{aligned}\n$$\n\n**Theorem 3** (Hadamardã®ä¸ç­‰å¼)\nGSOãƒ™ã‚¯ãƒˆãƒ«ã®åŸºæœ¬æ€§è³ª 2, 4 ã‚ˆã‚Šæ¬¡ã®ã“ã¨ãŒåˆ†ã‹ã‚‹.\n\n$$\n\\mathrm{vol}(L)\\leq\\prod _ {i=1}^n\\|\\mathbf{b} _ i\\|\n$$\n\nã¤ã¾ã‚Š, $\\{\\mathbf{b} _ {1},\\ldots, \\mathbf{b} _ {n}\\}$ ãŒç›´äº¤åŸºåº•$\\iff\\mathrm{vol}(L)=\\prod _ {i=1}^n\\|\\mathbf{b} _ i\\|$ ã§ã‚ã‚‹.\n\n**Definition 4** (å°„å½±æ ¼å­)\n$n$ æ¬¡å…ƒæ ¼å­ $L\\subseteq\\mathbb{R}^m$ ã®åŸºåº• $\\{\\mathbf{b} _ {1},\\ldots, \\mathbf{b} _ {n}\\}$ ã«å¯¾ã—, å„ $1\\leq l\\leq n$ ã«å¯¾ã—ã¦ $\\langle\\mathbf{b} _ {1},\\ldots, \\mathbf{b} _ {l-1}\\rangle _ \\mathbb{R}$ ã®ç›´äº¤è£œç©ºé–“ã¸ã®ç›´äº¤å°„å½±ã‚’ $\\pi _ l:\\mathbb{R}^m\\to\\langle\\mathbf{b} _ {1},\\ldots, \\mathbf{b} _ {l-1}\\rangle _ \\mathbb{R}^\\bot$ ã¨ã™ã‚‹. å®šç† 2 ã® 1,3 ã‚ˆã‚Š\n\n$$\n\\begin{aligned}\n\\langle\\mathbf{b} _ {1},\\ldots, \\mathbf{b} _ {l-1}\\rangle _ \\mathbb{R}^\\bot \u0026= \\langle\\mathbf{b} _ {1}^ * ,\\ldots, \\mathbf{b} _ {l-1}^ * \\rangle _ \\mathbb{R}^\\bot = \\langle\\mathbf{b} _ {l}^ * ,\\ldots, \\mathbf{b} _ {n}^ * \\rangle _ \\mathbb{R} \\\\\n\\pi _ l(\\mathbf{b}_i) \u0026= \\sum _ {j=l}^i\\mu _ {i,j}\\mathbf{b} _ j^ * \\\\\n\\end{aligned}\n$$\n\nã¨ãªã‚‹. ã™ã‚‹ã¨é›†åˆ $\\pi _ l(L)$ ã¯ $\\{\\pi _ l(\\mathbf{b} _ {l}),\\ldots,\\pi _ l(\\mathbf{b} _ {n})\\}$ ã‚’åŸºåº•ã«æŒã¤ $n-l+1$ æ¬¡å…ƒã®æ ¼å­ã§ã‚ã‚Š, $\\pi _ l(L)$ ã‚’å°„å½±æ ¼å­ (projected lattice) ã¨å‘¼ã¶.\n\n## è¨ˆç®—é‡\n$O(N^3)$\n\n## å®Ÿè£…\n\n```python\ndef gram_schmidt():\n```\n\n## ä½¿ç”¨ä¾‹\n\n## å‚è€ƒ\n- æ ¼å­æš—å·è§£èª­ã®ãŸã‚ã®æ•°å­¦çš„åŸºç¤ ãƒ¼æ ¼å­åŸºåº•ç°¡ç´„ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ å…¥é–€ãƒ¼\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/Lattice/LLL":{"title":"LLL åŸºåº•ç°¡ç´„","content":"\n## èª¬æ˜\n\n$n$ æ¬¡å…ƒæ ¼å­ $L$ ã®åŸºåº• $\\lbrace\\mathbf{b_1},\\ldots,\\mathbf{b_n}\\rbrace$ ã«ã¤ã„ã¦ä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã™ã¨ãã€ãã®åŸºåº•ã¯ LLL ç°¡ç´„ã•ã‚Œã¦ã„ã‚‹ (Lenstra-Lenstra-Lovasz(LLL)-reduced)ã¨å‘¼ã¶ã€‚\n\n1. åŸºåº• $\\lbrace\\mathbf{b_1},\\ldots,\\mathbf{b_n}\\rbrace$ ãŒã‚µã‚¤ã‚ºç°¡ç´„ã•ã‚Œã¦ã„ã‚‹ã€‚\n2. Lovaszæ¡ä»¶: ä»»æ„ã® $2 \\leq k \\leq n$ ã«å¯¾ã—ã¦ $\\delta\\|\\mathbf{b}_{k-1}^*\\| \\leq \\|\\pi_{k-1}(\\mathbf{b}_{k-1})\\|$ ã‚’æº€ãŸã™ã€‚ãŸã ã—ã€å„ $1 \\leq l \\leq n$ ã«å¯¾ã—ã¦ã€$\\pi_l$ ã¯ $\\mathbb{R}$-ãƒ™ã‚¯ãƒˆãƒ«ç©ºé–“ $\\langle\\mathbf{b} _1,\\ldots,\\mathbf{b} _{l-1}\\rangle _\\mathbb{R}$ ã®ç›´äº¤è£œç©ºé–“ã¸ã®ç›´äº¤å°„å½±ã¨ã™ã‚‹ã€‚\n\nã“ã‚Œã«å¯¾ã—ã€LLL åŸºåº•ç°¡ç´„ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯æ¬¡ã®ã‚ˆã†ã«è¡Œã†ã€‚\n\n1. ã‚µã‚¤ã‚ºç°¡ç´„ã™ã‚‹ã€‚\n2. Lovaszæ¡ä»¶ã‚’æº€ãŸã™ã‚ˆã†ã«éš£ã‚Šåˆã†åŸºåº•ãƒ™ã‚¯ãƒˆãƒ«ã‚’äº¤æ›ã™ã‚‹ã€‚\n\nåŸºåº•ãƒ™ã‚¯ãƒˆãƒ«ã‚’äº¤æ›ã—ãŸéš›ã« GSO ãƒ™ã‚¯ãƒˆãƒ«ã‚‚æ›´æ–°ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚é«˜é€ŸåŒ–å‡ºæ¥ã‚‹ã€‚\n\nã•ã‚‰ã« LLL ã«ã¤ã„ã¦ç²¾åº¦ã‚’ä¸Šã’ãŸã‚Šã€æ©Ÿèƒ½ã‚’æ‹¡å¼µã™ã‚‹ã“ã¨ãŒã§ãã€DeepLLLã‚„MLLLãªã©ã®æ‰‹æ³•ãŒã‚ã‚‹ã€‚\n\n- LLL ã¯éš£ã‚Šåˆã†åŸºåº•ãƒ™ã‚¯ãƒˆãƒ«ã®ã¿ã‚’æ¯”è¼ƒã™ã‚‹ãŒã€DeepLLL ã¯å…¨ã¦ã®åŸºåº•ãƒ™ã‚¯ãƒˆãƒ«ã‚’æ¯”è¼ƒã™ã‚‹ã€‚\n- MLLL ã¯ä¸€æ¬¡å¾“å±ãªãƒ™ã‚¯ãƒˆãƒ«ã§ã‚‚é©ç”¨ã§ãã‚‹ã€‚\n\n## è¨ˆç®—é‡\n\n\n## å®Ÿè£…\n\n```\ndef LLL(B, delta):\n    n = len(B)\n    assert 1 / 4 \u003c delta \u003c 1\n    B = matrix(B)\n    i = 1\n    G, mu = B.gram_schmidt()\n    while i \u003c n:\n        for j in range(i - 1, -1, -1):\n            print(i, j)\n            if mu[i][j].abs() \u003e 1 / 2:\n                q = mu[i][j].round()\n                B[i] -= q * B[j]\n                mu[i] -= q * mu[j]\n        if B[i].norm() \u003e= (delta - mu[i][i - 1] ^ 2) * B[i - 1].norm():\n            i += 1\n        else:\n            B[i - 1], B[i] = B[i], B[i - 1]\n            mu = GSOUpdate(B, mu, i)\n            i = max(i - 1, 1)\n    return B\n\n\ndef GSOUpdate(B, mu, i):\n    n = B.nrows()\n    nu = mu[i][i - 1]\n    b = B[i] + nu ^ 2 * B[i - 1]\n    print(nu, B[i - 1], b)\n    mu[i][i - 1] = nu * B[i - 1] / b\n    B[i] = B[i] * B[i - 1] / b\n    B[i - 1] = b\n    for j in range(i - 1):\n        mu[i - 1][j], mu[i][j] = mu[i][j], mu[i - 1][j]\n    for k in range(i + 1, n):\n        t = mu[k][i]\n        mu[k][i] = mu[k][i - 1] - nu * t\n        mu[k][i - 1] = t + mu[i][i - 1] * mu[k][i]\n    return mu\n```\n\n## ä½¿ç”¨ä¾‹\n\n```python\nB = [vector([5, -3, -7]), vector([2, -7, -7]), vector([3, -10, 0])]\nprint(LLL(B, 0.8))\n```\n\n## å‚è€ƒ\n\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/Lattice/Lagrange":{"title":"Lagrange åŸºåº•ç°¡ç´„ (Gauss åŸºåº•ç°¡ç´„)","content":"\n## èª¬æ˜\n\nLagrange åŸºåº•ç°¡ç´„ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯2æ¬¡å…ƒæ ¼å­ä¸Šã® SVP ã‚’è§£ãåŠ¹ç‡çš„ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã‚ã‚‹.\n\n**Definition 1** (Lagrange ç°¡ç´„)\nä»»æ„ã® $q \\in \\mathbb{Z}$ ã«å¯¾ã—ã¦ $\\|\\mathbf{b}_1\\| \\leq \\|\\mathbf{b}_2\\| \\leq \\|\\mathbf{b}_1 + q\\mathbf{b}_2\\|$ ã‚’æº€ãŸã™ã¨ã, 2æ¬¡å…ƒæ ¼å­ã®åŸºåº• $\\{\\mathbf{b}_1, \\mathbf{b}_2\\}$ ã¯ Lagrange ç°¡ç´„ã•ã‚Œã¦ã„ã‚‹ã¨ã„ã†.\n\n**Theorem 2** (Lagrange ç°¡ç´„ã«ã‚ˆã£ã¦é€æ¬¡æœ€å°åŸºåº•)\n2æ¬¡å…ƒæ ¼å­ã®åŸºåº• $\\{\\mathbf{b}_1, \\mathbf{b}_2\\}$ ã«ã¤ã„ã¦æ¬¡ã®2ã¤ã¯åŒå€¤ã§ã‚ã‚‹.\n1. åŸºåº• $\\{\\mathbf{b}_1, \\mathbf{b}_2\\}$ ã¯ Lagrange ç°¡ç´„ã•ã‚Œã¦ã„ã‚‹.\n2. åŸºåº• $\\{\\mathbf{b}_1, \\mathbf{b}_2\\}$ ã¯æ ¼å­ $L$ ã®é€æ¬¡æœ€å°åŸºåº•ã§ã‚ã‚‹.\n\n**Proof.**\n($\\implies$)\nä»»æ„ã®éé›¶ãƒ™ã‚¯ãƒˆãƒ« $\\mathbf{v} = x _ 1\\mathbf{b} _ 1 + x _ 2\\mathbf{b} _ 2 \\in L$ ã«ã¤ã„ã¦ $x _ 2 = 0$ ã®ã¨ã $\\|\\mathbf{v}\\| = |x _ 1|\\|\\mathbf{b} _ 1\\| \\geq \\|\\mathbf{b} _ 1\\|$, $x _ 2 \\neq 0$ ã®ã¨ã $\\|\\mathbf{v}\\| \\geq \\|\\mathbf{b} _ 2\\| \\geq \\|\\mathbf{b} _ 1\\|$ ã‚’ç¤ºã™.\n\n$$\n\\begin{aligned}\n\\|\\mathbf{v}\\| \u0026= \\|x _ 1\\mathbf{b} _ 1 + x _ 2\\mathbf{b} _ 2\\| \\\\\n\u0026= \\|r\\mathbf{b} _ 1 + x _ 2(\\mathbf{b} _ 2 + q\\mathbf{b} _ 1)\\| \\\\\n\u0026\\geq x _ 2\\|\\mathbf{b} _ 2 + q\\mathbf{b} _ 1\\| - r\\|\\mathbf{b} _ 1\\| \\\\\n\u0026= (x _ 2 - r)\\|\\mathbf{b} _ 2 + q\\mathbf{b} _ 1\\| + r(\\|\\mathbf{b} _ 2 + q\\mathbf{b} _ 1\\| - \\|\\mathbf{b} _ 1\\|) \\\\\n\u0026\\geq \\|\\mathbf{b} _ 2 + q\\mathbf{b} _ 1\\| \\\\\n\u0026\\geq \\|\\mathbf{b} _ 2\\| \\geq \\|\\mathbf{b} _ 1\\|\n\\end{aligned}\n$$\n\nEuclidã®äº’é™¤æ³•ã‚’2æ¬¡å…ƒæ ¼å­ã«å¯¾ã—ã¦è¡Œã†ã“ã¨ã§ Lagrange ç°¡ç´„ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ãªåŸºåº•ã‚’ç”Ÿã¿å‡ºã›ã‚‹ã€‚\n\n## è¨ˆç®—é‡\n\n$O(\\log{N})$\n\n## å®Ÿè£…\n\n```python\ndef lagrange(b1, b2):\n    if b1.norm() \u003e b2.norm():\n        b1, b2 = b2, b1\n    while b1.norm() \u003c b2.norm():\n        q = - round(b1.dot_product(b2) / b1.norm() ^ 2)\n        b1, b2 = b2 + q * b1, b1\n    return b2, b1\n```\n\n## ä½¿ç”¨ä¾‹\n\n## å‚è€ƒ\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/Lattice/Lattice":{"title":"æ ¼å­","content":"\n## èª¬æ˜\n\n### æ ¼å­ (Lattice)\n\nå›³ã§ã‚¤ãƒ¡ãƒ¼ã‚¸æ´ã‚€ã®ãŒé€Ÿã„\n\nç·šå½¢ç‹¬ç«‹ãª $n$ å€‹ã®ãƒ™ã‚¯ãƒˆãƒ« $\\mathbf{b}_1, \\mathbf{b}_2, \\ldots , \\mathbf{b}_n \\in \\mathbb{R}^m$ ã«ã¤ã„ã¦æ•´æ•°ä¿‚æ•°ã®ç·šå½¢çµåˆã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚Œã‚‹ãƒ™ã‚¯ãƒˆãƒ«ã®é›†åˆã‚’æ ¼å­ $L$ ã¨å®šç¾©ã—ã¾ã™ã€‚\n\n$$\nL = \\left\\{ \\sum_{i=0}^{n} a_i\\mathbf{b}_i \\ \\middle| \\ a_i \\in \\mathbb{Z} \\right\\}\n$$\n\n### Shortest Vector Problem(SVP)\n\næ ¼å­ä¸Šã®éé›¶ãªãƒ™ã‚¯ãƒˆãƒ«ã®ä¸­ã§æœ€ã‚‚ãƒãƒ«ãƒ ãŒå°ã•ãªãƒ™ã‚¯ãƒˆãƒ«ã‚’è¦‹ã¤ã‘å‡ºã™å•é¡Œã§ã™ã€‚\nãã®ãƒ™ã‚¯ãƒˆãƒ«ã‚’ $\\mathbf{v}$ ã¨ãŠãã¨æ¬¡ã®ã‚ˆã†ã«è¡¨ã›ã‚‰ã‚Œã¾ã™ã€‚\n\n$$\n\\mathbf{v} = v_1\\mathbf{b}_1 + \\ldots + v_n\\mathbf{b}_n \\qquad (\\exists v_1, \\ldots , v_n \\in \\mathbb{Z}) \\\\\n$$\n\nã“ã®å•é¡Œã¯NPå›°é›£\n\né€æ¬¡æœ€å°\n\n$$\n\\lambda _ i(L) := \\min\\limits _ {\\mathbf{b} _ 1,\\ldots,\\mathbf{b} _ i\\in L}\\max\\{\\|\\mathbf{b} _ 1\\|,\\ldots,\\|\\mathbf{b} _ i\\|\\}\n$$\n\n### æœ€çŸ­ãƒ™ã‚¯ãƒˆãƒ«ã®æ•°ãˆä¸Šã’\n\nã¾ãšã¯å…¨æ¢ç´¢ã—ã¦ã¿ã¾ã™ã€‚\nè€ƒãˆã¦ã¿ã‚‹ã¨å¸°ç´çš„ã«æ±‚ã‚ã‚‹ã®ã§ã¯æ­£ç¢ºãªæœ€çŸ­ãƒ™ã‚¯ãƒˆãƒ«ã¯æ±‚ã‚ã‚‰ã‚Œãªã„ã§ã—ã‚‡ã†ã€‚\nè€ƒãˆã¦ã¿ã‚‹ã¨ã‚ã‚‹åŸºåº• $\\mathbf{b}_i$ ã«å¯¾ã—ã€ãã‚Œä»¥ä¸‹ã®åŸºåº• $\\mathbf{b}_1, \\ldots \\mathbf{b}_{i-1}$ ã§çµ„ã¿ç«‹ã¦ã‚‰ã‚ŒãŸãƒ™ã‚¯ãƒˆãƒ« $\\mathbf{v}$ ã«å¯¾ã—ã€$\\mathbf{b}_i$ ã‚’ç”¨ã„ã¦çŸ­ãã™ã‚‹\n\nåŠ¹ç‡çš„ã«æ•°ãˆä¸Šã’ã‚‹ç‚ºã«ã¯åŸºåº•ç°¡ç´„ã™ã‚‹ã¨è‰¯ã„ã¨ã„ã†ã“ã¨ãŒçŸ¥ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚\n\n\n## ä½¿ç”¨ä¾‹\n\n## å‚è€ƒ\n\n\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/Lattice/NTRU":{"title":"NTRU æš—å·","content":"\nNTRU (N-th Degree Truncated Polynomial Ring)\n\n$f: \\mathbb{Z}_p[x]/(x^n-1) \\to \\mathbb{Z}_q[x]/(x^n-1)$\n\n$$\nF = \\sum_{i=0}^nF_ix^i\n$$\n\nå¹³æ–‡ $M\\in\\mathbb{Z}_p[x]/I$ ã¨ã™ã‚‹, ä¹±æ•° $R\\in\\mathcal{L}(d_R, d_R)$ ã‚’\n$$\nC = pHR + M \\pmod q \\pmod I\n$$\næš—å·æ–‡ $C$ ç§˜å¯†éµ $F$ ã«ã‚ˆã£ã¦ $A$ ã‚’æ±‚ã‚, $\\mathbb{Z} _ p[x]/I$ ã«ãŠã‘ã‚‹é€†å…ƒ $F _ p^{-1}$ ã«ã‚ˆã£ã¦å¾©å·æ–‡ $M'$ ã‚’æ±‚ã‚ã‚‹.\n$$\n\\begin{aligned}\nA \u0026= CF\\pmod q\\pmod I \\\\\nM' \u0026= AF_p^{-1} \\pmod p\\pmod I\n\\end{aligned}\n$$\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/Lattice/TFHE":{"title":"TFHE (Torus Fully Homomorphic Encryption)","content":"\n## èª¬æ˜\n\nå®Œå…¨æº–åŒå‹æš—å·ã®1ã¤\n\nå®Œå…¨ãªã‚‹ Zero Trust ãªã‚µãƒ¼ãƒãƒ¼ã‚’ä½œã‚Œã‚‹ã€‚\n\n## å‚è€ƒ\n\n- [ã‚»ã‚­ãƒ¥ã‚­ãƒ£ãƒ³ã®è³‡æ–™](https://nindanaoto.github.io/)\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/Lattice/size_reduction":{"title":"ã‚µã‚¤ã‚ºåŸºåº•ç°¡ç´„","content":"\n## èª¬æ˜\n\n$n$ æ¬¡å…ƒæ ¼å­ $L$ ã®åŸºåº• $\\\\{\\mathbf{b_1},\\ldots,\\mathbf{b_n}\\\\}$ ã‚’ GSO ä¿‚æ•° $\\mu_{i,j}$ ãŒ\n\n$$\n|\\mu_{i,j}| \\leq \\frac{1}{2} \\quad (1 \\leq \\forall j \u003c \\forall i \\leq n)\n$$\n\nã‚’æº€ãŸã™ã¨ãã€åŸºåº• $\\\\{\\mathbf{b_1},\\ldots,\\mathbf{b_n}\\\\}$ ã¯ã‚µã‚¤ã‚ºç°¡ç´„ã•ã‚Œã¦ã„ã‚‹ã¨ã„ã†ã€‚\n\n## è¨ˆç®—é‡\n\n\n## å®Ÿè£…\n\n```python\ndef size_reduction(B):\n    n = len(B)\n    B = matrix(B)\n    G, mu = B.gram_schmidt()\n    for i in range(n):\n        for j in range(i - 1, -1, -1):\n            if mu[i][j].abs() \u003e 1 / 2:\n                q = mu[i][j].round()\n                B[i] -= q * B[j]\n                mu[i] -= q * mu[j]\n    return B\n```\n\n## ä½¿ç”¨ä¾‹\n\n```python\nB = [vector([5, -3, -7]), vector([2, -7, -7]), vector([3, -10, 0])]\nprint(size_reduction(B))\n```\n\n## å‚è€ƒ\n\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/Lattice/tour_of_Lattice":{"title":"Tour of Lattice","content":"\n# æ ¼å­æš—å·ã‚’æ¥µã‚ã‚‹ï¼\n\nç„¡é™å·¥äº‹ç·¨\n\n## ã¯ã˜ã‚ã«\n\n// TODO èª¬æ˜\nè€é‡å­æš—å·ã§ã™ï¼ã‚ã¨ã¯ã‚»ã‚­ãƒ¥ã‚­ãƒ£ãƒ³ã§è©±é¡Œã®TFHEã¨ã‹ç´¹ä»‹ã—ãŸã„ãª\n\nã“ã‚Œã¯å¤§å­¦1å¹´ã§ç¿’ã†ç·šå½¢ä»£æ•°ã‚’å‰æçŸ¥è­˜ã¨ã—ã¦æ‰±ã„ã¾ã™ã€‚\n\n- é‡å­ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯ã©ã“ã§è§£èª¬ã™ã¹ãï¼Ÿ\n\t- æš—å·é–¢é€£ã§è§£èª¬ã™ã¹ããªã®ã¯Groverã¨Shorã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®2ã¤ã ã‘ã‚„ãŒé‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ä¸Šã®æ¼”ç®—ã‚„é‡å­ãƒ•ãƒ¼ãƒªã‚¨ãŒå‰æçŸ¥è­˜ç„¡ã—ã‚„ã¨ã‚­ãƒ„ã‚¤ã‹ã‚‚ã—ã‚Œã‚“ã€‚\n\t- é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã¨ã„ã†é¡Œæã§åˆ†ã‘ãŸæ–¹ãŒè‰¯ã•ãã†ï¼Ÿæœ¬ã«é ¼ã‚Œã°ã„ã„ã¯ä¸€ç†ã‚ã‚‹ãŒè«–æ–‡ä»¥å¤–ã®æ–‡çŒ®ã¯æœªã å°‘ãªãæš—å·å°‚é–€ã®è§£èª¬ãŒã»ã—ã„ã¨ã“ã‚\n\t- è‡ªåˆ†ã®æ–‡ç« åŠ›ã¨æ™‚é–“ã«è¦ç›¸è«‡ã¨ã„ã†ã“ã¨ã§\n\n## æ ¼å­ (Lattice)\n\nå›³ã§ã‚¤ãƒ¡ãƒ¼ã‚¸æ´ã‚€ã®ãŒé€Ÿã„\n\nç·šå½¢ç‹¬ç«‹ãª $n$ å€‹ã®ãƒ™ã‚¯ãƒˆãƒ« $\\mathbf{b}_1, \\mathbf{b}_2, \\ldots , \\mathbf{b}_n \\in \\mathbb{R}^m$ ã«ã¤ã„ã¦æ•´æ•°ä¿‚æ•°ã®ç·šå½¢çµåˆã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚Œã‚‹ãƒ™ã‚¯ãƒˆãƒ«ã®é›†åˆã‚’æ ¼å­ $L$ ã¨å®šç¾©ã—ã¾ã™ã€‚\n\n$$\nL = \\left\\{ \\sum_{i=0}^{n} a_i\\mathbf{b}_i \\ \\middle| \\ a_i \\in \\mathbb{Z} \\right\\}\n$$\n\nåŒ–å­¦ã®æ ¼å­ã£ã½ã„ã‚‚ã®\n\næ ¼å­ $L$ ã«å›²ã¾ã‚ŒãŸç©ºé–“ã‚’1ã¤\nå…·ä½“ä¾‹\n\n### å›°é›£ãªå•é¡Œ\n\nä»Šå›ã®ã‚­ãƒ¼ã¨ãªã‚‹å•é¡Œã§ã™\n\nSVP\nCVP\n\nnear SVP\nnear CVP\n\n### LWEæ ¼å­æš—å·\n\næ©Ÿæ¢°å­¦ç¿’ç†è«–ã‹ã‚‰æ´¾ç”Ÿã—ãŸæ±‚è§£å›°é›£ãªå•é¡Œã§ã€æœ‰é™ä½“ $\\mathbb{F}_q$ ä¸Šã®ç§˜å¯†ãƒ™ã‚¯ãƒˆãƒ« $\\mathbf{s} \\in \\mathbb{F}_q^n$ ã«é–¢ã™ã‚‹ãƒ©ãƒ³ãƒ€ãƒ ãªé€£ç«‹ç·šå½¢ã€Œè¿‘ä¼¼ã€æ–¹ç¨‹å¼ãŒä¸ãˆã‚‰ã‚ŒãŸã¨ãã€ãã®ç§˜å¯†ãƒ™ã‚¯ãƒˆãƒ«ã‚’å¾©å…ƒã™ã‚‹å•é¡Œã§ã‚ã‚‹ã€‚\n\n\n\n\n### Gram-Schmidt ã®ç›´äº¤åŒ– (GSO: Gram-Schmidt Orthonormalization)\n\nä»»æ„ã® $R$ ãƒ™ã‚¯ãƒˆãƒ«ç©ºé–“ç›´äº¤åŒ–\nãƒ™ã‚¯ãƒˆãƒ«ã‚’GSOåŒ–ã•ã›ã‚‹ã“ã¨ã§ä»»æ„ã®2ã¤ã®ãƒ™ã‚¯ãƒˆãƒ«ã®å†…ç©ãŒ0ã¨ãªã‚‹ã€ã¤ã¾ã‚Šç›´äº¤åŒ–ã§ãã¾ã™ã€‚ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯[Wikipedia](https://ja.wikipedia.org/wiki/%E3%82%B0%E3%83%A9%E3%83%A0%E3%83%BB%E3%82%B7%E3%83%A5%E3%83%9F%E3%83%83%E3%83%88%E3%81%AE%E6%AD%A3%E8%A6%8F%E7%9B%B4%E4%BA%A4%E5%8C%96%E6%B3%95)ã®gifãŒã‚ã‹ã‚Šã‚„ã™ã„ã§ã™ã€‚$\\mathbf{b}_n$ ã®ç›´äº¤åŒ–ã¯ $\\mathbf{b}_{1},\\ldots, \\mathbf{b}_{n-1}$ ã¾ã§ã¨ç›´è¡Œã™ã‚‹ã‚ˆã†ã«é«˜ã•ã‚’ä¿æŒã—ãªãŒã‚‰ç§»å‹•ã•ã›ã‚‹ã€‚\n\n$$\n\\begin{aligned}\n\\begin{dcases}\n\\mathbf{b}_1^* = \\mathbf{b}_1 \\\\\n\\mathbf{b}_i^* = \\mathbf{b}_i - \\sum\\limits_{j=1}^{i-1} \\mu_{i, j}\\mathbf{b}_j^* \\qquad \\left( \\mu_{i, j} = \\frac{\\langle \\mathbf{b}_i, \\mathbf{b}_j^* \\rangle}{\\| \\mathbf{b}_j^* \\|^2} \\right) \\\\\n\\end{dcases}\n\\end{aligned}\n$$\n\n$$\n\\begin{aligned}\nB \u0026=\n\\begin{pmatrix}\n\\mathbf{b}_1 \\\\\n\\mathbf{b}_2 \\\\\n\\mathbf{b}_3 \\\\\n\\mathbf{b}_4 \\\\\n\\end{pmatrix}\n\u0026 U \u0026=\n\\begin{pmatrix}\n1 \u0026 0 \u0026 0 \u0026 0 \\\\\n\\mu_{2,1} \u0026 1 \u0026 0 \u0026 0 \\\\\n\\mu_{3,1} \u0026 \\mu_{3,2} \u0026 1 \u0026 0 \\\\\n\\mu_{4,1} \u0026 \\mu_{4,2} \u0026 \\mu_{4,3} \u0026 1 \\\\\n\\end{pmatrix}\n\u0026 B^* \u0026=\n\\begin{pmatrix}\n\\mathbf{b}_1^* \\\\\n\\mathbf{b}_2^* \\\\\n\\mathbf{b}_3^* \\\\\n\\mathbf{b}_4^* \\\\\n\\end{pmatrix} \\\\\n\\end{aligned}\n$$\n\n$$\nB = UB^*\n$$\n\nã“ã‚Œã‚‰ã‚’GSOãƒ™ã‚¯ãƒˆãƒ« $\\mathbf{b}_i^*$ , GSOä¿‚æ•° $\\mu_{i, j}$ ã¨å‘¼ã³ã¾ã™ã€‚\n\nå…·ä½“ä¾‹\n### Shortest Vector Problem(SVP)\n\næ ¼å­ä¸Šã®éé›¶ãªãƒ™ã‚¯ãƒˆãƒ«ã®ä¸­ã§æœ€ã‚‚ãƒãƒ«ãƒ ãŒå°ã•ãªãƒ™ã‚¯ãƒˆãƒ«ã‚’è¦‹ã¤ã‘å‡ºã™å•é¡Œã§ã™ã€‚\nãã®ãƒ™ã‚¯ãƒˆãƒ«ã‚’ $\\mathbf{v}$ ã¨ãŠãã¨æ¬¡ã®ã‚ˆã†ã«è¡¨ã›ã‚‰ã‚Œã¾ã™ã€‚\n\n$$\n\\mathbf{v} = v_1\\mathbf{b}_1 + \\ldots + v_n\\mathbf{b}_n \\qquad (\\exists v_1, \\ldots , v_n \\in \\mathbb{Z}) \\\\\n$$\n\nã“ã®å•é¡Œã¯NPå›°é›£\n\n#### æœ€çŸ­ãƒ™ã‚¯ãƒˆãƒ«ã®æ•°ãˆä¸Šã’\n\nã¾ãšã¯å…¨æ¢ç´¢ã—ã¦ã¿ã¾ã™ã€‚\nè€ƒãˆã¦ã¿ã‚‹ã¨å¸°ç´çš„ã«æ±‚ã‚ã‚‹ã®ã§ã¯æ­£ç¢ºãªæœ€çŸ­ãƒ™ã‚¯ãƒˆãƒ«ã¯æ±‚ã‚ã‚‰ã‚Œãªã„ã§ã—ã‚‡ã†ã€‚\nè€ƒãˆã¦ã¿ã‚‹ã¨ã‚ã‚‹åŸºåº• $\\mathbf{b}_i$ ã«å¯¾ã—ã€ãã‚Œä»¥ä¸‹ã®åŸºåº• $\\mathbf{b}_1, \\ldots \\mathbf{b}_{i-1}$ ã§çµ„ã¿ç«‹ã¦ã‚‰ã‚ŒãŸãƒ™ã‚¯ãƒˆãƒ« $\\mathbf{v}$ ã«å¯¾ã—ã€$\\mathbf{b}_i$ ã‚’ç”¨ã„ã¦çŸ­ãã™ã‚‹\n\nåŠ¹ç‡çš„ã«æ•°ãˆä¸Šã’ã‚‹ç‚ºã«ã¯åŸºåº•ç°¡ç´„ã™ã‚‹ã¨è‰¯ã„ã¨ã„ã†ã“ã¨ãŒçŸ¥ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚\n\n#### Lagrange åŸºåº•ç°¡ç´„ (Gaussian Reduction)\n\nã‚µã‚¤ã‚ºåŸºåº•ç°¡ç´„\nGSO ãƒ™ã‚¯ãƒˆãƒ«ã‚’ç°¡ç´„ -\u003e åŸºåº•ãƒ™ã‚¯ãƒˆãƒ«ã‚’ç°¡ç´„\nGSO ä¿‚æ•° $Î¼_{i,j}$ ã«ã¤ã„ã¦\n\n$$\n\\|Î¼_{i,j}\\| \\leq \\frac{1}{2} \\qquad (\\forall 0 \\leq i \u003c j \u003c n)\n$$\n\nEuclid ã®äº’é™¤æ³•ã‚’ç”¨ã„ã¦åŸºåº•ã®ç°¡ç´„åŒ–ã‚’ã™ã‚‹ã€‚\nå…·ä½“ä¾‹\n\n#### LLL(Lenstra-Lenstra-Lovasz) åŸºåº•ç°¡ç´„\n\nLagrange åŸºåº•ç°¡ç´„ã« Lovasz æ¡ä»¶ã‚’è¿½åŠ ã—ãŸåŸºåº•ç°¡ç´„ã‚’ LLL åŸºåº•ç°¡ç´„ã¨å‘¼ã³ã¾ã™ã€‚\nLovaszæ¡ä»¶ $\\frac{1}{4} \u003c \\delta \u003c 1$ ã¨ã—ã¦\n\n$$\n\\delta \\|b_{k-1}^*\\|^2 \\leq \\|\\pi_{k-1}(b_k)\\|^2\n$$\n\n1. ã‚µã‚¤ã‚ºåŸºåº•ç°¡ç´„\n2. æ¡ä»¶ã«åˆã†ã‚ˆã†ã«åŸºåº•ãƒ™ã‚¯ãƒˆãƒ«ã®äº¤æ›\n\nå…·ä½“ä¾‹\n\n#### BKZ(Block Korkine-Zolotareff) åŸºåº•ç°¡ç´„\n\nHKZ(Hermite-Korkine-Zolotareff) åŸºåº•ç°¡ç´„\n\n1. ã‚µã‚¤ã‚ºåŸºåº•ç°¡ç´„\n2. æ¡ä»¶ã«åˆã†ã‚ˆã†ã«åŸºåº•ãƒ™ã‚¯ãƒˆãƒ«ã®äº¤æ›\n\nå…·ä½“ä¾‹\n\n### Closest Vector Problem(CVP)\n\n#### Babaiâ€™s Algorithm\n\n#### Kannanâ€™s embedding method\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/Note":{"title":"Note","content":"\n# Crypto in CTF writeup\n[Crypto in CTF :: Mystify (mystiz.hk)](https://mystiz.hk/crypto-in-ctf/) ã‚’è§£ã„ã¦ã„ãã€‚\n\n## Q3 2021\n## Pwn2Win CTF 2021\n### t00 rare\n- ECDSAã§ç½²å/æ¤œè¨¼ãŒã§ãã‚‹ãŒã€ç‰¹å®šã®ãƒãƒƒã‚·ãƒ¥å€¤ã®ã¨ãã¯ä¸å¯\n- $q=q_1q_2+1$ ã¨ã—ã¦ç§˜å¯†éµãŒ $x=(7^{q_2})^y$, $P = kG$, $s=\\frac{h+rx}{k}\\iff P=\\frac{h+rx}{s}G\\iff g^yG=r^{-1}(sP-hG)$ ã§ã‚ã‚‹\n- ç‰¹å®šã®ãƒãƒƒã‚·ãƒ¥å€¤ã®ã¨ã $kP=G$ ã‚’æ±‚ã‚ã‚‹\n\n#### è§£æ³•\n- $h+q$ ã§ãƒã‚¤ãƒ‘ã‚¹\n- BSGSã§ $g^yG$ ã® $y$ ã‚’æ±‚ã‚ã‚‹\n- é«˜é€Ÿãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªfastecdsaã‚’ä½¿ã†\n\n### A2S\n- AESã®ãƒ©ã‚¦ãƒ³ãƒ‰ã‚’10å›ã‹ã‚‰2å›ã«å¤‰æ›´\n\n#### è§£æ³•\n\n## 0CTF 2021 Quals\n### zer0lfsr-\n\n\n## Crypto CTF 2022\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/PRNG/MersenneTwister":{"title":"ãƒ¡ãƒ«ã‚»ãƒ³ãƒŒ ãƒ„ã‚¤ã‚¹ã‚¿","content":"\n## èª¬æ˜\n\né•·ã„å‘¨æœŸ $2^{19937}-1$ ã‚’æŒã¤ç–‘ä¼¼ä¹±æ•°ç”Ÿæˆå™¨ã€‚é€£ç¶šã—ãŸ624å›ã®32ãƒ“ãƒƒãƒˆå‡ºåŠ›ã‹ã‚‰å†…éƒ¨çŠ¶æ…‹ã‚’å¾©å…ƒã§ãã¦ã—ã¾ã†ã€‚\n2ã¤ã®å€¤ã§ååˆ†ã®ã¨ãã‚‚ã‚ã‚‹ã‚‰ã—ã„\nhttps://www.ambionics.io/blog/php-mt-rand-prediction\n\n## å‚è€ƒ\n\n- [ãƒ¡ãƒ«ã‚»ãƒ³ãƒŒãƒ»ãƒ„ã‚¤ã‚¹ã‚¿ã‚’ã‚ã‹ã£ãŸæ°—ã«ãªã‚‹](https://6715.jp/posts/5/)\n- [Mersenne Twisterã®å‡ºåŠ›ã‚’æ¨æ¸¬ã—ã¦ã¿ã‚‹](https://inaz2.hatenablog.com/entry/2016/03/07/194147)","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/RSA/Boneh-DurfeeAttack":{"title":"Boneh-Durfee Attack","content":"\n## èª¬æ˜\n\n$e$ ãŒå¤§ãã™ãã‚‹ã¨ä»¥ä¸‹ã®å¼ã«å¯¾ã— Coppersmith Method ã‚’ç”¨ã„ã¦æ”»æ’ƒã§ãã‚‹ã€‚\n\n$$\n\\begin{aligned}\ned \u0026= 1 \u0026 \\pmod{\\phi} \\\\\ned \u0026= k \\phi + 1 \u0026 (\\mathrm{over}\\ \\mathbb{Z}) \\\\\n0 \u0026= k \\phi + 1 \u0026 \\pmod e \\\\\n\u0026= k (N + 1 - p - q) + 1 \u0026 \\pmod e \\\\\n\u0026= 2k \\left(\\frac{N + 1}{2} + \\frac{-p -q}{2}\\right) + 1 \u0026 \\pmod e \\\\\n\\end{aligned}\n$$\n\n## å®Ÿè£…\n\n```python\nload('coppersmith.sage')\n\ndef boneh_durfee(N, e):\n    bounds = (floor(N^.25), 2^1024)\n    P.\u003ck, s\u003e = PolynomialRing(Zmod(e))\n    f = 2*k*((N+1)//2 - s) + 1\n    print(small_roots(f, bounds, m=3, d=4))\n```\n\n## ä½¿ç”¨ä¾‹\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/RSA/CommonModulusAttack":{"title":"Common Modulus Attack","content":"\n## èª¬æ˜\n\nå…±é€šã®å¹³æ–‡ã‚’ç•°ãªã‚‹ $e$ ã§æš—å·åŒ–ã—ãŸæš—å·æ–‡ãŒåˆ†ã‹ã£ã¦ã„ã‚‹ã¨ãå¹³æ–‡ã‚’æ±‚ã‚ã‚‰ã‚Œã‚‹ã€‚\n\n$$\n\\begin{aligned}\nc_1 \u0026â‰¡ m^{e_1} \u0026 \\pmod N \\\\\nc_2 \u0026â‰¡ m^{e_2} \u0026 \\pmod N \\\\\n\\gcd(e_1, e_2) \u0026= s_1e_1 + s_2e_2 \\\\\nc_1^{s_1} c_2^{s_2} \u0026= m^{s_1e_1 + s_2e_2} = m^{\\gcd(e_1, e_2)} \u0026 \\pmod N\n\\end{aligned}\n$$\n\n## å®Ÿè£…\n\n\n## ä½¿ç”¨ä¾‹\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/RSA/Franklin-ReiterRelatedMessageAttack":{"title":"Franklin-Reiter Related Message Attack","content":"\n## èª¬æ˜\n\n$f(m_1) = m_2$\n$m_1 = pad_1 + m, m_2 = pad_2 + m, m_2 = m_1 + (pad_2 - pad_1)$\n\n$$\n\\begin{aligned}\nc_1 \u0026= m_1^{e_1} \u0026 \\pmod N \\\\\nc_2 \u0026= m_2^{e_2} = f(m_1)^{e_2} \u0026 \\pmod N \\\\\nx - m_1 \u0026= \\gcd(x^{e_1} - c_1, f(x)^{e_2} - c_2) \u0026 \\pmod N \\\\\n\\end{aligned}\n$$\n\n## å®Ÿè£…\n\n\n## ä½¿ç”¨ä¾‹\n\n\n## å‚è€ƒ\n\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/RSA/H%C3%A5stadsBroadcastAttack":{"title":"HÃ¥stadâ€™s Broadcast Attack","content":"\n## èª¬æ˜\n\nå¹³æ–‡ã‚’äº’ã„ã«ç´ ãª $N_1, \\ldots, N_e$ ã§æš—å·åŒ–ã•ã‚ŒãŸæš—å·æ–‡ãŒåˆ†ã‹ã£ã¦ã„ã‚‹ã¨ãã€ä¸­å›½å‰°ä½™å®šç†ã‚’ç”¨ã„ã¦ $m$ ã‚’æ±‚ã‚ã‚‰ã‚Œã‚‹ã€‚\n\n$$\n\\begin{aligned}\nc_1 \u0026â‰¡ m^e \\pmod{N_1} \\\\\nc_2 \u0026â‰¡ m^e \\pmod{N_2} \\\\\n\\vdots \\\\\nc_e \u0026â‰¡ m^e \\pmod{N_e} \\\\\nm^e \u0026â‰¡ CRT(c_1, c_2, \\dots , c_e) \\pmod{N_1N_2\\cdots N_e} \\\\\nm^e \u0026= CRT(c_1, c_2, \\dots , c_e)\n\\end{aligned}\n$$\n\n## å®Ÿè£…\n\n\n## ä½¿ç”¨ä¾‹\n\n## é–¢é€£\n\n- [They Were Eleven - BSides Ahmedabad CTF 2021 author's writeup](https://furutsuki.hatenablog.com/entry/2021/12/07/020611)\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/RSA/LSB-DecryptionOracleAttack":{"title":"LSB Decryption Oracle Attack","content":"\n## èª¬æ˜\n\nå…¨ã¦ãŒåˆ†ã‹ã£ã¦ã„ãªãã¨ã‚‚å¶å¥‡ã•ãˆåˆ†ã‹ã‚Œã°ä»»æ„ã®æš—å·æ–‡ã‚’å¾©å·ã§ãã‚‹ã€‚\nã‚ã‚‹æš—å·æ–‡ $c$ ã«å¯¾ã—ã€$2^e$ ã‚’xå›æ›ã‘ãŸå€¤ã‚’å¾©å·ã—ãŸä¸‹ä½1bitã‚’å¾—ã¦å¹³æ–‡ã‚’æ±‚ã‚ã¾ã™ã€‚å¾—ã‚‰ã‚Œã‚‹ä¸‹ä½1bitã¯æ¬¡ã®é–¢æ•° $f(x)$ ã‚’ç”¨ã„ã¦ $f(x) \\bmod 2$ ã¨è¡¨ã›ã‚‰ã‚Œã¾ã™ã€‚decã¯å¾©å·åŒ–é–¢æ•°ã§ã™ã€‚\n\n$$\n\\begin{aligned}\nf(x) \u0026= Dec(2^{ex}c \\bmod N) = 2^xm \\bmod N \\\\\n\\end{aligned}\n$$\n\n$x = 1$ ã®ã¨ã\nã¾ãš $0 \\leq m \u003c N$ ã§ã‚ã‚‹ã‹ã‚‰ $f(1)$ ã¯ $2m \\bmod N = 2m, 2m - N$ ã®ã©ã¡ã‚‰ã‹ã¨ãªã‚‹ã€‚ã¾ãŸ $2m$ ã¯å¶æ•°ã€$N$ ã¯å¥‡æ•°ã§ã‚ã‚‹ã‹ã‚‰ $f(1)$ ãŒå¶æ•°ã‹å¥‡æ•°ã‹ã§ $2m, 2m - N$ ã®ã©ã¡ã‚‰ã‹ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ã™ã‚‹ã¨ $m$ ãŒå­˜åœ¨ã™ã‚‹åŒºé–“ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚\n\n$$\n\\begin{aligned}\n\u0026f(1) = 2m \\bmod N \\\\\n\u0026\n\\begin{cases}\n    f(1) \\bmod 2 = 1 \\Leftrightarrow f(1) = 2m - N \u0026 \\Leftrightarrow \\frac{N}{2} \\leq m \u003c N \\\\\n    f(1) \\bmod 2 = 0 \\Leftrightarrow f(1) = 2m \u0026 \\Leftrightarrow 0 \\leq m \u003c \\frac{N}{2} \\\\\n\\end{cases}\n\\end{aligned}\n$$\n\nã¤ã¾ã‚Š $m$ ã¯ $[0, N)$ ã®ç¯„å›²ã«å¯¾ã—ã¦æœ€ä¸‹ä½ãƒ“ãƒƒãƒˆãŒ1ã®ã¨ãåŒºé–“ã®å³åŠåˆ†ã€0ã®ã¨ãåŒºé–“ã®å·¦åŠåˆ†ã ã¨è¨€ãˆã¾ã™ã€‚\n\n$x = 2$ ã®ã¨ã\nå‰ã®çµæœã‚’ç”¨ã„ã¦å ´åˆåˆ†ã‘ã—ã¦è€ƒãˆã‚‹ã¨åŒæ§˜ã®è€ƒãˆæ–¹ã§æ¬¡ã®ã‚ˆã†ã«å°ã‘ã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nf(2) \u0026= 2(2m \\bmod N) \\bmod N \\\\\nf(1) \u0026= 2m - N \\Rightarrow f(2) = 4m - 2N \\bmod N \\\\\n\u0026\n\\begin{cases}\n    f(2) \\bmod 2 = 1 \\Leftrightarrow f(2) = 4m - 3N \u0026 \\Leftrightarrow \\frac{3N}{4} \\leq m \u003c N \\\\\n    f(2) \\bmod 2 = 0 \\Leftrightarrow f(2) = 4m - 2N \u0026 \\Leftrightarrow \\frac{N}{2} \\leq m \u003c \\frac{3N}{4} \\\\\n\\end{cases}\n\\\\\nf(1) \u0026= 2m \\Rightarrow f(2) = 4m \\bmod N \\\\\n\u0026\n\\begin{cases}\n    f(2) \\bmod 2 = 1 \\Leftrightarrow f(2) = 4m - N \u0026 \\Leftrightarrow \\frac{N}{4} \\leq m \u003c \\frac{N}{2} \\\\\n    f(2) \\bmod 2 = 0 \\Leftrightarrow f(2) = 4m \u0026 \\Leftrightarrow 0 \\leq m \u003c \\frac{N}{4} \\\\\n\\end{cases}\n\\end{aligned}\n$$\n\nã¤ã¾ã‚Š $m$ ã¯ $[0, N/2)$ ã€ $[N/2, N)$ ã®ãã‚Œãã‚Œã®ç¯„å›²ã«å¯¾ã—ã¦æœ€ä¸‹ä½ãƒ“ãƒƒãƒˆãŒ1ã®ã¨ãåŒºé–“ã®å³åŠåˆ†ã€0ã®ã¨ãåŒºé–“ã®å·¦åŠåˆ†ã ã¨è¨€ãˆã¾ã™ã€‚\n\n$x \\geq 3$ ã®ã¨ãã‚‚åŒæ§˜ã«è¡Œã£ã¦ $m$ ã®å€¤ã‚’æ±‚ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n\n## å®Ÿè£…\n\n\n## ä½¿ç”¨ä¾‹\n\n\n## å‚è€ƒ\n\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/RSA/NoInverse":{"title":"é€†å…ƒãŒå­˜åœ¨ã—ãªã„ã¨ã","content":"\n## èª¬æ˜\n\nä¹—æ³•ç¾¤ã®ä½æ•°ãŒ $\\phi(N) = se^n$ ã¨è¡¨ã•ã‚Œã‚‹ã¨ã $e$ ã®é€†å…ƒãŒå–ã‚Œãªã„.\n\nã“ã®ã¨ãä½æ•° $se^n$ ã‹ã‚‰ $e^n$ ä¹—ã™ã‚‹ã“ã¨ã§ä½æ•° $s$ ã®ä¹—æ³•ç¾¤ã«è½ã¨ã—, ãã“ã§ãªã‚‰é€†å…ƒã‚’å–ã‚Œã‚‹ã®ã§, ä½æ•° $se^n$ ã®å…ƒã‚’ $e^n$ å›æ›ã‘ã¦å…¨æ¢ç´¢ã™ã‚‹ã¨å¹³æ–‡ãŒè¦‹ã¤ã‹ã‚‹.\n\n1. \n\n## è¨ˆç®—é‡\n\n$O(e^n)$\n\n## å®Ÿè£…\n\n\n## ä½¿ç”¨ä¾‹\n\n\n## å‚è€ƒ\n\n[p - 1 â‰¡ 0 (mod e) ã®ã¨ãã® RSA å¾©å·æ–¹æ³•](https://blog.y011d4.com/20201026-not-coprime-e-phi)\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/RSA/PartialKeyExposureAttack":{"title":"Partial Key Exposure Attack","content":"\n## èª¬æ˜\n\nç§˜å¯†éµã‚’éƒ¨åˆ†çš„ã«çŸ¥ã£ã¦ã„ã•ãˆã„ã‚Œã°ã€Coppersmith Method ã‚’ç”¨ã„ã¦è§£ã‘ã¦ã—ã¾ã†ã€‚\n$n$ ã‚’ $N$ ã®ãƒ“ãƒƒãƒˆæ•°ã¨ã™ã‚‹ã€‚\n\n### $p, q$ ã®ã©ã¡ã‚‰ã‹ã‚’ $n/4$ ãƒ“ãƒƒãƒˆç¨‹åº¦çŸ¥ã£ã¦ã„ã‚‹ã¨ã\n\n$$\n\\begin{aligned}\nf(x) \u0026= p_{upper} + x \u0026 \\pmod p \\\\\nf(x) \u0026= 2^{k}x + p_{lower} \u0026 \\pmod p \\\\\nf(x,y) \u0026= 2^kx + p_{mid} + y \u0026 \\pmod p \\\\\n\\end{aligned}\n$$\n\n### å¹³æ–‡ $m$ ã®ãƒ“ãƒƒãƒˆã‚’ $(1-1/e)n$ ç¨‹åº¦çŸ¥ã£ã¦ã„ã‚‹ã¨ã\n\n$$\n\\begin{aligned}\nf(x) \u0026= (m_{upper} + x)^e - c \u0026 \\pmod N \\\\\nf(x) \u0026= (2^kx + m_{lower})^e - c \u0026 \\pmod N \\\\\nf(x,y) \u0026= (2^kx + m_{mid} + y)^e - c \u0026 \\pmod N \\\\\n\\end{aligned}\n$$\n\n### $d$ ã‚’ $n/4$ ãƒ“ãƒƒãƒˆç¨‹åº¦çŸ¥ã£ã¦ã„ã‚‹ã¨ã\n\n$e$ ãŒç·å½“ã‚Šå‡ºæ¥ã‚‹ãã‚‰ã„å°ã•ã„ã¨ãã« $d$ ã‚’ $n/4$ ãƒ“ãƒƒãƒˆã ã‘çŸ¥ã£ã¦ã„ã‚Œã°å…ƒã® $d$ ã‚’æ§‹æˆã§ãã‚‹ã€‚å¤§ä½“ã®å ´åˆã¯ $e = 65537$ ã§ã‚ã‚‹ã‹ã‚‰ååˆ†å¯èƒ½ã§ã‚ã‚‹ã€‚$d \u003c \\phi(N)$ ã‚ˆã‚Š $0 \u003c k \\leq e$ ã¨ãªã‚Šã€ã“ã® $k$ ã«å¯¾ã—ã¦ç·å½“ãŸã‚Šã™ã‚‹ã€‚\n\n- ä¸Šä½ãƒ“ãƒƒãƒˆã®å ´åˆ\n$d$ ã¨ $p, q$ ã®é–¢ä¿‚å¼ã‚’ç«‹ã¦ã‚‹ã€‚\n\n$$\n\\begin{aligned}\ned \u0026= 1 \u0026 \\pmod{\\phi(N)} \\\\\ned \u0026= 1 + k(N - p - q + 1) \\\\\nd \u0026= \\frac{kN}{e} - \\frac{k(p+q-1) -1}{e} \\\\\ne(d_{upper} + x) \u0026= - k (y - 1) + 1 \u0026 \\pmod N \\\\\n\\end{aligned}\n$$\n\nç¬¬ä¸‰å¼ã«ã¤ã„ã¦ $p + q \\approx \\sqrt{N}$ ã‚ˆã‚Šç¬¬äºŒé …ã¯ä¸Šä½ãƒ“ãƒƒãƒˆã«é–¢é€£ã™ã‚‹æƒ…å ±ã‚’æŒãŸãªã„ã€‚ã“ã‚Œã‚ˆã‚Šç¬¬ä¸€é …ã® $k$ ã«ã¤ã„ã¦ç·å½“ã‚Šã—ã¦ä¸Šä½ãƒ“ãƒƒãƒˆã¨ä¸€è‡´ã™ã‚‹ $k$ ã‚’è¦‹ã¤ã‘ã‚Œã°ã‚ˆã„ã€‚ã™ã‚‹ã¨ç¬¬4å¼ã«å¯¾ã— Multivariate CopperSmith ã‚’ç”¨ã„ã¦ã€$d$ ãŒã‚ã‹ã‚‹ã€‚\n\n- ä¸‹ä½ãƒ“ãƒƒãƒˆã®å ´åˆ\n$d$ ã®ä¸‹ä½ãƒ“ãƒƒãƒˆã‹ã‚‰ $k$ ã«ã¤ã„ã¦ç·å½“ã‚Šã—ã¦ $p$ ã®ä¸‹ä½ãƒ“ãƒƒãƒˆã‚’æ±‚ã‚ã‚‹ã€‚ã™ã‚‹ã¨å…ˆç¨‹ã®å•é¡Œã«å¸°ç€ã§ãã¦ $p$ ãŒã‚ã‹ã‚Š $d$ ãŒã‚ã‹ã‚‹ã€‚\n\n$$\n\\begin{aligned}\ned \u0026= 1 + k\\left(N - p - \\frac{N}{p} + 1\\right) \\\\\nedp \u0026= p + kp(N - p + 1) - kN \u0026 \\pmod {2^{n/4}} \\\\\n\\end{aligned}\n$$\n\n### CRTã®ç§˜å¯†éµ $d$ ã®ãƒ“ãƒƒãƒˆã‚’ $n/4$ ç¨‹åº¦çŸ¥ã£ã¦ã„ã‚‹ã¨ã\n\nä¸Šã¨åŒæ§˜ã«ã—ã¦è§£ã‘ã¾ã™ã€‚\n\n$$\n\\begin{aligned}\ned_p \u0026= 1 \u0026 \\pmod{p-1} \\\\\ned_p \u0026= 1 + k_p(p âˆ’ 1) \\\\\n\\end{aligned}\n$$\n\n## å®Ÿè£…\n\n```python\nfrom Crypto.Util.number import *\n\np = getPrime(512)\nq = getPrime(512)\nn = p * q\ne = 3\n\nbeta = 0.5\nepsilon = beta^2/7\n\npbits = p.nbits()\nkbits = floor(n.nbits() * (beta^2 - epsilon))\n# p upper\npbar = p \u0026 (2^pbits - 2^kbits)\n\nprint(f\"upper {pbits - kbits} bits (of {pbits} bits) is given\")\n\nPR.\u003cx\u003e = PolynomialRing(Zmod(n))\nf = x + pbar\n\nprint(p)\nx0 = f.small_roots(X=2^kbits, beta=0.3)[0]\nprint(x0 + pbar)\n```\n\n## ä½¿ç”¨ä¾‹\n\n```python\ndef partial_p(p0, kbits, n):\n    PR.\u003cx\u003e = PolynomialRing(Zmod(n))\n    nbits = n.nbits()\n\n    f = 2^kbits*x + p0\n    f = f.monic()\n    roots = f.small_roots(X=2^(nbits//2-kbits), beta=0.3)  # find root \u003c 2^(nbits//2-kbits) with factor \u003e= n^0.3\n    if roots:\n        x0 = roots[0]\n        p = gcd(2^kbits*x0 + p0, n)\n        return ZZ(p)\n\ndef find_p(d0, kbits, e, n):\n    X = var('X')\n\n\t# edx - kx(n-x+1) + kn = x mod 2^k\n\t# (ed - 1)x - kx(n-x+1) + kn = 0 mod 2^k\n    for k in xrange(1, e+1):\n        results = solve_mod([e*d0*X - k*X*(n-X+1) + k*n == X], 2^kbits)\n        for x in results:\n            p0 = ZZ(x[0])\n            p = partial_p(p0, kbits, n)\n            if p:\n                return p\n\n\nif __name__ == '__main__':\n    n = 0x00bef498e6eb2cffe71312da47ab89d2c47db7438ea2cfa992ddddbc2a01978001fc51e286e6ebf028396cdb8b3323c60e6b9d50cd84187cf7f48e3875a2f0890f70b02333ad89db2923863ce146562286f63fb0a1d0198e3a6862ba5ac12e85a5c6d0d27cb1c81bdf69cc5bc95b8001a2f744517f9437b4ddd5a076fc0e9a5de1a7a268c40f31aa29e8dc27c0b3a182299ca7a9335b4bd4585452f6107c238e486c98dd73a5f9862e9e80b152f53381c72f897107551c281259ac3ee32c4b4f46cc03127d1bf699acd0266f3c6729253c70da0c69b1560fa172735709866b375b6eba294e1ce8b46fba798ba380080b4bf9603998cac199d9cd46e30ae8da9e7f\n    e = 3\n    d = 0x7f4dbb449cc8aa9a0cb73c2fc7b1372da924d7b46c8a710c93e9281c010faaabfd8bec59ef47f5702648925cccc284099d138b33ad65a8a54db425a3c1f5b0b4f5cac22273b13cc617aed340d98ec1af4ed5206be011097c459726e72b7459192f35e1a8768567ea46883d30e7aaabc1fa2d8baa62cfcde93915a4a809bc3e9547bb07e1ecca16e51078312e89f0561e31b55db8b0ea5bc87a6ca7464a3d7c28a68c60e2ba88fe6a7d2b300d723e549910a987da89fc0a1c0de197a3d62c501b1f0e819891b1c32a0d6c233f2a285df87bb9e5c6c72d983ff3e706696bba639f573f9c3646968f02f3a615a438e20bb7c38d53621079f2899547a95350f3abeb\n\n    beta = 0.5\n    epsilon = beta^2/7\n\n    nbits = n.nbits()\n    kbits = floor(nbits*(beta^2+epsilon))\n    d0 = d \u0026 (2^kbits-1)\n    print \"lower %d bits (of %d bits) is given\" % (kbits, nbits)\n\n    p = find_p(d0, kbits, e, n)\n    print \"found p: %d\" % p\n    q = n//p\n    print d\n    print inverse_mod(e, (p-1)*(q-1))\n```\n\n## å‚è€ƒ\n\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/RSA/ROCA":{"title":"Return Of Coppersmith Attack","content":"\n## èª¬æ˜\n\nä¸»è¦ãªæš—å·ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ãƒ¡ãƒ¼ã‚«ã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒª RSALib ã®éµç”Ÿæˆã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®æ¬ é™¥ã€‚\n\n$$\n\\begin{aligned}\np \u0026= kM + (e^a \\bmod M) \\\\\nq \u0026= lM + (e^b \\bmod M) \\\\\nN \u0026= pq = e^{a + b} \\pmod M\n\\end{aligned}\n$$\n\nM ã®ç´ å› æ•°åˆ†è§£ã—ã¦ä¸­å›½å‰°ä½™å®šç†ã‹ã‚‰ã®DLPã‚’é©ç”¨\n$P_n = 2\\cdot 3\\cdot\\ldots\\cdot p_n$\n512bit RSA $M = P_{39}$, $k$ 37bit, $a$ 62bit\n1024bit RSA $M = P_{71}$\n2048bit RSA $M = P_{126}$\n\n## å®Ÿè£…\n\n\n## ä½¿ç”¨ä¾‹\n\n\n## å‚è€ƒ\n\n[The Return of Coppersmith's Attack:Practical Factorization of Widely Used RSA Moduli (acmccs.github.io)](https://acmccs.github.io/papers/p1631-nemecA.pdf)\n\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/RSA/RSA":{"title":"RSAæš—å·","content":"\n## èª¬æ˜\n\næš—å·åŒ–\n$c = m^{e} \\pmod N$ ã‚’è¨ˆç®—ã—ã¾ã™ã€‚\n\n1. ç§˜å¯†éµã§ã‚ã‚‹å¤§ããªç´ æ•° $p, q$ ã‚’ç”Ÿæˆã—ã€å…¬é–‹éµ $N = pq$ ã‚’å…¬é–‹ã—ã¾ã™ã€‚\n2. ãã—ã¦æ•°å€¤åŒ–ã—ãŸå¹³æ–‡ $m$ ã«å¯¾ã—ã¦æš—å·æ–‡ $c$ ã¯ $c = m^e \\pmod N$ ã¨ãªã‚Šã¾ã™ã€‚\n\nå¾©å·åŒ–\n$m = c^{e^{-1}} \\pmod N$ ã‚’è¨ˆç®—ã—ã¾ã™ã€‚\n\n1. ã¾ãšç§˜å¯†éµ $\\phi(N) = (p - 1)(q - 1)$ ã‚’è¨ˆç®—ã™ã‚‹ã€‚\n2. $c$ ã«å¯¾ã—ã¦ $d = e^{-1} \\pmod{\\phi(N)}$ ä¹—ã™ã‚‹ã“ã¨ã§å¾©å·ã§ãã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nc \u0026â‰¡ m^e \u0026\\pmod N \\\\\nc^d \u0026â‰¡ m^{ed} â‰¡ m \u0026\\pmod N\n\\end{aligned}\n$$\n\nã“ã‚Œã¯ã‚ªã‚¤ãƒ©ãƒ¼ã®å®šç†ã‚ˆã‚Šè‚©ã®æ•°ãŒ $\\phi(N)$ ã‚’æ³•ã¨ã—ã¦è¨ˆç®—ã§ãã‚‹ã‹ã‚‰ã§ã™ã€‚\n\n$$\n\\begin{aligned}\nm^{\\phi(N)} \u0026â‰¡ m^{(p - 1)(q - 1)} â‰¡ 1 \u0026 \\pmod N \\\\\nm^{ed} \u0026= m^{k\\phi(N) + 1} â‰¡ m^{k\\phi(N)}m â‰¡ m \u0026 \\pmod N \\\\\ned \u0026= k\\phi(N) + 1 â‰¡ 1 \u0026 \\pmod{\\phi(N)}\n\\end{aligned}\n$$\n\nã“ã“ã§ $N, e$ ã‚’çŸ¥ã£ã¦ã„ã¦ã‚‚ $p, q, d$ ã‚’çŸ¥ã‚‰ãªã„ã¨ãã€æš—å·åŒ–ã¯ç°¡å˜ã§ã‚‚å¾©å·åŒ–ã¯é›£ã—ã„ã¨ã„ã†äº‹ãŒçŸ¥ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚’ç”¨ã„ãŸæš—å·ã‚’RSAæš—å· (Rivest-Shamir-Adleman encryption) ã¨å‘¼ã³ã¾ã™ã€‚\n\nå…·ä½“çš„ã«ã¯æ¬¡ã®æ‰‹é †ã§æš—å·åŒ–ã•ã‚ŒãŸé€šä¿¡ã—ã¾ã™ã€‚\n\n1. AliceãŒBobã«å…¬é–‹éµ $N, e$ ã‚’æ¸¡ã™\n2. Bobã¯å…¬é–‹éµã‚’ç”¨ã„ã¦å¹³æ–‡ã‚’æš—å·åŒ–\n3. Bobã‹ã‚‰Aliceã¸æš—å·æ–‡ã‚’é€ã‚‹\n4. Aliceã¯ç§˜å¯†éµ $p, q$ ã‚’ç”¨ã„ã¦å¾©å·åŒ–ã—ã€å¹³æ–‡ã‚’å¾—ã‚‹\n\nã“ã“ã«å›³\n\nã“ã®ã‚ˆã†ã«ã—ã¦é€ã£ã¦ã„ã‚‹æœ€ä¸­ã«ç›—è´ã•ã‚Œã¦ã‚‚ç§˜å¯†éµãŒãªã‘ã‚Œã°è§£èª­ã§ããšã€å®‰å…¨ãªé€šä¿¡ãŒã§ãã¾ã™ã€‚\nã¾ãŸã“ã‚Œã¯ä¸€æ–¹å‘é€šä¿¡ã§ã™ãŒã€é€†ã‚‚åŒæ§˜ã«è¡Œãˆã°åŒæ–¹å‘é€šä¿¡ã‚‚ã§ãã¾ã™ã€‚\n\n### RSA-CRT\n\nRSAã®å¾©å·ã‚’ã™ã‚‹éš›ã« $c^d$ ã‚’è¨ˆç®—ã—ã¾ã™ãŒã€ $d = e^{-1} \\pmod {\\phi (N)}$ ã¯æ¯”è¼ƒçš„å¤§ãã„ã®ã§å‡¦ç†ãŒé‡ããªã‚Šã¾ã™ã€‚ã“ã‚Œã«å¯¾ã—ã¦RSA-CRTã¯ä¸­å›½å‰°ä½™å®šç†(CRT)ã‚’åˆ©ç”¨ã—ã¦é«˜é€ŸåŒ–ã‚’å›³ã£ã¦ã„ã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nm_p \u0026= c^{d \\ \\bmod \\ pâˆ’1} \u0026 \\pmod p \\\\\nm_q \u0026= c^{d \\ \\bmod \\ qâˆ’1} \u0026 \\pmod q \\\\\nm \u0026= \\mathrm{CRT}(m_p, m_q) \u0026 \\pmod {N} \\\\\n\u0026= m_q + (m_p - m_q) (q^{-1} \\bmod p) q \u0026 \\pmod {N} \\\\\n\\end{aligned}\n$$\n\nã“ã‚Œã‚ˆã‚Šä¸‹ã®å€¤ã‚’ç§˜å¯†éµã¨ã—ã¦æŒã¤ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nd_p \u0026= d \\bmod pâˆ’1 \\\\\nd_q \u0026= d \\bmod qâˆ’1 \\\\\nq_{inv} \u0026= q^{-1} \\bmod p \\\\\n\\end{aligned}\n$$\n\n### padding\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒæ”¹ã–ã‚“ã•ã‚Œãšã«å±Šã‘ã‚‰ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã®ã«ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã¯ç”¨ã„ã‚‰ã‚Œã‚‹ã€‚RSAã§ã¯ä¸»ã«æ¬¡ã®3ã¤ã®ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ãŒä½¿ã‚ã‚Œã‚‹ã€‚\n\nRFC 8017: PKCS #1 V2.2(RSA Cryptography Specifications Version 2.2)\n\n- PKCS#1 v1.5; Public-Key Cryptography Standards#1 v1.5\n- OAEP; Optimal Asymmetric Encryption Padding\n- PSS; Probabilistic Signature Scheme\n\nã“ã®ã‚ˆã†ãªãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’ç”¨ã„ãŸRSAã‚’RSA-[ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°å]ãªã©ã¨å‘¼ã‚“ã ã‚Šã™ã‚‹ã€‚\n\n## å®Ÿè£…\n\n```python\nfrom Crypto.Util.number import *\n\np = getPrime(512)\nq = getPrime(512)\nN = p * q\nphi = (p - 1) * (q - 1)\ne = 65537\nd = pow(e, -1, phi)\n\n\ndef encrypt(plaintext):\n    m = bytes_to_long(plaintext)\n    c = pow(m, e, N)\n    cipher = long_to_bytes(c)\n    return cipher\n\n\ndef decrypt(cipher):\n    c = bytes_to_long(cipher)\n    m = pow(c, d, phi)\n    plaintext = long_to_bytes(m)\n    return plaintext\n\n\ncipher = encrypt(b\"This is RSA\")\nprint(cipher)\nplaintext = decrypt(cipher)\nprint(plaintext)\n```\n\n## ä½¿ç”¨ä¾‹\n\n## é–¢é€£é …ç›®\n- [Boneh-Durfee Attack](/crypto/RSA/Boneh-DurfeeAttack)\n- [Common Modulus Attack](/crypto/RSA/CommonModulusAttack)\n- [Franklin-Reiter Related Message Attack](/crypto/RSA/Franklin-ReiterRelatedMessageAttack)\n- [HÃ¥stadâ€™s Broadcast Attack](/crypto/RSA/HÃ¥stadsBroadcastAttack)\n- [LSB Decryption Oracle Attack](/crypto/RSA/LSB-DecryptionOracleAttack)\n- [é€†å…ƒãŒå­˜åœ¨ã—ãªã„ã¨ã](/crypto/RSA/NoInverse)\n- [Partial Key Exposure Attack](/crypto/RSA/PartialKeyExposureAttack)\n- [Return Of Coppersmith Attack](/crypto/RSA/ROCA)\n- [RSA-CCA](/crypto/RSA/RSA-CCA)\n- [RSA-CRT Fault Attack](/crypto/RSA/RSA-CRT-FaultAttack)\n- [Small Common Private Exponent Attack](/crypto/RSA/SmallCommonPrivateExponentAttack)\n- [Wiener's Attack](/crypto/RSA/WienersAttack)","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/RSA/RSA-CCA":{"title":"Chosen-ciphertext Attack","content":"\n## èª¬æ˜\n\nä»»æ„ã®æš—å·ã‚’å¾©å·ã—ãŸçµæœã‚’çŸ¥ã£ã¦ã„ã‚‹ã¨ãã€ã‚ã‚‹æš—å·æ–‡ã®å¾©å·çµæœã‚’é˜²ãŒã‚Œã¦ã„ãŸã¨ã—ã¦ã‚‚ä»–ã®æš—å·ã‚’é€ã‚‹ã“ã¨ã§è§£èª­ã§ãã¾ã™ã€‚\n$2^e$ ã‚’æš—å·æ–‡ã«æ›ã‘ã¦å¾©å·ã—ãŸçµæœã‚’ $2$ ã§å‰²ã‚Œã°ãã®å¹³æ–‡ãŒã‚ã‹ã‚Šã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nDec(2^ec) = 2m \\pmod N\n\\end{aligned}\n$$\n\nã“ã‚Œã«å¯¾ã™ã‚‹é˜²å¾¡æ–¹æ³•ã¨ã—ã¦å¹³æ–‡ã«ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’æ–½ã—ã€å¾©å·åŒ–ã—ãŸéš›ã«ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°å½¢å¼ãŒé•ã†ã¨ãã¯ç›¸æ‰‹ã«æ¸¡ã•ãªã„ã‚ˆã†ã«ã™ã‚‹ã¨ã„ã†æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã£ã¦æ­£å½“ãªæš—å·æ–‡ã—ã‹å—ã‘å…¥ã‚Œãšã€é©å¿œçš„é¸æŠæš—å·æ–‡æ”»æ’ƒã‚’é˜²ã’ã¾ã™ã€‚\n\nãƒ‘ãƒ‡ã‚£ãƒ³ã‚°å½¢å¼ã®1ã¤ã«PKCS #1 v1.5ãŒã‚ã‚Šã¾ã™ã€‚\n\n`0002\u003crandom\u003e00\u003chashprefix\u003e\u003cmessage\u003e`\n\nã“ã‚Œã«ã¤ã„ã¦ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ãŒåˆã£ã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’ç›¸æ‰‹ã«é€ã£ã¦ã—ã¾ã†ã¨Padding Oracle Attackã§æ”»æ’ƒã§ãã€PKCS #1 v1.5ã§ã¯200ä¸‡ç¨‹åº¦é€ã‚‹ã¨å¹³æ–‡ãŒèª­ã‚ã¦ã—ã¾ã„ã¾ã™ã€‚\n\nå¯¾ã—ã¦Padding Oracle Attackã§ç ´ã‚‰ã‚Œãªã„ã‚ˆã†ãªãƒ‘ãƒ‡ã‚£ãƒ³ã‚°å½¢å¼ã¯InD-CCA2ã¨å‘¼ã³ã¾ã™ã€‚\n\nãã®1ã¤ã§ã‚ã‚‹OAEP(Optimal Asymmetric Encryption Padding)ã«ã¤ã„ã¦ã¯æ¬¡ã®è¨˜äº‹ã‚’èª­ã‚€ã¨ã‚ˆã„ã§ã™ã€‚\n\n## å®Ÿè£…\n\n\n## ä½¿ç”¨ä¾‹\n\n\n## å‚è€ƒ\n\n- [RSAã«å¯¾ã™ã‚‹é©å¿œçš„é¸æŠæš—å·æ–‡æ”»æ’ƒã¨ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°æ–¹å¼](https://inaz2.hatenablog.com/entry/2016/01/26/222303)\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/RSA/RSA-CRT-FaultAttack":{"title":"RSA-CRT Fault Attack","content":"\n## èª¬æ˜\n\nRSAã®å¾©å·ã‚’ã™ã‚‹éš›ã« $c^d$ ã‚’è¨ˆç®—ã—ã¾ã™ãŒã€ $d = e^{-1} \\pmod {\\phi (N)}$ ã¯æ¯”è¼ƒçš„å¤§ãã„ã®ã§å‡¦ç†ãŒé‡ããªã‚Šã¾ã™ã€‚ã“ã‚Œã«å¯¾ã—ã¦RSA-CRTã¯ä¸­å›½å‰°ä½™å®šç†(CRT)ã‚’åˆ©ç”¨ã—ã¦é«˜é€ŸåŒ–ã‚’å›³ã£ã¦ã„ã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nm_p \u0026= c^{d \\ \\bmod \\ pâˆ’1} \u0026 \\pmod p \\\\\nm_q \u0026= c^{d \\ \\bmod \\ qâˆ’1} \u0026 \\pmod q \\\\\nm \u0026= \\mathrm{CRT}(m_p, m_q) \u0026 \\pmod {N} \\\\\n\u0026= m_q + (m_p - m_q) (q^{-1} \\bmod p) q \u0026 \\pmod {N} \\\\\n\\end{aligned}\n$$\n\nã“ã‚Œã‚ˆã‚Šä¸‹ã®å€¤ã‚’ç§˜å¯†éµã¨ã—ã¦æŒã¤ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nd_p \u0026= d \\bmod pâˆ’1 \\\\\nd_q \u0026= d \\bmod qâˆ’1 \\\\\nq_{inv} \u0026= q^{-1} \\bmod p \\\\\n\\end{aligned}\n$$\n\nã—ã‹ã— $d_p, d_q$ ã®ã©ã¡ã‚‰ã‹ãŒä½•ã‚‰ã‹ã®æ–¹æ³•ã§æ›¸ãæ›ãˆã‚‰ã‚Œã¦ã—ã¾ã£ãŸã¨ãæ¬¡ã®ã‚ˆã†ã«ã§ãã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nm_p \u0026= c^{d_p} \\pmod p \\\\\nm_q' \u0026= c^{d_q'} \\pmod q \\\\\nm \u0026= CRT(m_p, m_q) = kp + m_p \\\\\nm' \u0026= CRT(m_p, m_q') = k'p + m_p \\\\\nm - m' \u0026= (k - k')p \\\\\np \u0026= \\gcd(m - m', N) \\\\\n\\end{aligned}\n$$\n\nã“ã‚Œã‚ˆã‚Šå¹³æ–‡ $m, m'$ ã‚’çŸ¥ã‚‹ã“ã¨ãŒã§ãã‚Œã°è§£ãã“ã¨ãŒã§ãã¾ã™ã€‚\n\n## å®Ÿè£…\n\n\n## ä½¿ç”¨ä¾‹\n\n\n## å‚è€ƒ\n\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/RSA/SmallCommonPrivateExponentAttack":{"title":"Small Common Private Exponent Attack","content":"\n## èª¬æ˜\n\n\n## å®Ÿè£…\n\n\n## ä½¿ç”¨ä¾‹\n\n\n## å‚è€ƒ\n\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/RSA/WienersAttack":{"title":"Wiener's Attack","content":"\n## èª¬æ˜\n\n$3d \u003c N^{\\frac{1}{4}}$ ã®ã¨ã ( $d$ ãŒå°ã•ã™ãã‚‹ã‹ $e$ ãŒå¤§ãã™ãã‚‹ã¨ã)ã€$e/N$ ã«å¯¾ã—ä¸»è¿‘ä¼¼åˆ†æ•°ã‚’ä¸¦ã¹ã‚‹ã¨ $k/d$ ãŒã‚ã‚‹ã€‚\n\n$$\n\\begin{aligned}\ned \u0026â‰¡ 1 = k\\phi(N) + 1 = k(N - p - q + 1) + 1 \\\\\n\\frac{e}{N} \u0026= \\frac{k}{d}\\left(1-\\frac{p + q - 1 - \\frac{1}{k}}{N}\\right) \\approx \\frac{k}{d} \\\\\n\\frac{e}{N} \u0026\\approx q_0 + \\cfrac{1}{q_1 + \\cfrac{1}{q_2 + \\cfrac{1}{\\ddots \\cfrac{}{q_{m-1} + \\cfrac{1}{q_m}}}}} = \\frac{k_m}{d_m} \\\\\n\\end{aligned}\n$$\n\næ¬¡ã®æ¼¸åŒ–å¼ã‚’ç”¨ã„ã¦ä¸»è¿‘ä¼¼åˆ†æ•°ã¯æ±‚ã¾ã‚‹ã€‚\n\n$$\n\\begin{aligned}\nr_{-2} \u0026= e \u0026 k_{-2} \u0026= 0 \u0026d_{-2} \u0026= 1 \\\\\nr_{-1} \u0026= N \u0026 k_{-1} \u0026= 1 \u0026d_{-1} \u0026= 0 \\\\\nr_{i-2} \\div r_{i-1} \u0026= q_{i} \\cdots r_{i} \u0026 k_i \u0026= q_i k_{iâˆ’1} + k_{iâˆ’2} \u0026d_i \u0026= q_i d_{iâˆ’1}+d_{iâˆ’2} \\\\\n\\end{aligned}\n$$\n\n## å®Ÿè£…\n\n```python\nimport gmpy2\n\ndef convergents(a, b):\n    r0, r1 = a, b\n    a0, a1 = 0, 1\n    b0, b1 = 1, 0\n\n    i = 0\n    while r1 != 0:\n        i += 1\n        q = r0 // r1\n        r0, r1 = r1, r0 % r1\n        a0, a1 = a1, q*a1 + a0\n        b0, b1 = b1, q*b1 + b0\n\n        if i % 2 == 0:\n            a = a1 + a0\n            b = b1 + b0\n        else:\n            a = a1\n            b = b1\n\n        yield a, b\n\ndef has_integer_roots(a, b, c):\n    D = b*b - 4*a*c\n    if D \u003e 0:\n        sD = gmpy2.isqrt(D)\n        if sD * sD == D and (-b + sD) % (2*a) == 0:\n            return 2\n    elif D == 0 and b % (2*a) == 0:\n        return 1\n    return 0\n\ndef WienersAttack(n, e):\n    for d, k in convergents(n, e):\n        if k == 0 or (e * d - 1) % k != 0:\n            continue\n        phi = (e * d - 1) // k\n        if has_integer_roots(1, phi - n - 1, n) \u003e 0:\n            return d\n    return -1\n```\n\n## ä½¿ç”¨ä¾‹\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/RSA/tour-of-RSA":{"title":"Tour of RSA","content":"\n# RSAæš—å·ã‚’æ¥µã‚ã‚‹ï¼(ç†è«–ç·¨)\n\nã¨ã„ã†ã‹ç„¡é™å·¥äº‹ç·¨ã§ã™(æ–‡ç« ãŒæ‹™ãã¦ç”³ã—è¨³ãªã„)\n\n## ã¯ã˜ã‚ã«\n\nã™ããã“ã«ç§˜å¯†ã®ä¸–ç•ŒãŒã‚ã‚Šã¾ã™ã€‚ã“ã®è¨˜äº‹ã‚’èª­ã‚“ã§ã„ã‚‹ãªã‚‰ã€ã‚ãªãŸã¯æš—å·åŒ–ã•ã‚ŒãŸé€šä¿¡ã‚’é€šã—ã¦ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰é›»æ°—ç·šã‚’é€šã‚Šã€é¥ã€…ãã®ç«¯æœ«ã«å±Šã„ã¦ã„ã‚‹æ–‡å­—ã‚’èª­ã‚“ã§ã„ã¾ã™ã€‚\n\nã“ã‚“ãªã“ã¨ã‚’è€ƒãˆã¦ã¿ã¦ã»ã—ã„ã€‚æ©Ÿå™¨ã‹ã‚‰æš—å·ã‚’ä½¿ã£ã¦é€šä¿¡ã‚’ã—ã¦ã„ã¾ã™ãŒã€ç§é”ãŒè§¦ã‚Œã¦ã„ãªã„ã ã‘ã§æš—å·ã¯èª°ã§ã‚‚è§£ã‘ã‚‹ã‚‚ã®ã§ã‚ã‚Šã€è¿‘ãã‚’é€šã£ãŸäººãŒè‡ªåˆ†ã®é€šä¿¡ã‚’ç›—è´ã—ã¦ã„ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã€‚ã‚¾ã‚¯ãƒƒã¨ã—ã¾ã›ã‚“ã‹ã€‚\n\nãã‚“ãªã“ã¨ãŒ2017å¹´ã«èµ·ã“ã‚Šã¾ã—ãŸã€‚ROCAæ”»æ’ƒã¨å‘¼ã°ã‚Œã‚‹ã‚‚ã®ã§ã™ã€‚æš—å·ã®ä¸­ã§ã‚‚æœ€ã‚‚ä¸–ç•Œã§æ´»èºã—ã¦ã„ã‚‹ã¨è¨€ã‚ã‚Œã‚‹ã€ŒRSAæš—å·ã€ãŒç°¡å˜ã«è§£ã‘ã¦ã—ã¾ã†ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚\n\nãã®ã€ŒRSAæš—å·ã€ã®æœ¬å½“ã®ä¸–ç•Œã‚’è¦—ã„ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\n\nCryptoã¯CTFç‰¹æœ‰ã®ãƒ¡ã‚¿çš„ãªèƒ½åŠ›ã‚ˆã‚Šã‹ã¯æ•°å­¦åŠ›ã«é‡ããŒç½®ã‹ã‚Œã‚‹åˆ†é‡ã§ã™ã€‚æœ€è¿‘ã§ã¯ç™ºæƒ³ã ã‘ã§ã¯ãªããƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’çŸ¥ã‚‰ãªã„ã¨è§£ã‘ãªã„ã‚ˆã†ãªå•é¡ŒãŒå¤šããªã£ã¦ãã¾ã—ãŸã€‚ãã“ã§ã“ã®è¨˜äº‹ã§ã¯RSAé–¢é€£ã®å•é¡Œã§ã‚ˆãä½¿ã†ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ä½“ç³»çš„ã«1ã‹ã‚‰ç¿’å¾—ã—ã¾ã™ã€‚\n\nãƒ†ã‚¯ãƒ‹ãƒƒã‚¯\nGCD, ä¸­å›½å‰°ä½™å®šç†, çµ‚çµå¼, ã‚°ãƒ¬ãƒ–ãƒŠãƒ¼åŸºåº•, LLL, Approximate GCD, Coppersmith\n\nå‰æçŸ¥è­˜ã¯å‡ºæ¥ã‚‹é™ã‚Šé«˜æ ¡æ•°å­¦ã«çµã£ã¦ã„ã¾ã™ãŒã€ãã‚Œã§ã‚‚å°‘ã—å¤§å­¦ã§ã®æ•°å­¦ãŒå‡ºã¦ãã¾ã™ã®ã§é©å®œè£œã£ã¦ã»ã—ã„ã§ã™ã€‚\n\n## æ™‚è¨ˆã®ä¸–ç•Œ\n\nRSAæš—å·ã‚’èªã‚‹ä¸Šã§æœ€ã‚‚æ ¹å¹¹ã‚’æˆã™ã®ãŒã€Nã‚’è‡ªç„¶æ•°ã¨ã—ã¦ã€ŒNã‚’æ³•ã¨ã™ã‚‹ã€ç®—è¡“ã§ã™ã€‚\n\nã“ã®ç®—è¡“ã¯æ—¥ã€…è§¦ã‚Œã¦ã„ã¦ä¾‹ãˆã°æ™‚é–“ã«ã¤ã„ã¦ã“ã‚“ãªå•é¡Œã‚’è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚\n\nåˆå‰10æ™‚ã«ä»•äº‹ã‚’å§‹ã‚ã¦ã€8æ™‚é–“åƒãã¨ã™ã‚‹ã¨ã€ä»•äº‹ãŒçµ‚ã‚ã‚‹ã®ã¯ã„ã¤ã§ã—ã‚‡ã†ã‹ï¼Ÿ\n\n10 + 8 = 18 ã ã‹ã‚‰ã€Œ18æ™‚ã«çµ‚ã‚ã‚‹ã€ã¨ç­”ãˆã‚‹ã®ãŒè‡ªç„¶ã§ã—ã‚‡ã†ã‹ã€‚18ã‹ã‚‰12ã‚’å¼•ã 18 - 12 = 6 ã§ã€Œåˆå¾Œ6æ™‚ã«çµ‚ã‚ã‚‹ã€ã¨ã‚‚ç­”ãˆã‚‰ã‚Œã¾ã™ã­ã€‚ã©ã¡ã‚‰ã«ã—ã¦ã‚‚æ•°ã¯ã‚ã‚‹ç¯„å›²ã«å…¥ã‚‹ã‚ˆã†ã«èª¿æ•´ã•ã‚Œã¾ã™ã€‚åˆå‰åˆå¾Œã§åˆ†ã‘ã‚‹æ–¹æ³•ã§ã‚ã‚Œã°æ•°ã¯0ã‹ã‚‰11ã®é–“ã«å…¥ã‚Šã€24æ™‚é–“åˆ¶ã§ã‚ã‚Œã°æ•°ã¯0ã‹ã‚‰23ã®é–“ã«å…¥ã‚Šã¾ã™ã€‚\n\nè§’åº¦ã§ã‚‚ã“ã®ç®—è¡“ã«å‡ºãã‚ã—ã¾ã™ã€‚ä¾‹ãˆã°2ã¤ã®è§’åº¦ã®å’Œã‚’æ±‚ã‚ã‚‹ã¨ãã€360åº¦ã‚’è¶…ãˆã¦ã—ã¾ã£ãŸå ´åˆã¯ãã“ã‹ã‚‰360ã‚’å¼•ã„ã¦1ã‹ã‚‰360ã¾ã§ã®é–“ã«åã¾ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ä¾‹ãˆã° 450 - 360 = 90 ã ã‹ã‚‰ã€450åº¦ã®å›è»¢ã¯90åº¦ã®å›è»¢ã«ç­‰ã—ã„ã§ã™ã€‚\n\nä»–ã«ã‚‚æ›œæ—¥ã‚„\nä»¥ä¸Šã®å‡ºã—ã¦ããŸã‚‚ã®ã«å…±é€šã—ã¦ã„ã‚‹ã“ã¨ã¯çµæœãŒã‚ã‚‹ç¯„å›²ã«åã¾ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã“ã¨ã§ã™ã€‚ã“ã®ã‚ˆã†ãªã‚¿ã‚¤ãƒ—ã®è¨ˆç®—ã‚’Nã‚’æ³•ã¨ã™ã‚‹ç®—è¡“ã¨å‘¼ã³ã¾ã™ã€‚å…ˆã»ã©ã®ä¾‹ã ã¨åˆå‰åˆå¾Œã§ã‚ã‚Œã°ã€Œ12ã‚’æ³•ã¨ã™ã‚‹ã€è¶³ã—ç®—ã€è§’åº¦ã§ã‚ã‚Œã°ã€Œ360ã‚’æ³•ã¨ã™ã‚‹ã€è¶³ã—ç®—ã‚’ã—ã¦ã„ã¾ã™ã€‚\n\n$$\n\\begin{aligned}\n10 + 8 \u0026= 6 \\pmod{12} \\\\\n450 \u0026= 90 \\pmod{360} \\\\\n810 \u0026= 90 \\pmod{360}\n\\end{aligned}\n$$\n\nã‚ˆã‚Šåºƒãè€ƒãˆã‚‹ã¨810åº¦ã¯90åº¦ã§ã‚ã‚‹ã‚ˆã†ã«ã“ã®ç®—è¡“ã¯Nã§å‰²ã£ãŸä½™ã‚ŠãŒåŒã˜ãªã‚‰ç­‰ã—ãæ‰±ã†ç®—è¡“ã§ã‚ã‚‹ã¨ã‚‚è¨€ãˆã¾ã™ã€‚ã“ã®ç®—è¡“ã®ä¸Šã§ã¯ä¸€èˆ¬ã®è‡ªç„¶æ•°Nã§Nã‚’æ³•ã¨ã™ã‚‹è¶³ã—ç®—ã‚’è€ƒãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n\nã“ã®Nã‚’æ³•ã¨ã™ã‚‹ç®—è¡“ã‚’ã—ã£ã‹ã‚Šè€ƒãˆã‚‹ãŸã‚ã«å®šç¾©ã‚’ä¸ãˆã¾ã™ã€‚\n\nã¾ãš $0$ ã‹ã‚‰ $N-1$ ã¾ã§ã®æ•°ã‚’é›†ã‚ãŸé›†åˆã‚’ã‚‚ã£ã¦ãã¦ã€ãã‚Œã‚’ $\\mathbb{Z}/N\\mathbb{Z}$ ã¨åä»˜ã‘ã¾ã™ã€‚\n\n$$\n\\mathbb{Z}/N\\mathbb{Z} := \\{0, 1, ..., N - 2, N - 1\\}\n$$\n\nä¾‹ãˆã° $\\mathbb{Z}/12\\mathbb{Z}$ ã¯AM/PMã§æ™‚é–“ã‚’è¡¨ã™æ•°ã€$\\mathbb{Z}/24\\mathbb{Z}$ ã¯24æ™‚é–“è¡¨è¨˜ã§æ™‚é–“ã‚’è¡¨ã™æ•°ã¨ãªã‚Šã¾ã™ã€‚\n\nã“ã‚Œã‚‰ã®æ•°ã®é›†åˆã«å¯¾ã—ã€åŠ æ³•(è¶³ã—ç®—)ã‚’å®šç¾©ã—ã¾ã™ã€‚ã“ã®é›†åˆã®ä¸­ã‹ã‚‰ä»»æ„ã®2ã¤ã®æ•°ãŒä¸ãˆã‚‰ã‚ŒãŸã¨ã—ã¦ã€ãã‚Œã‚‰ã‚’è¶³ã—ãŸã‚‚ã®ãŒ $N$ ã‚ˆã‚Šå¤§ãããªã‚‹ãªã‚‰ã€$N$ ã‚’å¼•ã„ã¦è¨ˆç®—çµæœãŒè‡ªåˆ†ã®ä¸­ã«å…¥ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\n\nã“ã®é›†åˆã«ã“ã†å®šç¾©ã—ãŸåŠ æ³•ã‚’å…¥ã‚Œã‚‹ã“ã¨ã§é›†åˆã¯ç¾¤ã¨ãªã‚Šã¾ã™ã€‚ç¾¤ã¨ã¯é›†åˆã¨1ã¤ã®æ¼”ç®—ãŒã‚ˆãé¦´æŸ“ã‚“ã§ã„ã‚‹ã‚ˆã†ãªã‚‚ã®ã§æ¬¡ã®ã‚ˆã†ãªæ¡ä»¶ã‚’æº€ãŸã—ã¾ã™ã€‚\n\n- å˜ä½å…ƒã®å­˜åœ¨\næ¼”ç®—ã—ã¦ã‚‚å¤‰ã‚ã‚‰ãªã„å€¤ ex.) $a + 0 = a, a \\times 1 = a$\n- é€†å…ƒã®å­˜åœ¨\næ¼”ç®—ã—ã¦å˜ä½å…ƒã¨ãªã‚‹å€¤ ex.) $a + (- a) = 0, a \\times \\frac{1}{a} = 1$\n- çµåˆæ³•å‰‡\nã©ã“ã‹ã‚‰æ¼”ç®—ã—ã¦ã‚‚åŒã˜çµæœã«ãªã‚‹ ex.) $(a + b) + c = a + (b + c)$\n\nç¾¤ã®ã†ã‚Œã—ã„ã“ã¨ã¯ã€ç¾¤ã§ã‚ã‚Œã°ã©ã®ã‚ˆã†ãªé›†åˆã‚„æ¼”ç®—ã§ã‚ã‚Œã€å¿…ãšæˆã‚Šç«‹ã¤æ³•å‰‡ãŒã‚ã‚Šã€ãã®æ³•å‰‡ã‚’æµç”¨ã§ãã‚‹ã“ã¨ã«ã‚ã‚Šã¾ã™ã€‚ä»Šå›ã¯ãã‚Œã‚‰ã®æ³•å‰‡ã‚’ãã‚Œã»ã©ä½¿ã„ã¾ã›ã‚“ãŒæš—å·å…¨èˆ¬çš„ã«ä½¿ã‚ã‚Œã‚‹ã®ã§è¦šãˆã¦ãŠã„ã¦æã¯ç„¡ã„ã§ã—ã‚‡ã†ã€‚\nã•ã¦ã€åŠ æ³•ã«ã¤ã„ã¦ç¾¤ã‚’æº€ãŸã™ã‹ãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã¾ã™ã€‚\n\n- åŠ æ³•ã®å˜ä½å…ƒã€€ã€€ $0$\n- åŠ æ³•ã®é€†å…ƒã€€ã€€ã€€ $a + (-a) = 0 \\pmod N \\iff -a = N - a$\n- åŠ æ³•ã®çµåˆæ³•å‰‡ã€€ $(a + b) + c = a + (b + c) \\pmod N$\n\nã“ã®ã‚ˆã†ã«ç¾¤ã®æ¡ä»¶ã‚’æº€ãŸã™ã®ã§ $\\mathbb{Z}/N\\mathbb{Z}$ ã¯åŠ æ³•ã«ã¤ã„ã¦ç¾¤ã¨ãªã‚Šã¾ã™ã€‚\n\nåŒã˜ã‚ˆã†ã«ä¹—æ³•(æ›ã‘ç®—)ã‚‚å®šç¾©ã—ã¦ã¿ã¾ã™ã€‚é›†åˆã‹ã‚‰ä»»æ„ã®2ã¤ã®æ•°ã‚’å–ã£ã¦ãã¦ã€ãã‚Œã‚‰ã‚’æ›ã‘ãŸå¾Œã« $N$ ã§å‰²ã£ãŸä½™ã‚Šã‚’è¨ˆç®—ã—ã¾ã™ã€‚ä¹—æ³•ã«ã¤ã„ã¦ã‚‚ç¾¤ã‚’æº€ãŸã™ã‹ãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\n\n- ä¹—æ³•ã®å˜ä½å…ƒã€€ã€€ $1$\n- ä¹—æ³•ã®é€†å…ƒã€€ã€€ã€€ $aa^{-1} = 1 \\pmod N \\iff a^{-1} = \\frac{kN + 1}{a}$\n- ä¹—æ³•ã®çµåˆæ³•å‰‡ã€€ $(a \\times b) \\times c = a \\times (b \\times c) \\pmod N$\n\nã‚ˆãè€ƒãˆã‚‹ã¨ä¹—æ³•ã®é€†å…ƒãŒå¸¸ã«å­˜åœ¨ã™ã‚‹è¨³ã§ã¯ãªã„ã§ã™ã€‚ã ã‹ã‚‰ä¹—æ³•ã«ã¤ã„ã¦ã¯ç¾¤ã«ãªã‚Šã¾ã›ã‚“ã€‚\n\nä¹—æ³•ã§ã®é€†å…ƒã¨ã¯æ›ã‘ã¦1ã«ãªã‚‹æ•°ã§å…·ä½“çš„ã«ã¯ã“ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n\n$$\n\\begin{aligned}\n1^{-1} \u0026= 1 \u0026\u0026 (1 \\times 1 = 1 = 1) \u0026 \\pmod{13} \\\\\n2^{-1} \u0026= 7 \u0026\u0026 (2 \\times 7 = 14 = 1) \u0026 \\pmod{13} \\\\\n3^{-1} \u0026= 9 \u0026\u0026 (3 \\times 9 = 27 = 1) \u0026 \\pmod{13} \\\\\n4^{-1} \u0026= 10 \u0026\u0026 (4 \\times 10 = 40 = 1) \u0026 \\pmod{13} \\\\\n5^{-1} \u0026= 8 \u0026\u0026 (5 \\times 8 = 40 = 1) \u0026 \\pmod{13} \\\\\n\\vdots\n\\end{aligned}\n$$\n\nã§ã¯ã©ã†ã„ã†ã¨ãã«é€†å…ƒãŒå­˜åœ¨ã—ãªã„ã®ã‹ã‚’è€ƒãˆã¦ã¿ã¾ã™ã€‚é€†å…ƒ $x$ ãŒå­˜åœ¨ã™ã‚‹æ¡ä»¶ã«ã¤ã„ã¦å¼å¤‰å½¢ã—ã¦ã„ãã¨( $\\gcd$ ã¯æœ€å¤§å…¬ç´„æ•° (Greatest Common Divisor) ã¨ã—ã¾ã™)\n\n$$\n\\begin{aligned}\nax \u0026= 1 \u0026 \\pmod N \\\\\nax - kN \u0026= 1 \\\\\n\\gcd(a, N)(a'x - kN') \u0026= 1 \u0026 (a = \\gcd(a, N)a', N = \\gcd(a, N)N') \\\\\n\\gcd(a, N) \u0026= 1 \\\\\n\\end{aligned}\n$$\n\nã¨ãªã‚Šã¾ã™ã€‚ã¤ã¾ã‚Š $a$ ã¨ $N$ ã¨ãŒäº’ã„ã«ç´ ã§ã‚ã‚Œã° $\\bmod N$ ã§ $a$ ã®é€†å…ƒãŒå­˜åœ¨ã—ã¾ã™ã€‚é€†ã« $a$ ãŒ $0$ ã‚„ $N$ ã®ç´„æ•°ã§ã‚ã‚‹å ´åˆã¯é€†å…ƒãŒå­˜åœ¨ã—ã¾ã›ã‚“ã€‚\n\nå…·ä½“çš„ã«æ³•ã«å¯¾ã—ã¦é€†å…ƒãŒå­˜åœ¨ã™ã‚‹æ•°ã‚’ç¾…åˆ—ã™ã‚‹ã¨\n\n$$\n\\begin{aligned}\n\\bmod 10 \u0026\\to 1, 3, 7, 9 \\\\\n\\bmod 11 \u0026\\to 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 \\\\\n\\bmod 12 \u0026\\to 1, 5, 7, 11 \\\\\n\\bmod 13 \u0026\\to 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 \\\\\n\\bmod 14 \u0026\\to 1, 3, 5, 9, 11, 13 \\\\\n\\end{aligned}\n$$\n\næ„å¤–ã¨é€†å…ƒã‚’å–ã‚Œã‚‹å…ƒãŒå°‘ãªã„ã§ã™ã­ã€‚ãã®ä¸­ã§æ³•ã®æ•°ãŒç´ æ•°ã®ã¨ãã¯ $0$ ä»¥å¤–ã®æ•°ã¨äº’ã„ã«ç´ ã¨ãªã‚‹ã®ã§ä»»æ„ã® $0$ ã§ã¯ãªã„å…ƒã«å¯¾ã—ã¦é€†å…ƒãŒå­˜åœ¨ã—ã¾ã™ã€‚ã¾ãŸã€é€†å…ƒã®é€†å…ƒã¯å…ƒã®æ•°ã¨ãªã‚‹ãŸã‚ã€é€†å…ƒã‚’å–ã‚Œã‚‹é›†åˆã«å¯¾ã—ã¦é€†å…ƒã‚’å–ã£ã¦ã‚‚å…ƒã®é›†åˆã¨ç­‰ã—ããªã‚Šã¾ã™ã€‚\n\n$$\n\\begin{aligned}\n1^{-1} \u0026= 1 \\pmod{10} \\\\\n3^{-1} \u0026= 7 \\pmod{10} \\\\\n7^{-1} \u0026= 3 \\pmod{10} \\\\\n9^{-1} \u0026= 9 \\pmod{10} \\\\\n\\{1, 3, 7, 9\\} \u0026= \\{1, 7, 3, 9\\}\n\\end{aligned}\n$$\n\nã“ã“ã§é€†å…ƒã‚’å–ã‚Œã‚‹é›†åˆã€ã¤ã¾ã‚Š $\\mathbb{Z}/N\\mathbb{Z}$ ã‹ã‚‰ $0$ ã‚„ $N$ ã®ç´„æ•°ã‚’é™¤ã„ãŸé›†åˆã‚’ $(\\mathbb{Z}/N\\mathbb{Z})^\\times$ ã¨åä»˜ã‘ã¾ã™ã€‚ãã—ã¦ $(\\mathbb{Z}/N\\mathbb{Z})^\\times$ ã¯ä¹—æ³•ã«ã¤ã„ã¦ç¾¤ã¨ãªã‚Šã¾ã™ã€‚ç‰¹ã«ç´ æ•° $p$ ã¨ã—ã¦ $(\\mathbb{Z}/p\\mathbb{Z})^\\times$ ã¯ $0$ ã®ã¿é™¤ã„ãŸé›†åˆã§ã¨ã¦ã‚‚æ‰±ã„ã‚„ã™ã„ã§ã™ã€‚\n\n$$\n\\begin{aligned}\n(\\mathbb{Z}/p\\mathbb{Z})^\\times \u0026= \\{1, 2, ..., p - 2, p - 1\\} \\\\\n\\end{aligned}\n$$\n\nã“ã®ã‚ˆã†ã«åŠ æ³•ã‚‚ä¹—æ³•ã‚‚ç¾¤ã¨ãªã£ã¦ã„ã‚‹é›†åˆã‚’ä½“ã¨å‘¼ã³ã¾ã™ã€‚ä½“ã§ã‚ã‚‹ã¨é¢å€’ãã•ã„å ´åˆåˆ†ã‘ã‚’ã—ãªãã¦æ¸ˆã‚€ã®ã§ã—ã°ã‚‰ãã¯æ³•ã‚’ç´ æ•°ã¨ã—ã¦è€ƒãˆã¾ã™ã€‚æ³•ãŒåˆæˆæ•°ã§ã‚‚äº’ã„ã«ç´ ãªã‚‰é€†å…ƒãŒã‚ã‚Šã¾ã™ã—ã€ãã®å¾Œã®å®šç¾©ã€å®šç†ã‚‚äº’ã„ã«ç´ ãªã‚‰å¤§ä½“æˆã‚Šç«‹ã¡ã¾ã™ã€‚\n\nã§ã¯é€†å…ƒã«ã¤ã„ã¦ä¸€é€šã‚Šåˆ†ã‹ã£ãŸã®ã§å®Ÿè£…ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\nTODO: æ‹¡å¼µãƒ¦ãƒ¼ã‚¯ãƒªãƒƒãƒ‰ã®äº’é™¤æ³•\n\n-----\n\nåŠ æ³•ã€ä¹—æ³•ã®ä»–ã«ã‚‚å®Ÿæ•°ã®ä¸–ç•Œã§æ‰±ã†ã‚ˆã†ãªæ¼”ç®—ã‚’ $N$ ã‚’æ³•ã¨ã™ã‚‹ä¸–ç•Œã§ã‚‚å®šç¾©ã§ãã¾ã™ã€‚\n\n#### å¹³æ–¹æ ¹ãƒ»ç´¯ä¹—æ ¹\nã‚ã‚‹æ•° $a$ ã«å¯¾ã— $x^2 = a \\pmod N$ ã¨ãªã‚‹ã‚ˆã†ãª $x$ ã‚’ $a$ ã®å¹³æ–¹æ ¹ $\\sqrt{a}$ ã¨ã™ã‚‹ã€‚ã¾ãŸ $x^n = a \\pmod N$ ã¨ãªã‚‹ $x$ ã‚’ $a$ ã®ç´¯ä¹—æ ¹ $\\sqrt[n]{a}$ ã¨ã™ã‚‹ã€‚\n\nå¹³æ–¹æ ¹ã‚„ç´¯ä¹—æ ¹ã®è§£ã¯å­˜åœ¨ã—ãªã„å ´åˆã‚„è¤‡æ•°ã‚ã‚‹å ´åˆãªã©ãŒã‚ã‚Šã¾ã™ã€‚å¾Œè¿°ã™ã‚‹ä¹—æ³•ã¨åŠ æ³•ã®é–¢ä¿‚ã‚’è¨¼æ˜ã™ã‚‹éš›ã«è£œé¡Œã¨ã—ã¦è¨¼æ˜ã™ã‚‹ã‚‚ã®ã‚’ç”¨ã„ã¦ã€$x^n = 1 \\pmod p$ ã®è§£ã®å€‹æ•°ã¯ $\\gcd(n, p-1)$ å€‹ã ã‘å­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¤ºã›ã¾ã™ã€‚\n# æœ¬å½“ã§ã™ã‹ï¼Ÿ\n\n#### å¯¾æ•°\nã‚ã‚‹æ•° $e, a$ ã«å¯¾ã— $e^x = a \\pmod N$ ã¨ãªã‚‹ã‚ˆã†ãª $x$ ã‚’ $e$ ã‚’åº•ã¨ã™ã‚‹ $a$ ã®å¯¾æ•° $\\log_e{a}$ ã¨ã™ã‚‹ã€‚\n\nå¯¾æ•°ã«é–¢ã—ã¦ã¯åŸå§‹æ ¹ã‚’åº•ã«ã™ã‚‹ã¨è§£ãŒä¸€æ„ã«æ±ºã¾ã‚Šã¾ã™ã€‚åŸå§‹æ ¹ã¨ã¯ãã®å€¤ã‚’ $a$ ã¨ãŠã„ã¦ $a^k \\bmod{p} \\ (k=0, \\ldots, p-2)$ ãŒãã‚Œãã‚Œé•ã†å€¤ã‚’å–ã‚‹æ•°ã§ã™ã€‚\n\nå…·ä½“ä¾‹\n\n$$\n\\begin{aligned}\n3 + 4 \u0026= 0 \u0026 \\pmod 7 \\\\\n3 - 4 \u0026= -1 = 6 \u0026 \\pmod 7 \\\\\n3 \\times 4 \u0026= 12 = 5 \u0026 \\pmod 7 \\\\\n3 \\div 4 \u0026= 3 \\times 4^{-1} = 3 \\times 2 = 6 \u0026 \\pmod 7 \\\\\n3^4 \u0026= 9^2 = 2^2 = 4 \u0026 \\pmod 7 \\\\\n\\sqrt{4} \u0026= 2, 5 \u0026 \\pmod 7 \\\\\n\\sqrt[3]{6} \u0026= 3, 5, 6 \u0026 \\pmod 7 \\\\\n\\log_3{6} \u0026= 3 \u0026 \\pmod 7 \\\\\n\\end{aligned}\n$$\n\n-----\n\nã“ã‚Œã§å‰°ä½™ä¸Šã®æ¼”ç®—ã¯ä¸€é€šã‚Šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ã•ã¦ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã¯ã“ã‚Œã‚‰ã‚’ã©ã®ã‚ˆã†ã«ã—ã¦è¨ˆç®—ã™ã‚‹ã®ã§ã—ã‚‡ã†ã‹ã€‚ä»£è¡¨çš„ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§çµ„ã‚“ã å ´åˆã ã¨ä»¥ä¸‹ã®è¡¨ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚(ç°¡å˜ã®ç‚ºã€åŸºæœ¬çš„ãªæ¼”ç®—ã®è¨ˆç®—é‡ã¯ãƒ“ãƒƒãƒˆæ•°ã«ä¾ã‚‰ãªã„ã¨ã™ã‚‹)\n\n| æ¼”ç®—                   | æ–¹æ³•                          | è¨ˆç®—é‡                      |\n| :--------------------  | :---------------------------- | :-------------------------: |\n| è¶³ã—ç®—   $a + b$       | è¶³ã—ã¦Nä»¥ä¸Šã«ãªã£ãŸã‚‰Nå¼•ã    | $O(1)$            |\n| å¼•ãç®—   $a - b$       | å¼•ã„ã¦0æœªæº€ã«ãªã£ãŸã‚‰Nè¶³ã™    | $O(1)$            |\n| æ›ã‘ç®—   $a \\times b$  | æ›ã‘ã¦Nã§å‰²ã£ãŸä½™ã‚Š           | $O(1)$            |\n| å‰²ã‚Šç®—   $a \\div b$    | æ‹¡å¼µãƒ¦ãƒ¼ã‚¯ãƒªãƒƒãƒ‰ã®äº’é™¤æ³•      | $O(\\log^2 N)$   |\n| ç´¯ä¹—     $a ^ e$       | ç¹°ã‚Šè¿”ã—äºŒä¹—æ³•                | $O(\\log N)$       |\n| å¹³æ–¹æ ¹   $\\sqrt{a}$    | Tonelli Shanksã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ   | $O(\\log^2 N)$   |\n| ç´¯ä¹—æ ¹   $\\sqrt[e]{a}$ | Tonelli Shanksã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ      | $O(\\min(N^{1/4},\\sqrt{e})\\log{e}\\log^2{N})$     |\n| å¯¾æ•°     $\\log_e{a}$   | é›¢æ•£å¯¾æ•°å•é¡Œ            | $O(\\sqrt{N})$     |\n(å‚è€ƒ: [æ•´æ•°è«–ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯é›†ã®pdf](https://kirika-comp.hatenablog.com/entry/2018/03/12/210446) ãªã©)\n\nãã‚Œãã‚Œã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯å‚è€ƒãªã©ã®è³‡æ–™ã‚’è¦‹ã¦ãã ã•ã„ã€‚ç´¯ä¹—ã¯å¤šé …å¼æ™‚é–“ã—ã‹æ›ã‹ã‚Šã¾ã›ã‚“ãŒã€ç´¯ä¹—æ ¹ã‚„å¯¾æ•°ã¯æŒ‡æ•°æ™‚é–“æ›ã‹ã‚‹ã¨ã„ã†ã“ã¨ã‚’é ­ã®éš…ã«ç½®ã„ã¦ãŠã„ã¦ãã ã•ã„ã€‚\n\nãã‚Œã¨å‰°ä½™ã¨åˆã‚ã›ã¦ã€æ™®æ®µã‚ˆãä½¿ã£ã¦ã„ã‚‹æ•´æ•° $\\mathbb{Z}$ ä¸Šã§ã®æ¼”ç®—ã¯ $\\bmod N$ ã¨å¯¾æ¯”ã—ã¦ $\\mathrm{over}\\ \\mathbb{Z}$ ã¨æ›¸ãã“ã¨ã«ã—ã¾ã™ã€‚\n\nã¾ã¨ã‚\nå®Ÿæ•°ã§æ‰±ã£ã¦ã„ã‚‹æ¼”ç®—ã¯å‰°ä½™ã§ã‚‚åŒã˜ã‚ˆã†ã«ã§ãã‚‹ã“ã¨ãŒã‚ã‚‹ã€‚\n\n## å‰°ä½™ä¸Šã®æ›ã‘ç®—ã¨è¶³ã—ç®—\n\nå‰°ä½™ã®ã“ã¨ãŒå°‘ã—ã‚ã‹ã£ãŸæ‰€ã§ç´¯ä¹—ã«ã¤ã„ã¦å°‘ã—æ·±ãæ˜ã‚Šä¸‹ã’ã¦ã¿ã¾ã™ã€‚\n\nç´¯ä¹—ã«é–¢ã™ã‚‹æœ‰åãªå®šç†ã¨ã—ã¦ãƒ•ã‚§ãƒ«ãƒãƒ¼ã®å°å®šç†ãŒã‚ã‚Šã¾ã™ã€‚\n\n-----\n\n#### ãƒ•ã‚§ãƒ«ãƒãƒ¼ã®å°å®šç†\n$p$ ã‚’ç´ æ•°ã¨ã—ã¦ã€$a \\neq 0 \\pmod p$ ã®ã¨ãæ¬¡ã®å¼ãŒæˆã‚Šç«‹ã¤ã€‚\n\n$$\na^{p-1} = 1 \\pmod p\n$$\n\nè¨¼æ˜\n$a \\neq 0 \\pmod p$ ã‚ˆã‚ŠåŒå€¤ãª $a^p = a \\pmod p$ ã‚’ç¤ºã™ã€‚$a = 1$ ã¯è‡ªæ˜ã§ã€ $a = k$ ã‚’ä»®å®šã™ã‚‹ã¨\n\n$$\n(k + 1)^p = k^p + {}_p\\mathrm{C}_1k + ... + 1 = k^p + 1 = k + 1 \\pmod p\n$$\n\nã‚ˆã‚Šæ•°å­¦çš„å¸°ç´æ³•ã‹ã‚‰æˆã‚Šç«‹ã¤ã€‚\n\n-----\n\næ•°å¼ã ã‘ã ã¨ã‚ã¾ã‚Šè‰¯ãã‚ã‹ã‚‰ãªã„ã®ã§å…·ä½“çš„ã« $\\bmod 7$ ã§è€ƒãˆã¦ã¿ã¾ã™ã€‚ $a^k$ ã‚’è¨ˆç®—ã—ãŸè¡¨ãŒã“ã¡ã‚‰ã«ãªã‚Šã¾ã™ã€‚\n\n| k ï¼¼ a |  1  |  2  |  3  |  4  |  5  |  6  |\n|:-----:|:---:|:---:|:---:|:---:|:---:|:---:|\n|   1   |  1  |  2  |  3  |  4  |  5  |  6  |\n|   2   |  1  |  4  |  2  |  2  |  4  |  1  |\n|   3   |  1  |  1  |  6  |  1  |  6  |  6  |\n|   4   |  1  |  2  |  4  |  4  |  2  |  1  |\n|   5   |  1  |  4  |  5  |  2  |  3  |  6  |\n|   6   |  1  |  1  |  1  |  1  |  1  |  1  |\n\nã“ã®ã‚ˆã†ã«ã©ã‚“ãª $a$ ã‚’ä½¿ã£ã¦è¨ˆç®—ã—ã¦ã‚‚å¿…ãš $a^6 = 1$ ã«ãªã‚Šã¾ã™ã€‚ã“ã‚ŒãŒä¸€èˆ¬ã®ç´ æ•° $p$ ã§æ³•ã‚’å–ã£ãŸãªã‚‰å¿…ãš $p-1$ ä¹—ã§ $1$ ã¨ãªã‚‹ã¨ã„ã†ä¸æ€è­°ãªå®šç†ã§ã™ã€‚\n\nã“ã“ã§ã¯ã“ã®å®šç†ã«ã¤ã„ã¦ã‚‚ã†å°‘ã—è†¨ã‚‰ã¾ã›ã¦ã¿ã¾ã™ã€‚\n\nãƒ•ã‚§ãƒ«ãƒãƒ¼ã®å°å®šç†ã§ã¯æŒ‡æ•°ã«ã¤ã„ã¦è€ƒãˆã¾ã—ãŸãŒé€†ã«å¯¾æ•°ã«ã¤ã„ã¦è€ƒãˆã¦ã¿ã¾ã™ã€‚å…·ä½“ä¾‹ã¨ã—ã¦å…ˆã»ã©ã® $\\bmod 7$ ã§ $\\log_3 n$ ã‚’è¨ˆç®—ã—ã¦ã¿ã¾ã™ã€‚\n\n|     $n$    |   $1$   |   $2$   |   $3$   |   $4$   |   $5$   |   $6$   |\n|:----------:|:-----:|:-----:|:-----:|:-----:|:-----:|:-----:|\n|  $n = 3^k$ | $3^0$ | $3^2$ | $3^1$ | $3^4$ | $3^5$ | $3^3$ |\n| $\\log_3 n$ |   $0$   |   $2$   |   $1$   |   $4$   |   $5$   |   $3$   |\n\nã˜ã£ãã‚Šè¦‹ã¦ã¿ã‚‹ã¨ã€å¯¾æ•°ã‚’å–ã£ãŸã‚‚ã®åŒå£«ã® $\\bmod 6$ ã§ã®è¶³ã—ç®—ã¯ãã‚Œã«å¯¾å¿œã™ã‚‹å€¤åŒå£«ã® $\\bmod 7$ ã®æ›ã‘ç®—ã¨ä¸€è‡´ã—ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ãŒè¦‹ãˆã¦ãã¾ã™ã€‚\n\n$$\n\\begin{aligned}\n4 \u0026\\times 6 = 3 \\pmod 7 \\\\\n\u0026\\downarrow \\log_3 \\\\\n4 \u0026+ 3 = 1 \\pmod 6 \\\\\n\\end{aligned}\n$$\n\nä»–ã®ç´ æ•°ã§è€ƒãˆã¦ã¿ã¦ã‚‚åŒã˜ã‚ˆã†ãªæ³•å‰‡ãŒæˆã‚Šç«‹ã¡ã€ä¸€èˆ¬ã« $\\bmod p$ ã§ã®ä¹—æ³•ã¯å¯¾æ•°ã‚’å–ã‚Œã° $\\bmod p - 1$ ã§ã®åŠ æ³•ã«å¤‰æ›ã§ãã‚‹ã¨ã„ã†ã“ã¨ãŒæˆã‚Šç«‹ã¡ãã†ã§ã™ã€‚ã“ã®ã‚ˆã†ãªæ€§è³ªã‚’åŒå‹ã¨å‘¼ã³ã€è¨˜å· $\\cong$ ã‚’ä½¿ã£ã¦ $(\\mathbb{Z}/p\\mathbb{Z})^\\times \\cong \\mathbb{Z}/(pâˆ’1)\\mathbb{Z}$ ã¨è¡¨ã—ã¾ã™ã€‚\n\n-----\n\n#### ä¹—æ³•ã¨åŠ æ³•ã®é–¢ä¿‚\n\n$$\n(\\mathbb{Z}/p\\mathbb{Z})^\\times \\cong \\mathbb{Z}/(pâˆ’1)\\mathbb{Z}\n$$\n\nè¨¼æ˜\nä»»æ„ã®ç´ æ•° $p$ ã®æ³•ã§åŸå§‹æ ¹ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¤ºã™ã€‚\nã¾ãš $n$ ãŒ $p - 1$ ã®ç´„æ•°ã§ã‚ã‚‹ã¨ã $x^n = 1$ ã¯ $n$ å€‹ã®è§£ã‚’æŒã¤ã“ã¨ã‚’ç¤ºã™ã€‚ä»®å®šã‚ˆã‚Š $p - 1 = nk$ ã¨ãŠã‘ã€æ¬¡ã®ãã‚Œãã‚Œã®å¼ã«ã¤ã„ã¦è§£ã®å€‹æ•°ã«ã¤ã„ã¦è€ƒãˆã‚‹ã€‚\n\n$$\nx^{p-1} - 1 = (x^n - 1)((x^n)^{k-1} + \\ldots + x^n + 1)\n$$\n\n$x^{p-1} - 1 = 0$ ã¯ãƒ•ã‚§ãƒ«ãƒãƒ¼ã®å°å®šç†ã‚ˆã‚Š $p - 1$ å€‹\n$(x^n)^{k-1} + \\ldots + x^n + 1 = 0$ ã¯ä»£æ•°å­¦ã®åŸºæœ¬å®šç†ã‚ˆã‚Š $n(k-1)$ å€‹ä»¥ä¸‹\nã‚ˆã£ã¦ $x^{n} - 1 = 0$ ã¯è§£ã®å€‹æ•°ã‚’æ¯”è¼ƒã—ã¦ $n$ å€‹å­˜åœ¨ã™ã‚‹ã€‚\n\nã“ã‚Œã‚ˆã‚Š $p-1$ ã¨äº’ã„ã«ç´ ãªæ•°ã®å€‹æ•°ã ã‘åŸå§‹æ ¹ãŒå­˜åœ¨ã™ã‚‹ã€‚\n\nåŸå§‹æ ¹ $a$ ã‚’1ã¤é¸ã‚“ã§ãã‚‹ã¨ $a^k \\bmod{p} \\ (k=0, \\ldots, p-2)$ ã¯ãã‚Œãã‚Œé•ã†å€¤ã‚’å–ã‚Šã€$(\\mathbb{Z}/p\\mathbb{Z})^\\times, \\mathbb{Z}/(pâˆ’1)\\mathbb{Z}$ ã‚’å¯¾å¿œã•ã›ã‚‹ã€‚ãã—ã¦å‰°ä½™ä¸Šã®æŒ‡æ•°æ³•å‰‡ $a^m \\times a^n = a^{m + n} \\pmod p$ ã¯æˆã‚Šç«‹ã¤ã€‚ã‚ˆã£ã¦ $(\\mathbb{Z}/p\\mathbb{Z})^\\times \\cong \\mathbb{Z}/(pâˆ’1)\\mathbb{Z}$ ã§ã‚ã‚‹ã€‚\n\n-----\n\n:::details\nã¾ãŸã€æ³•ã®æ•°ã‚’ç´ æ•°ã‹ã‚‰ä¸€èˆ¬ã®è‡ªç„¶æ•°ã«ä¸€èˆ¬åŒ–ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n\n-----\n\n#### ã‚«ãƒ¼ãƒã‚¤ã‚±ãƒ«ã®å®šç†\n\n$$\n\\begin{aligned}\n(\\mathbb{Z}/p_1^{e_1}\\ldots p_n^{e_n}\\mathbb{Z})^\\times \u0026\\cong (\\mathbb{Z}/p_1^{e_1}\\mathbb{Z})^\\times \\times \\ldots \\times (\\mathbb{Z}/p_n^{e_n}\\mathbb{Z})^\\times\\\\\n(\\mathbb{Z}/2^e\\mathbb{Z})^Ã— \u0026â‰… \\left\\{\n\\begin{array}{ll}\n\\mathbb{Z}/1\\mathbb{Z} \u0026 (e = 1) \\\\\n\\mathbb{Z}/2\\mathbb{Z} \\times \\mathbb{Z}/2^{e-2}\\mathbb{Z} \u0026 (e \\geq 2)\n\\end{array}\n\\right.\\\\\n(\\mathbb{Z}/p^e\\mathbb{Z})^Ã— \u0026â‰… \\mathbb{Z}/p^{e-1}(pâˆ’1)\\mathbb{Z} \\\\\n\\end{aligned}\n$$\n\nè¨¼æ˜\nã›ãã‚…ãƒ¼ã‚“ã•ã‚“ã®è¨˜äº‹ãŒãŠã™ã™ã‚ã§ã™ã€‚\nhttps://integers.hatenablog.com/entry/2016/07/24/163831\nhttps://integers.hatenablog.com/entry/2017/06/08/191649\n\n-----\n:::\n\nã“ã†ã—ã¦æ›ã‘ç®—ã‚’è¶³ã—ç®—ã«ç½®ãæ›ãˆã‚‰ã‚Œã€å•é¡ŒãŒç°¡å˜ã«ã§ãã‚‹ã“ã¨ãŒå¤šã„ã§ã™ã€‚\n\n#### RSAæš—å·ãŒè§£ã‘ã‚‹ï¼Ÿ\nRSAæš—å·ã¯ã“ã‚Œã‚’ä½¿ãˆã°ç°¡å˜ã«è§£ã‘ã¾ã™ã€‚\nRSAã¯ $c = m^e \\pmod {N}$ ã¨ã„ã†å¼ã«ã¤ã„ã¦ $e, c$ ãŒåˆ†ã‹ã£ã¦ã„ã‚‹ã®ã§ç´¯ä¹—æ ¹ã‚’æ±‚ã‚ã‚‹å•é¡Œãªã®ã§ã™ãŒã€åŸå§‹æ ¹ $a$ ã§å¯¾æ•°ã‚’å–ã‚‹ã¨ã‚«ãƒ¼ãƒã‚¤ã‚±ãƒ«ã®å®šç†ã‚ˆã‚Š\n\n$$\n\\begin{aligned}\nc \u0026= m^e \u0026 \\pmod {N} \\\\\nm \u0026= c^{1/e} \u0026 \\pmod {N} \\\\\n\\end{aligned}\n$$\n\nã¨ç´¯ä¹—æ ¹ã‚’è¨ˆç®—ã§ãã¾ã™ã€‚\n\nã“ã“ã¾ã§ã¯æ•°å­¦ã®è©±ã§ã—ãŸãŒã€ã“ã“ã‹ã‚‰è¨ˆç®—æ©Ÿç§‘å­¦ã«ç§»ã‚Šã¾ã™ã€‚\n\nç¢ºã‹ã«ã€æ›ã‘ç®—ã‚’è¶³ã—ç®—ã«å¤‰æ›ã™ã‚‹ã“ã¨ã§ç°¡å˜ãªå•é¡Œã«ãªã‚Šã¾ã™ã€‚ã—ã‹ã—ã€ãã‚Œä»¥å‰ã«ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãŒå‰°ä½™ä¸Šã®å¯¾æ•°ã‚’è¨ˆç®—ã™ã‚‹äº‹ã¯çµæ§‹é›£ã—ãã€é›¢æ•£å¯¾æ•°å•é¡Œ (DLP: Discrete Logarithm Problem) ã¨å‘¼ã°ã‚Œã€ç¾åœ¨è¦‹ã¤ã‹ã£ã¦ã„ã‚‹æœ€ã‚‚é€Ÿã„ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã‚‚å®Œå…¨æŒ‡æ•°æ™‚é–“ã‚‚æ›ã‹ã‚Šã¾ã™ã€‚\n\nã§ã¯è«¦ã‚ã¦æ›ã‘ç®—ã ã‘ã§è§£ãã€ã¨ã„ã†ã ã‘ã§ã¯ãªãä»–ã«1ã¤æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚ç›´æ¥æ•°ã«å¯¾å¿œã•ã›ãªãã¦ã‚‚ã€ã‚ã‚‹æ•°ã ã‘ç´¯ä¹—ã™ã‚‹ã¨ $1$ ã‚„ $-1$ ã«ãªã‚‹ã¨ã„ã†æƒ…å ±ã‚’ä½¿ã†ã“ã¨ã§ã‚ã‚‹ç¨‹åº¦æƒ…å ±ã‚’å¼•ãå‡ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚ã„ã‚ã‚†ã‚‹å¹³æ–¹å‰°ä½™ã¨å‘¼ã°ã‚Œã‚‹ã‚‚ã®ãªã©ã§ã™ã€‚\n\n$$\nn^{\\frac{p-1}{2}}\n$$\n\nä¾‹ãˆã° Tonelli Shanks ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯å¹³æ–¹å‰°ä½™ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚\n\nå‰°ä½™ä¸Šã®å¹³æ–¹æ ¹ã‚’è¨ˆç®—ã™ã‚‹ã“ã¨ã«ã¤ã„ã¦ã˜ã£ãã‚Šè€ƒãˆã¦ã¿ã¾ã™ã€‚å®šç¾©ã‚ˆã‚Š $x^2 = a \\pmod p$ ã¨ãªã‚‹ $x$ ã‚’æ±‚ã‚ã‚Œã°ã‚ˆã„ã§ã™ã€‚\nã¾ãšã¯å…·ä½“çš„ã« $\\bmod 13$ ã®å ´åˆã«ã¤ã„ã¦å¹³æ–¹æ ¹ã‚’å…¨ã¦æ±‚ã‚ã¦ã¿ã¾ã™ã€‚\n\n| $n$ | $2^0$ | $2^1$ | $2^2$ | $2^3$ | $2^4$ | $2^5$ | $2^6$ | $2^7$ | $2^8$ | $2^9$ | $2^{10}$ | $2^{11}$ |\n|:--------:|:-:|:-:|:--:|:--:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|\n| $\\sqrt{n}$ | $2^0, 2^6$ | ãªã— | $2^1, 2^7$ | ãªã— | $2^2, 2^8$ | ãªã— | $2^3, 2^9$ | ãªã— | $2^4, 2^{10}$ | ãªã— | $2^5, 2^{11}$ | ãªã— |\n\nã¨ã“ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n\nä¾‹ãˆã° $\\sqrt{10} \\pmod{13}$ ã«ã¤ã„ã¦ã¯ $\\sqrt{10} = \\sqrt{2^{10}} = 2^5, 2^{11} = 6, 7 \\pmod{13}$ ã¨ãªã‚Šã¾ã™ã€‚ã“ã®ã‚ˆã†ã« DLP ãŒè§£ã‘ã‚‹ã¨ãã€ã¤ã¾ã‚Šè‚©ã®æ•°ãŒã‚ã‹ã‚‹ãªã‚‰ã€ãã‚Œã‚’åŠåˆ†ã«ã™ã‚‹ã ã‘ã§å¹³æ–¹æ ¹ã¨ãªã‚Šã¾ã™ã€‚\n\nã§ã¯ DLP ãŒè§£ã‘ãªã„ã¨ãã¯ã©ã†ã™ã‚Œã°ã‚ˆã„ã®ã§ã—ã‚‡ã†ã‹ã€‚\n\næœ€åˆã«æ€ã„ã¤ãã®ã¯ $2^{-1} \\bmod p-1$ ä¹—ã™ã‚Œã°å¹³æ–¹æ ¹ã«ãªã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚ã—ã‹ã— $2$ ã¨ $p-1$ ã¯äº’ã„ã«ç´ ã§ã¯ãªã„ã®ã§ $2$ ã®é€†æ•°ã‚’å®šç¾©ã§ãã¾ã›ã‚“ã€‚ãªã®ã§ä¸€æ—¦é€†æ•°ã‚’å®šç¾©ã§ãã‚‹ã¨ã“ã‚ã ã‘ã‚„ã£ã¦ã€å¾Œã§å®šç¾©ã§ããªã„éƒ¨åˆ†ã‚’è€ƒãˆã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚\n\n$$\n(\\mathbb{Z}/13\\mathbb{Z})^Ã—â‰…\\mathbb{Z}/12\\mathbb{Z}â‰…\\mathbb{Z}/3\\mathbb{Z}\\times\\mathbb{Z}/2^2\\mathbb{Z}\n$$\n\nä¸­å›½å‰°ä½™å®šç†ã‹ã‚‰ä¸Šã®ã‚ˆã†ã«åˆ†è§£ã§ãã€$\\bmod 3$ ãªã‚‰ $2$ ã®é€†æ•°ãŒå®šç¾©ã§ãã‚‹ã®ã§ $2^{-1} \\bmod 3  = 2$ ä¹—ã—ã¾ã™ã€‚ã™ã‚‹ã¨ $10^2 = 9 \\pmod{13}$ ã¨ãªã‚Šã€ã“ã‚Œã¯ $9 = 2^8 \\pmod{13}$ ã§ä¸‹ã®è¡¨ã‚’ã¿ã‚‹ã¨ã—ã£ã‹ã‚Š $8$ ã¯ $5, 11$ ã®ã‚ã‚‹ $2 \\bmod 3$ ã®è¡Œã«ã‚ã‚Šã¾ã™ã€‚ã“ã“ã‹ã‚‰ä¸Šä¸‹ã«å‹•ã‹ã•ãšã«å·¦å³ã ã‘ã‚’å‹•ã‹ã—ã¦æœ¬å½“ã®å¹³æ–¹æ ¹ã‚’æ±‚ã‚ã¾ã™ã€‚\n\n| $\\times$ | 0 | 1 |  2 |  3 |\n|:--------:|:-:|:-:|:--:|:--:|\n|     0    | 0 | 9 |  6 |  3 |\n|     1    | 4 | 1 | 10 |  7 |\n|     2    | 8 | 5 |  2 | 11 |\n\næœ¬å½“ã®å¹³æ–¹æ ¹ã‚’æ±‚ã‚ã‚‹ç‚ºã«èª¤å·®ã‚’å–ã‚Šé™¤ãã“ã¨ãŒå¿…è¦ã§ã™ã€‚èª¤å·®ã¨ã¯ $x$ ãŒå¹³æ–¹æ ¹ã§ã‚ã‚Œã° $a^{-1}x^2 = 1 \\pmod p$ ã¨ãªã‚‹ã®ã«å¯¾ã—ã€ç¾åœ¨ä»®ã«æ±‚ã¾ã£ã¦ã„ã‚‹å¹³æ–¹æ ¹ãŒ $x=9$ ã§ã‚ã‚‹ã‹ã‚‰ $a^{-1}x^2 = 10^{-1}9^2 = 2 \\pmod{13}$ ã¨ç•°ãªã£ã¦ã„ã‚‹ã“ã®èª¤å·®ã§ã™ã€‚\n\nã“ã®èª¤å·®ã‚’ã‚ˆã‚Šè©³ã—ãèª¿ã¹ã‚‹ç‚ºã«ç´¯ä¹—ã—ã¦æƒ…å ±ã€è‚©ã®æ•°ã® trailing zero ( $\\bmod 2^n$ ä¸Š)ã‚’æ±‚ã‚ã¾ã™ã€‚trailing zero ã¨ã¯2é€²æ•°ã§è€ƒãˆãŸã¨ãã«æœ«å°¾ã«0ãŒä½•å€‹ã‚ã‚‹ã®ã‹ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚ä¾‹ãˆã° 8 ã§ã‚ã‚Œã° 1000 ã‚ˆã‚Š 3 ã¨ãªã‚Šã€10 ã§ã‚ã‚Œã° 1010 ã§ 1 ã¨ãªã‚Šã¾ã™ã€‚\n\nä¾‹ãˆã° $s = a^{-1}x^2$ ã«ã¤ã„ã¦ã“ã‚“ãªã“ã¨ãŒæˆã‚Šç«‹ã¤ã¨ã—ã¾ã™ã€‚\n\n$$\ns \\neq 1, s^2 \\neq 1, s^4 \\neq 1, s^8 = 1\n$$\n\nã“ã®å ´åˆã€è‚©ã®æ•°ã¯1,2,4å€ã—ã¦ã‚‚0ã«ã¯ãªã‚‰ãšã€ã¡ã‚‡ã†ã©8å€ã—ã¦0ã«ãªã‚‹æ•°ã§ã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚ã¤ã¾ã‚Š $\\underbrace{bb1000\\ldots}_n$ ã¨ã„ã†ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã¯ãšã§ã™(åˆ†ã‹ã‚‰ãªã„ãƒ“ãƒƒãƒˆã¯ $b$ ã¨ã—ã¦ã„ã¾ã™)ã€‚ã“ã‚Œã‚ˆã‚Š trailing zero ã¯ $n - 3$ ã¨åˆ†ã‹ã‚Šã¾ã™ã€‚\n\nã“ã‚Œã«åŠ ãˆã¦å¹³æ–¹å‰°ä½™ã§ã¯ãªã„æ•° $u$ ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«å–ã£ã¦ãã¦ $q$ ä¹—ã—ã¾ã™ã€‚å¹³æ–¹å‰°ä½™ã§ã¯ãªã„ã®ã§è‚©ã®æ•°ã¯å¥‡æ•°ã€ã¤ã¾ã‚Šä¸€ç•ªä¸‹ã®ãƒ“ãƒƒãƒˆãŒ $1$ ã§ã‚ã‚‹ã“ã¨ãŒåˆ†ã‹ã£ã¦ã¾ã™ã€‚ã™ã‚‹ã¨ã“ã®è‚©ã®æ•°ã‚’ $n - 4$ ã ã‘å·¦ã‚·ãƒ•ãƒˆã™ã‚Œã°ãã®2ä¹—ã¯ $\\underbrace{bb1000\\ldots}_n$ ã¨ãªã‚Šã€ãã‚Œã¨ $x$ ã‚’æ›ã‘åˆã‚ã›ã‚‹ã“ã¨ã§$bb1000\\ldots + bb1000\\ldots = bb0000\\ldots$ ã¨æœ€ä¸‹ä½ãƒ“ãƒƒãƒˆã‚’ 0 ã«ã§ãã¦èª¤å·®ã®å¯¾æ•°ã® trailing zero ã‚’å¢—ã‚„ã—ã¦ã„ãã“ã¨ãŒã§ãã¾ã™ã€‚ãã—ã¦æœ€çµ‚çš„ã«å…¨ã¦ 0 ã«ãªã£ãŸã¨ãã€èª¤å·®ã¯ãªããªã‚Šã¾ã™ã€‚\n\nã¤ã¾ã‚Š $\\sqrt{a} \\pmod{p}$ ã‚’è¨ˆç®—ã™ã‚‹ã«ã¯æ¬¡ã‚’è¡Œãˆã°ã‚ˆã„ã§ã™ã€‚\n\n1. $p - 1 = q \\times 2^e$ ã‹ã‚‰ $2^{-1} \\pmod q = (q + 1)/2$ ä¹—ã™ã‚‹ã€‚\n2. $a^{-1}x^2$ ã®å¯¾æ•°ã® trailing zero $t$ ã‚’æ±‚ã‚ã€éå¹³æ–¹å‰°ä½™ $u$ ã‚’ç”¨ã„ã¦ $\\mathrm{pow}(u^q, 2^{e - t - 1})$ ã‚’ $x$ ã«æ›ã‘ã‚‹ã“ã¨ã‚’ç¹°ã‚Šè¿”ã™ã€‚\n\nã“ã‚Œã‚’ Tonelli Shanks ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨å‘¼ã³ã¾ã™ã€‚\n\nã¾ã¨ã‚\nç´¯ä¹—ã¯æ§˜ã€…ãªæƒ…å ±ã‚’æŒã£ã¦ã„ã‚‹ã€‚\n\n## RSAæš—å·\n\nã‚ˆã†ã‚„ãRSAæš—å·ã§ã™ã€‚\n\nRSAæš—å·ã¨ã¯å‰°ä½™ä¸Šã§ã®ç´¯ä¹—ã¯ç°¡å˜ã§ã‚‚ç´¯ä¹—æ ¹ã¯é›£ã—ã„ã¨ã„ã†éå¯¾ç§°æ€§ã‚’ä½¿ã£ãŸæš—å·ã§ã™ã€‚\n\näº‹å‰ã«å¤§ããªç´ æ•° $p, q$ ã¨è‡ªç„¶æ•° $e$ ã‚’ç”Ÿæˆã—ã€$N = pq$ ã‚’å…¬é–‹ã—ã¾ã™ã€‚(ç´ æ•°ç”Ÿæˆã®æ–¹æ³•ã¯ã‚³ãƒ©ãƒ ã¸)\nãã—ã¦å¹³æ–‡ $m$ ã«å¯¾ã—ã¦æš—å·æ–‡ã‚’ $m^e \\bmod N$ ã¨ã—ã¾ã™ã€‚ãã—ã¦å¾©å·åŒ–ã«ã¤ã„ã¦ã¯é€†ã« $e^{-1}$ ä¹—ã—ã¾ã™ã€‚å…·ä½“çš„ã«ã¯ã‚«ãƒ¼ãƒã‚¤ã‚±ãƒ«ã®å®šç†ã‹ã‚‰ $(\\mathbb{Z}/pq\\mathbb{Z})^Ã—â‰…\\mathbb{Z}/\\mathrm{lcm}((pâˆ’1), (q-1))\\mathbb{Z}$ ã‚ˆã‚Š $\\phi(N) = (p - 1)(q - 1)$ ã¨ã—ã¦ $d = e^{-1} \\pmod{\\phi(N)}$ ä¹—ã™ã‚Œã° $m$ ã‚’å¾©å·ã§ãã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nc \u0026= m^e \u0026\\pmod N \\\\\nm \u0026= c^{d} \u0026\\pmod N\n\\end{aligned}\n$$\n\nã“ã“ã§ $N, e$ ã‚’çŸ¥ã£ã¦ã„ã¦ã‚‚ $p, q, d$ ã„ãšã‚Œã‚‚çŸ¥ã‚‰ãªã„ã¨ãã€ç´ å› æ•°åˆ†è§£ã®è¨ˆç®—å›°é›£æ€§ã‹ã‚‰å¾©å·åŒ–ã¯é›£ã—ã„ã¨ã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚’ç”¨ã„ãŸæš—å·ã‚’RSAæš—å· (Rivest-Shamir-Adleman encryption) ã¨å‘¼ã³ã¾ã™ã€‚\n\nå…·ä½“çš„ã«ã¯æ¬¡ã®æ‰‹é †ã§æš—å·åŒ–ã•ã‚ŒãŸé€šä¿¡ã—ã¾ã™ã€‚\n\n1. AliceãŒBobã«å…¬é–‹éµ $N, e$ ã‚’æ¸¡ã™\n2. Bobã¯å…¬é–‹éµã‚’ç”¨ã„ã¦å¹³æ–‡ã‚’æš—å·åŒ–\n3. Bobã‹ã‚‰Aliceã¸æš—å·æ–‡ã‚’é€ã‚‹\n4. Aliceã¯ç§˜å¯†éµ $p, q$ ã‚’ç”¨ã„ã¦å¾©å·åŒ–ã—ã€å¹³æ–‡ã‚’å¾—ã‚‹\n\nã“ã“ã«å›³\n\nã“ã®ã‚ˆã†ã«ã—ã¦é€ã£ã¦ã„ã‚‹æœ€ä¸­ã«ç›—è´ã•ã‚Œã¦ã‚‚ç§˜å¯†éµãŒãªã‘ã‚Œã°è§£èª­ã§ããšã€å®‰å…¨ãªé€šä¿¡ãŒã§ãã¾ã™ã€‚ã¾ãŸã“ã‚Œè‡ªä½“ã¯ä¸€æ–¹å‘é€šä¿¡ã§ã™ãŒã€é€†ã‚‚åŒæ§˜ã«è¡Œãˆã°åŒæ–¹å‘é€šä¿¡ã‚‚ã§ãã¾ã™ã€‚\n\nå®Ÿè£…ã™ã‚‹ã«ã¯ãã‚Œãã‚Œã®å…·ä½“çš„ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã¤ã„ã¦çŸ¥ã£ã¦ãŠãã¾ã—ã‚‡ã†ã€‚\n$e$ ã¯æ…£ä¾‹çš„ã« `0x10001 = 65537` ãŒä½¿ã‚ã‚Œã¦ã„ã¾ã™ã€‚æ”»æ’ƒã•ã‚Œãªã„ã‚ˆã†ãªä¸åº¦ã‚ˆã„å¤§ãã•ã®æ•°ã§ã‚ã‚Šã€ã‹ã¤æš—å·åŒ–ã™ã‚‹éš›ã«ãƒã‚¤ãƒŠãƒªæ³•ã‚’ç”¨ã„ã‚‹ã¨ç´ æ—©ãè¨ˆç®—ã§ãã‚‹æ•°ã§ã‚ã‚‹ã¨ã„ã†ç†ç”±ãŒæŒ™ã’ã‚‰ã‚Œã¾ã™ã€‚\n\n```python\nfrom Crypto.Util.number import getPrime, long_to_bytes, bytes_to_long\n\np = getPrime(512)\nq = getPrime(512)\nN = p * q\nphi = (p - 1) * (q - 1)\ne = 0x10001\nd = pow(e, -1, phi)\n\ndef encrypt(plaintext):\n    m = bytes_to_long(plaintext)\n    c = pow(m, e, N)\n    cipher = long_to_bytes(c)\n    return cipher\n\ndef decrypt(cipher):\n    c = bytes_to_long(cipher)\n    m = pow(c, d, phi)\n    plaintext = long_to_bytes(m)\n    return plaintext\n\ncipher = encrypt(b\"This is RSA\")\nprint(cipher)\n#\nplaintext = decrypt(cipher)\nprint(plaintext)\n# This is RSA\n```\n\n:::details ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®èª¬æ˜\n| pycryptodomeãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®é–¢æ•° | èª¬æ˜                                          |\n| :--                          | :--                                           |\n| `getPrime(n)`                  | n bité•·ã®ãƒ©ãƒ³ãƒ€ãƒ ãªç´ æ•°ã‚’ç”Ÿæˆ                 |\n| `bytes_to_long(bytes)`         | ãƒã‚¤ãƒˆæ–‡å­—åˆ—ã‚’ASCIIã¨ã—ã¦ãƒ‡ã‚³ãƒ¼ãƒ‰ã—æ•°ã«å¤‰æ›   |\n| `long_to_bytes(n)`             | æ•°ã‚’ASCIIã¨ã—ã¦ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã—ãƒã‚¤ãƒˆæ–‡å­—åˆ—ã«å¤‰æ› |\n:::\n\n## ç´ å› æ•°åˆ†è§£\n\nã‚‚ã—å·¨å¤§ãªæ•°ã®ç´ å› æ•°åˆ†è§£ãŒç°¡å˜ã«è§£ã‘ã‚‹ã¨ã™ã‚‹ã¤ã¾ã‚Šå…¬é–‹éµ N ã‚’ç´ å› æ•°åˆ†è§£ã—ã¦ç§˜å¯†éµ p,q ãŒæ±‚ã‚ã‚‰ã‚Œã‚‹ã¨ã©ã†ãªã‚‹ã‹ã€‚ Ï•,d ã‚’æ±‚ã‚ã‚‰ã‚Œã€ä»»æ„ã®æš—å·æ–‡ã‚’å¾©å·åŒ–ã§ãã¦ã—ã¾ã„ã¾ã™ã€‚\n\næš—å·åŒ–ã¯ç°¡å˜ã§ã‚‚å¾©å·åŒ–ã¯é›£ã—ã„ã¨ã„ã†éå¯¾ç§°æ€§ã‚’ç”¨ã„ã¦æš—å·ã¯ä½œã‚‰ã‚Œã¾ã™ã€‚\n\nä»£è¡¨çš„ãªæš—å·ã®å®‰å…¨æ€§ã®æ ¹æ‹ \n- RSAæš—å· ç´ å› æ•°åˆ†è§£\n- ElGamalæš—å· DLP\n- æ¥•å††æ›²ç·šæš—å· ECDLP\n\n## ç´ å› æ•°åˆ†è§£ã™ã‚‹æ–¹æ³•ã¯ãªã«ãŒã‚ã‚‹ã®ã‹\n\nç´ å› æ•°åˆ†è§£ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯ Pollard-$\\rho$ æ³•ã€p-1 æ³•ãªã©ãŒã‚ã‚Šã¾ã™ãŒã€ä»Šå›ã¯æ¯”è¼ƒçš„ç°¡å˜ã§æ±ç”¨çš„ã«é©ç”¨ã§ãã‚‹ Pollard-$\\rho$ æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚\n\nèª•ç”Ÿæ—¥ã®ãƒ‘ãƒ©ãƒ‰ãƒƒã‚¯ã‚¹ã‚’èã„ãŸã“ã¨ã‚ã‚Šã¾ã™ã‹ï¼Ÿ èª•ç”Ÿæ—¥ãŒåŒã˜ãª2äººã‚’è¦‹ã¤ã‘ãŸã„ã¨ãã«äººã‚’ä½•äººé›†ã‚ã‚Œã°ãã†ãªã‚‹ç¢ºç‡ãŒ50%ã‚’è¶…ãˆã‚‹ã®ã‹ã¨ã„ã†å•é¡Œã§ã™ã€‚é³©ãƒå·£åŸç†ã‹ã‚‰366äººã„ã‚Œã°å¿…ãšåŒã˜èª•ç”Ÿæ—¥ã®äººãŒå‡ºã¦ãã¾ã™ã€‚ã•ã¦ã€åŒã˜èª•ç”Ÿæ—¥ã®çµ„ãŒ 50% ã®ç¢ºç‡ã§ã„ã‚‹å ´åˆã€ä½•äººã„ã‚Œã°ã‚ˆã„ã§ã—ã‚‡ã†ã‹ã€‚\n\nç­”ãˆã¯ 23 äººã„ã‚Œã°ååˆ†ã§ã™ã€‚\n\nã“ã‚Œã‚’ä½¿ã£ã¦ç´ å› æ•°åˆ†è§£ã™ã‚‹æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚\n\n$\\bmod p$ ä¸Šã§åŒã˜2ã¤ã®æ•°ã‚’è¦‹ã¤ã‘ãŸã„ã¨ãã« $\\sqrt{p\\ln 4} \\fallingdotseq 1.18\\sqrt{p}$ ã ã‘é›†ã‚ã‚Œã° 50% ã®ç¢ºç‡ã§è¦‹ã¤ã‹ã‚Šã¾ã™ã€‚ãã—ã¦ãã®å·®ã¯ $p$ ã®å€æ•°ã¨ãªã£ã¦ã„ã‚‹ãŸã‚ã€ã“ã‚Œã¨ $N$ ã§æœ€å¤§å…¬ç´„æ•°ã‚’å–ã£ã¦ç´ å› æ•° $p$ ã‚’æ±‚ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n\nã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ä¸Šã§ã¯ãƒ©ãƒ³ãƒ€ãƒ ãªæ•°ã‚’é›†ã‚ã‚‹ç‚ºã«æ“¬ä¼¼çš„ãªä¹±æ•°ã‚’ç”Ÿæˆã™ã‚‹é–¢æ•° $f$ ã‚’ç”¨ã„ã¦æœ€å¤§å…¬ç´„æ•°ãŒ $p$ ã«ãªã‚‹ã¾ã§å›ã—ç¶šã‘ã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nf(x) \u0026= x^2 + c \\pmod N \\\\\nx_{i+1} \u0026= f(x_i) \\\\\ny_{i+1} \u0026= f(f(y_i)) \\\\\np \u0026= \\gcd(N, |x_i - y_i|) \\\\\n\\end{aligned}\n$$\n\nè¨ˆç®—é‡ã¯ $O(\\sqrt{p})$ ã§ $N \\approx 10^{20}$ ãã‚‰ã„ã¾ã§ãªã‚‰ç¾å®Ÿçš„ãªæ™‚é–“ã§ç´ å› æ•°åˆ†è§£ã§ãã¾ã™ã€‚\nã»ã‚“ã¾ã‹ï¼Ÿ\n\nä¸Šã®æ–¹æ³•ã ã¨å®Œå…¨æŒ‡æ•°æ™‚é–“æ›ã‹ã‚Šã¾ã™ãŒãã‚Œã‚ˆã‚Šé€Ÿã„æº–æŒ‡æ•°æ™‚é–“ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€Index calculus ã‚„æ•°ä½“ãµã‚‹ã„æ³•ãªã©ãŒã‚ã‚Šã¾ã™ã€‚\næ•´æ•°ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«é¸ã‚“ã§ããŸã¨ãã€ãã‚Œã¯å°ã•ã„ç´ æ•°ã€ãŸã¨ãˆã° 2, 3, 5, 7 ãªã©ã®ã¹ãä¹—ã‚’æ›ã‘åˆã‚ã›ãŸã‚‚ã®ã€è¨€ã„æ›ãˆã‚‹ã¨ã€ã“ã‚Œã‚‰ã®å°ã•ã„ç´ æ•°ã ã‘ã§ç”Ÿæˆã•ã‚Œã‚‹ã‚‚ã®ã«ãªã‚‹ç¢ºç‡ã¯é«˜ã„ã“ã¨ãŒçŸ¥ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚‰ã®å°ã•ãªç´ æ•°ã‚’ã€Œãƒ•ã‚¡ã‚¯ã‚¿ãƒ¼ãƒ™ãƒ¼ã‚¹ã€ã“ã‚Œã‚‰ã®æ•°ãŒæš—å·ã«ä½¿ã‚ã‚Œã¦ã„ã‚‹æ•°ã«æ¯”ã¹ã¦å¤§å¤‰å°ã•ãã€ãŸã¨ãˆã°ãã®æº–æŒ‡æ•°é–¢æ•°ã®ã‚µã‚¤ã‚º\n\n:::details é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿\næœ€è¿‘ã¯é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãŒé–‹ç™ºã•ã‚Œã¦ãŠã‚Šã€å¤å…¸è¨ˆç®—æ©Ÿã§ã¯æŒ‡æ•°æ™‚é–“æ›ã‹ã‚‹å•é¡Œã‚‚å¤šé …å¼æ™‚é–“ã§è§£ã‘ã‚‹ã‚ˆã†ã«ãªã‚‹ã¨ã„ã†ç”»æœŸçš„ãªæŠ€è¡“ã§ã™ã€‚ç´ å› æ•°åˆ†è§£ã‚‚ãã®ç¯„ç–‡ã§ã‚ã‚Šã€Shorã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ç”¨ã„ã¦ $O((\\logâ¡N)^2)$ ã§ã™ã€‚\nãã“ã§é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã§ã‚‚è§£ã‘ãªã„ã‚ˆã†ãªæš—å·ã€è€é‡å­æš—å·ãŒé–‹ç™ºã•ã‚Œã¦ã„ã¾ã™ã€‚ä»£è¡¨çš„ãªæš—å·ã¯æ ¼å­æš—å·ã‚„ç¬¦å·æš—å·ãªã©ãŒã‚ã‚Šã¾ã™ã€‚è©³ã—ãã¯æ¥•å††æ›²ç·šæš—å·\n:::\n\n#### è¿‘ã„å€¤ã®ç´ æ•°ã‚’ä½¿ã£ã¦ã¯ã„ã‘ãªã„ (Fermat's Method)\n\n$p, q$ ãŒè¿‘ã„ã¨ä¸­å¿ƒã‹ã‚‰é †ã«èª¿ã¹ã‚‹ã“ã¨ã§ç´ æ•°ã®çµ„ã‚’è¦‹ã¤ã‘ã‚‰ã‚Œã¾ã™ã€‚æ§˜ã€…ãªæ¢ç´¢ã®æ–¹æ³•ãŒã‚ã‚Šã¾ã™ãŒã€ä»¥ä¸‹ã®ã‚ˆã†ãªæ–¹æ³•ãŒã‚ˆãç”¨ã„ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nN \u0026= pq \\\\\n  \u0026= (x + y)(x - y) \\\\\n  \u0026= x^2 - y^2 \\\\\ny^2 \u0026= x^2 - N \\\\\n\\end{aligned}\n$$\n\nã‚ˆã‚ŠåˆæœŸå€¤ã‚’ $x = \\lceil\\sqrt N\\rceil, y = 0$ ã¨ã—ã¦ $x$ ã®å€¤ã‚’1ãšã¤ä¸Šã’ãªãŒã‚‰ $y$ ã®å€¤ã‚‚ä¸Šã’ã¦ã„ãã€å³è¾ºã¨å·¦è¾ºã®è¨ˆç®—çµæœãŒä¸€è‡´ã—ãŸã¨ã $p, q$ ãŒæ±‚ã¾ã‚‹ã¨ã„ã†ä»•æ›ã‘ã§ã™ã€‚\n\n#### è¿‘ä¼¼æ¯”\nå‰ã®å•é¡Œã ã¨ç´ æ•° $p, q$ ãŒè¿‘ã„å€¤ã®ã¨ãã—ã‹å¯¾å¿œã§ãã¾ã›ã‚“ãŒã€ç´ æ•°åŒå£«ã®è¿‘ä¼¼æ¯” $p:q \\approx a:b$ ãŒä¸ãˆã‚‰ã‚Œã‚‹å ´åˆã ã£ãŸã‚‰ã©ã†ã§ã—ã‚‡ã†ã‹ã€‚([RSAæš—å·æ”»æ’ƒã§ä»–ã§ã‚‚ä½¿ãˆã‚‹ n ã®ã“ã¨](https://project-euphoria.dev/blog/27-rsa-attacks/) ã‚ˆã‚Š)\n\n:::details è§£æ³•\n$$\n\\begin{aligned}\n\\frac{a}{b} \u0026\\approx \\frac{p}{q} \\\\\naq \u0026\\approx bp \\\\\naq \\times bp \u0026= abN\n\\end{aligned}\n$$\n\nã“ã‚Œã‚ˆã‚Š $abN$ ã«å¯¾ã— Fermat's method ã‚’é©ç”¨ã™ã‚‹ã“ã¨ã§ $p, q$ ãŒæ±‚ã¾ã‚Šã¾ã™ã€‚\n:::\n\n## æ”»æ’ƒ\n\nå®Ÿéš›ã®RSAã§ã¯ã“ã®ã‚ˆã†ãªæ”»æ’ƒãŒç™ºè¦‹ã•ã‚Œã¦ãã¾ã—ãŸã€‚\n\n| ã‚¢ãƒ³ãƒã‚±ãƒ¼ã‚¹                                                              | æ”»æ’ƒæŠ€                                                           | æ–¹æ³•                                                   |\n| --------------------------------------                                    | ---------------------------------------------------------------- | -------------------------------------------------      |\n| å…¬é–‹éµ $N$ ã®å€¤ãŒå°ã•ãã¦ã¯ã„ã‘ãªã„                                       | Pollard-$\\rho$ ç´ å› æ•°åˆ†è§£æ³•                                      | ç´ å› æ•°åˆ†è§£                                             |\n| è¿‘ã„å€¤ã®ç´ æ•°ã‚’ä½¿ã£ã¦ã¯ã„ã‘ãªã„                                            | Fermat's method                                                  | ç´ å› æ•°åˆ†è§£                                             |\n| $e$ ã®å€¤ãŒå°ã•ã™ãã¦ã¯ã„ã‘ãªã„                                            | Low Public Exponent Attack                                       | å‰°ä½™ã§ã¯ãªãæ•´æ•°ä¸Šã®eä¹—æ ¹ã¨ãªã‚‹                        |\n| $d$ ã®å€¤ãŒå°ã•ã™ãã¦ã¯ã„ã‘ãªã„($e$ã®å€¤ãŒå¤§ãã™ãã¦ã¯ã„ã‘ãªã„)             | Wiener's Attack, Boneh-Durfee Attack                             | è¿‘ä¼¼åˆ†æ•°ã‹ã‚‰è¦‹ç©ã‚‚ã‚‹, Coppersmith Method               |\n| åŒä¸€ã®å¹³æ–‡ã‚’ç•°ãªã‚‹ $e$ ã§æš—å·åŒ–ã—ãŸæš—å·æ–‡ã‚’ä¸ãˆã¦ã¯ã„ã‘ãªã„               | Common Modulus Attack                                            | $e$ ã«ã¤ã„ã¦æ‹¡å¼µãƒ¦ãƒ¼ã‚¯ãƒªãƒƒãƒ‰ã®äº’é™¤æ³•                   |\n| åŒä¸€ã®å¹³æ–‡ã‚’ç•°ãªã‚‹ $N$ ã§æš—å·åŒ–ã—ãŸæš—å·æ–‡ã‚’ä¸ãˆã¦ã¯ã„ã‘ãªã„               | HÃ¥stad's Broadcast Attack                                        | ä¸­å›½å‰°ä½™å®šç†                                           |\n| åŒä¸€ã®å¹³æ–‡ã‚’åŒä¸€ã® $d$ ç•°ãªã‚‹ $e, N$ ã§æš—å·åŒ–ã—ãŸæš—å·æ–‡ã‚’ä¸ãˆã¦ã¯ã„ã‘ãªã„ | Small Common Private Exponent Attack                             | Coppersmith Method                                     |\n| ä»»æ„ã®æš—å·æ–‡ã‚’å¾©å·ã—ãŸçµæœã‚’çŸ¥ã‚‰ã‚Œã¦ã¯ã„ã‘ãªã„                            | é©å¿œçš„é¸æŠæš—å·æ–‡æ”»æ’ƒ                                             | $a^ec$ ã‚’å¾©å·ã™ã‚‹ã¨ $am$ ã¨ãªã‚‹                        |\n| æš—å·æ–‡ã‚’å¾©å·ã—ãŸçµæœã®å¶å¥‡ã‚’çŸ¥ã‚‰ã‚Œã¦ã¯ã„ã‘ãªã„                            | LSB Decryption Oracle Attack                                     | äºŒåˆ†æ¢ç´¢                                               |\n| RSA-CRTã«ãƒã‚°ãŒã‚ã£ã¦ã¯ãªã‚‰ãªã„                                               | RSA-CRT Fault Attack                                             | ç§˜å¯†éµãŒæ›¸ãæ›ãˆã‚Œã‚‹ã¨å¹³æ–‡ã®å·®åˆ†ãŒ $p, q$ ã®å€æ•°ã¨ãªã‚‹ |\n| ä¸Šä½ãƒ“ãƒƒãƒˆãŒå…±é€šã™ã‚‹äºŒã¤ã®å¹³æ–‡ã«å¯¾ã™ã‚‹æš—å·æ–‡ã‚’çŸ¥ã‚‰ã‚Œã¦ã¯ã„ã‘ãªã„          | Franklin-Reiter Related Message Attack                           | æœ€å¤§å…¬ç´„å¼                                             |\n| ç§˜å¯†éµãŒéƒ¨åˆ†çš„ã«ã§ã‚‚çŸ¥ã‚‰ã‚Œã¦ã¯ãªã‚‰ãªã„                                    | Partial Key Exposure Attack                                      | Coppersmith Method                                     |\n(å‚è€ƒ: [RSAæš—å·é‹ç”¨ã§ã‚„ã£ã¦ã¯ã„ã‘ãªã„ n ã®ã“ã¨](https://www.slideshare.net/sonickun/rsa-n-ssmjp))\n\nã“ã‚Œã‚‰ã®æ”»æ’ƒæ‰‹æ³•ã¯Cryptoå•ã‚’è§£ãä¸Šã§åŸºæœ¬çš„ãªã‚¢ã‚¤ãƒ‡ã‚¢ã¨ãªã‚Šã¾ã™ã€‚è§£ãæ–¹ã‚„ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ãªã©è©³ã—ã„ã“ã¨ã¯å®Ÿè·µç·¨ã§å–ã‚Šæ‰±ã„ã¾ã™ãŒã€ã“ã“ã§ã¯ãã‚Œãã‚Œã®ã‚¢ã‚¤ãƒ‡ã‚¢ã®ä¸­ã§ç‰¹ã«é‡è¦ãªæ€§è³ªã‚’ã“ã“ã§ç´¹ä»‹ã—ã¾ã™ã€‚\n\n#### ã¾ã¨ã‚\nRSAæš—å·ã¯ç´ å› æ•°åˆ†è§£ã®å›°é›£æ€§ãŒå®‰å…¨æ€§ã®æ ¹æ‹ ã§ã‚ã‚‹ã€‚\nã†ã¾ãå®Ÿè£…ã—ãªã„ã¨ç´ å› æ•°åˆ†è§£ã‚’è§£ã‹ãªãã¦ã‚‚æ”»æ’ƒãŒå‡ºæ¥ã¦ã—ã¾ã†ã€‚\n\n## ä¸­å›½å‰°ä½™å®šç†\n\n// TODO ä¸­å›½å‰°ä½™å®šç†ã¨ã¯\nã“ã‚Œã‚’ä½¿ãˆã°å¤§ããªå•é¡Œã‚’å°ã•ãªå•é¡Œã«åˆ†å‰²ã—ã¦è¨ˆç®—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n\n$$\n\\bmod pq \\iff \\bmod p, \\bmod q\n$$\n\n-----\n\n#### ä¸­å›½å‰°ä½™å®šç† (CRT: Chinese Remainder Theorem)\n\n$$\n\\mathbb{Z}/p_1^{e_1}\\ldots p_n^{e_n}\\mathbb{Z} \\cong \\mathbb{Z}/p_1^{e_1}\\mathbb{Z}\\times\\ldots \\times\\mathbb{Z}/p_n^{e_n}\\mathbb{Z}\n$$\n\nè¨¼æ˜\n//TODO\n\n$$\n\\mathbb{Z}/pq\\mathbb{Z} \\cong \\mathbb{Z}/p\\mathbb{Z}\\times\\mathbb{Z}/q\\mathbb{Z}\n$$\n\nã‚’ãƒ¦ãƒ¼ã‚¯ãƒªãƒƒãƒ‰ã®äº’é™¤æ³•ã§è¨¼æ˜ã™ã‚Œã°å¤§ä½“è¨¼æ˜ã§ãã‚‹ã€‚\n\n-----\n\nä¾‹ãˆã° $\\mathbb{Z}/15\\mathbb{Z} \\cong \\mathbb{Z}/3\\mathbb{Z}\\times\\mathbb{Z}/5\\mathbb{Z}$ ã¨ãªã‚‹ã®ã§æ³•ãŒ15ã®æ•°ã¨æ³•ãŒ3, 5ã®æ•°ã®ãƒšã‚¢ã¯1å¯¾1ã«å¯¾å¿œã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n\n| $\\times$ |  0  |  1  |  2  |  3  |  4  |\n|:--------:|:---:|:---:|:---:|:---:|:---:|\n|    0     |  0  |  6  | 12  |  3  |  9  |\n|    1     | 10  |  1  |  7  | 13  |  4  |\n|    2     |  5  | 11  |  2  |  8  | 14  |\n\næ•°è‡ªä½“ã ã‘ã§ã¯ãªãåŠ æ³•ã€ä¹—æ³•ã«ã¤ã„ã¦ã‚‚å¯¾å¿œã—ã¾ã™ã€‚\n\n$$\n\\begin{aligned}\n8 \u0026+ 9 = 2 \u0026 \\pmod{15} \\\\\n\u0026\\downarrow \\\\\n(2, 3) \u0026+ (0, 4) = (2, 2) \u0026 \\pmod{(3, 5)} \\\\\n\\end{aligned}\n$$\n\n$$\n\\begin{aligned}\n8 \u0026\\times 9 = 12 \u0026 \\pmod{15} \\\\\n\u0026\\downarrow \\\\\n(2, 3) \u0026+ (0, 4) = (0, 2) \u0026 \\pmod{(3, 5)} \\\\\n\\end{aligned}\n$$\n\nã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã§ã¯ã©ã†è¨ˆç®—ã™ã‚‹ã®ã§ã—ã‚‡ã†ã‹ã€‚\nã¾ãšã¯ $\\bmod pq \\to \\bmod p, \\bmod q$ ã«ã¤ã„ã¦ã§ã™ã€‚ã“ã‚Œã¯ç°¡å˜ã§ $a \\bmod p$ ã¨ $a \\bmod q$ ã‚’è¨ˆç®—ã™ã‚Œã°ã‚ˆã„ã§ã™ã€‚ãªãœã‹ã¨ã„ã†ã¨\n\n$$\n\\begin{aligned}\na \\bmod{pq} \\bmod{p} \u0026= (a - k_1pq) - k_2p \\\\\n\u0026= a - (k_1q + k_2)p \\\\\n\u0026= a \\bmod{p} \\\\\n\\end{aligned}\n$$\n\nã¨ãªã‚‹ã‹ã‚‰ã§ã™ã€‚æ³¨æ„ã™ã¹ããªã®ã¯2ã¤ãŒç´„æ•°ã®é–¢ä¿‚ã¨ãªã‚‹å‰°ä½™ã§ã—ã‹ã“ã®ã‚ˆã†ãªå¼ã¯æœ‰åŠ¹ã§ã¯ãªã„ã§ã™ã€‚ä¾‹ãˆã°æœ‰åŠ¹ã§ã¯ãªã„å¼ã¨ã—ã¦ $20 \\bmod 15 \\bmod 9 \\neq 20 \\bmod 9$ ãŒã‚ã‚Šã¾ã™ã€‚\n\né€†ã« $\\bmod p, \\bmod q \\to \\bmod pq$ ã¯ã©ã†ã‚„ã£ã¦è¨ˆç®—ã™ã‚‹ã®ã§ã—ã‚‡ã†ã‹ã€‚ã“ã®æ“ä½œã¯æŒã¡ä¸Šã’(lift)ã¨ã‚ˆã°ã‚Œã¦ã„ã¦ã€Garnerã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ç”¨ã„ã¦æŒã¡ä¸Šã’ã¾ã™ã€‚\n\nã“ã®ã‚ˆã†ãªé–¢ä¿‚ãŒã‚ã‚‹ã¨ã—ã¾ã™ã€‚\n\n$$\n\\begin{cases}\nx = r_1 \\pmod{m_1} \\\\\nx = r_2 \\pmod{m_2} \\\\\n\\end{cases}\n$$\n\nã“ã‚Œã«å¯¾ã—ã¦ã¯æ¬¡ã®ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§æŒã¡ä¸Šã’ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nx + q_1m_1 \u0026= r_2 \u0026 \\pmod{m_2} \\\\\nq_1m_1 \u0026= r_2 - x \u0026 \\pmod{m_2} \\\\\nq_1 \u0026= (r_2 - x)m_1^{-1} \u0026 \\pmod{m_2} \\\\\nx \u0026= x + (r_2 - x)(m_1^{-1} \\bmod{m_2})m_1 \u0026 \\pmod{m_1m_2} \\\\\n\\end{aligned}\n$$\n\nä¾‹ãˆã°ã€Œ3 ã§å‰²ã£ãŸã‚ã¾ã‚ŠãŒ 2ã€ã‹ã¤ã€Œ5 ã§å‰²ã£ãŸã‚ã¾ã‚ŠãŒ 3ã€ã§ã‚ã‚‹ã‚ˆã†ãªã‚‚ã®ã¯ $2 + (3 - 2)2\\times3 = 8 \\pmod{15}$ ã¨ãªã‚Šã¾ã™ã€‚\n\nã“ã‚Œã§ä¸­å›½å‰°ä½™å®šç†ã‚’ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã§å†ç¾ã§ãã¾ã—ãŸã€‚ãã‚Œã§ã¯ã“ã‚Œã‚’ä½¿ã£ãŸä»£è¡¨çš„ãªæ”»æ’ƒã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚\n\n#### åŒä¸€ã®å¹³æ–‡ã‚’ç•°ãªã‚‹ $N$ ã§æš—å·åŒ–ã—ãŸæš—å·æ–‡ã‚’ä¸ãˆã¦ã¯ã„ã‘ãªã„(HÃ¥stad's Broadcast Attack)\n\nåŒä¸€ã®å¹³æ–‡ã‚’ç•°ãªã‚‹ $e$ å€‹ã® $N$ ã§æš—å·åŒ–ã—ãŸæš—å·æ–‡ã‚’ä¸ãˆã‚‰ã‚ŒãŸã¨ã—ã¾ã™ã€‚\n\n$$\n\\begin{cases}\nc_1 = m^e \\pmod{N_1} \\\\\nc_2 = m^e \\pmod{N_2} \\\\\n\\qquad \\vdots \\\\\nc_e = m^e \\pmod{N_e} \\\\\n\\end{cases}\n$$\n\nã“ã‚Œã‚‰ã®æš—å·æ–‡ã‚’ä¸­å›½å‰°ä½™å®šç†ã«ã‚ˆã£ã¦æ•´æ•°ä¸Šã® $m^e$ ã‚’ä½œã‚Š $e$ ä¹—æ ¹ã—ã¦å¹³æ–‡ $m$ ã‚’å¾—ã‚‰ã‚Œã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nm^e \u0026= \\mathrm{CRT}(c_1, c_2, \\ldots, c_e) \\pmod{N_1N_2\\ldots N_e} \\\\\n\u0026= \\mathrm{CRT}(c_1, c_2, \\ldots, c_e) \\quad (\\mathrm{over} \\ \\mathbb{Z}) \\\\\n\\end{aligned}\n$$\n\n#### Smooth ãª ElGamalæš—å·\n\nç´¯ä¹—ã‚’æ±‚ã‚ã‚‹ã“ã¨ã¯ç°¡å˜ã§ã‚‚DLPãŒé›£ã—ã„ã¨ã„ã†éå¯¾ç§°æ€§ã‚’ç”¨ã„ãŸæš—å·ãŒ ElGamalæš—å· ã§ã™ã€‚é€šå¸¸ã¯ç´ æ•°ã‚’æ³•ã¨ã—ã¾ã™ãŒã€å¤šãã®å°ã•ãªç´ æ•°ã§å‰²ã‚Šåˆ‡ã‚Œã‚‹ã‚ˆã†ãªsmoothãªæ•°ã‚’æ³•ã¨ã—ãŸå ´åˆã¯ã©ã†ãªã‚‹ã®ã‹è€ƒãˆã¦ã¿ã¾ã™ã€‚\n\n$$\nc = a^{m} \\pmod{p_1p_2\\ldots p_n}\n$$\n\nã¾ãšã¯ç´ å› æ•°åˆ†è§£ã‚’ã—ã¾ã™ã€‚ä»Šå›ã¯ãã‚Œãã‚Œã®ç´ æ•°ãŒå°ã•ã„ã®ã§ Pollard-$\\rho$ æ³•ã‚’ç”¨ã„ã¦ç´ å› æ•°åˆ†è§£ã§ãã¾ã™ã€‚ãã—ã¦æš—å·æ–‡ã‚’ãã‚Œãã‚Œã®ç´ å› æ•°ã«ã¤ã„ã¦å‰°ä½™ã‚’å–ã‚Šã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nc_1 \u0026= a^{m_1} \\pmod{p_1} \\\\\nc_2 \u0026= a^{m_2} \\pmod{p_2} \\\\\n\\vdots \\\\\nc_n \u0026= a^{m_n} \\pmod{p_n} \\\\\n\\end{aligned}\n$$\n\nãã‚Œãã‚Œã®å¼ã®æ³•ã®æ•°ãŒå°ã•ã„ã®ã§ DLP ãŒè§£ã‘ã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nm_1\u0026 \\pmod{p_1 - 1} \\\\\nm_2\u0026 \\pmod{p_2 - 1} \\\\\n\\vdots \\\\\nm_n\u0026 \\pmod{p_n - 1} \\\\\n\\end{aligned}\n$$\n\nãã‚Œã‚‰ã‚’æŒã¡ä¸Šã’ã‚‹ã“ã¨ã§å¹³æ–‡ã‚’æ±‚ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n\n$$\nm = \\mathrm{CRT}(m_1, m_2, \\ldots, m_n)\n$$\n\n#### RSA-CRT Fault Attack\n\nRSAã®å¾©å·ã‚’ã™ã‚‹éš›ã« $c^d$ ã‚’è¨ˆç®—ã—ã¾ã™ãŒã€ $d = e^{-1} \\pmod {\\phi (N)}$ ã¯æ¯”è¼ƒçš„å¤§ãã„ã®ã§å‡¦ç†ãŒé‡ããªã‚Šã¾ã™ã€‚ã“ã‚Œã«å¯¾ã—ã¦RSA-CRTã¯ä¸­å›½å‰°ä½™å®šç†(CRT)ã‚’ç”¨ã„ã¦é«˜é€ŸåŒ–ã‚’å›³ã£ã¦ã„ã¾ã™ã€‚\n\n$$\n\\begin{aligned}\n\u0026\\begin{cases}\nd_p = d \u0026 \\pmod{p-1} \\\\\nd_q = d \u0026 \\pmod{q-1} \\\\\n\\end{cases} \\\\\n\u0026\\begin{cases}\nm_p = c^{d_p} \u0026 \\pmod p \\\\\nm_q = c^{d_q} \u0026 \\pmod q \\\\\n\\end{cases} \\\\\n\u0026\\quad \\ m = \\mathrm{CRT}(m_p, m_q) \u0026 \\pmod {N} \\\\\n\u0026\\qquad \\ = m_q + (m_p - m_q) (q^{-1} \\bmod p) q \u0026 \\pmod {N} \\\\\n\\end{aligned}\n$$\n\nã“ã‚Œã‚ˆã‚Šä¸‹ã®å€¤ã‚’ç§˜å¯†éµã¨ã—ã¦æŒã¤ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nd_p \u0026= d \\bmod pâˆ’1 \\\\\nd_q \u0026= d \\bmod qâˆ’1 \\\\\nq_{inv} \u0026= q^{-1} \\bmod p \\\\\n\\end{aligned}\n$$\n\nã—ã‹ã— $d_p, d_q$ ã®ã©ã¡ã‚‰ã‹ãŒä½•ã‚‰ã‹ã®æ–¹æ³•ã§æ›¸ãæ›ãˆã‚‰ã‚Œã¦ã—ã¾ã£ãŸã¨ãæ¬¡ã®ã‚ˆã†ã«ã§ãã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nm_p \u0026= c^{d_p} \\pmod p \\\\\nm_q' \u0026= c^{d_q'} \\pmod q \\\\\nm \u0026= \\mathrm{CRT}(m_p, m_q) = kp + m_p \\\\\nm' \u0026= \\mathrm{CRT}(m_p, m_q') = k'p + m_p \\\\\n|m - m'| \u0026= |k - k'|p \\\\\np \u0026= \\gcd(|m - m'|, N) \\\\\n\\end{aligned}\n$$\n\nã“ã‚Œã‚ˆã‚Šå…ƒã€…ã®å¹³æ–‡ã¨æ›¸ãæ›ãˆã‚‰ã‚ŒãŸå¹³æ–‡ã®å·®ãŒç´ æ•°ã®å€æ•°ã¨ãªã‚Šã€è§£ãã“ã¨ãŒã§ãã¾ã™ã€‚\n\n## ä¸€èˆ¬ã®æ–¹ç¨‹å¼ã‚’è§£ã\n\nã“ã“ã‹ã‚‰ãŒæœ¬é¡Œã§ã™ï¼ï¼\nRSAã¨ã„ã†eæ¬¡æ–¹ç¨‹å¼ã®è§£ã‚’æ±‚ã‚ã‚‹ã ã‘ã«çµã‚‰ãšã€ä»»æ„ã®æ–¹ç¨‹å¼ã‚’è§£ãã“ã¨ãŒã§ããŸã‚‰ã†ã‚Œã—ã„ã§ã™ã‚ˆã­ã€‚ã•ã£ããè€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚\n\n$$\n\\begin{cases}\n2x + 3y = 2 \u0026 \\pmod{13} \\\\\n3x + 5y = 1 \u0026 \\pmod{13} \\\\\n\\end{cases}\n$$\n\nã¾ãšã¯ç°¡å˜ãã†ãªé€£ç«‹æ–¹ç¨‹å¼ã‚’è§£ãã“ã¨ã‚’è€ƒãˆã¦ã¿ã¾ã™ã€‚ä¸Šã®æ–¹ç¨‹å¼ã‚’åŠ æ¸›æ³•ã‚’ç”¨ã„ã¦è§£ã„ã¦ã¿ã¾ã™ã€‚ä¸­å­¦ç”Ÿã®é ƒã‚’æ€ã„å‡ºã—ã¾ã™ã­ã€‚\n\n$$\n\\begin{aligned}\n\u0026\\begin{cases}\n2x + 3y = 2 \u0026 \\pmod{13} \\\\\n3x + 5y = 1 \u0026 \\pmod{13} \\\\\n\\end{cases} \\\\\n\\iff\u0026\\begin{cases}\n6x + 9y = 6 \u0026 \\pmod{13} \\\\\n6x + 10y = 2 \u0026 \\pmod{13} \\\\\n\\end{cases} \\\\\n\\iff\u0026\\begin{cases}\nx = 7 \u0026 \\pmod{13} \\\\\ny = 9 \u0026 \\pmod{13} \\\\\n\\end{cases} \\\\\n\\end{aligned}\n$$\n\næ™®é€šã®æ–¹ç¨‹å¼ã¨åŒæ§˜ã«è§£ã‘ã¾ã—ãŸï¼\nã‚ˆã‚Šä¸€èˆ¬ã®é€£ç«‹æ–¹ç¨‹å¼ã‚’è§£ãç‚ºã«è¡Œåˆ—ã‚’ç”¨ã„ã¦è§£ã„ã¦ã¿ã¾ã™ã€‚æ‹¡å¤§ä¿‚æ•°è¡Œåˆ—ã«ã—ã¦ã‚¬ã‚¦ã‚¹ã®æ¶ˆå»æ³•ã‚’è¡Œã„ã¾ã™ï¼å¤§å­¦1å¹´ã®å¾©ç¿’ã§ã™ã­ã€‚\n\n$$\n\\begin{aligned}\n\\begin{pmatrix}\n2 \u0026 3 \\\\\n3 \u0026 5 \\\\\n\\end{pmatrix}\n\\begin{pmatrix}\nx \\\\\ny \\\\\n\\end{pmatrix}\n\u0026=\\begin{pmatrix}\n2 \\\\\n1 \\\\\n\\end{pmatrix} \\\\\n\n\\left(\n\\begin{array}{cc|c}\n2 \u0026 3 \u0026 2 \\\\\n3 \u0026 5 \u0026 1 \\\\\n\\end{array}\n\\right)\n\u0026\\to\n\\left(\n\\begin{array}{cc|c}\n0 \u0026 -1 \u0026 4 \\\\\n1 \u0026 2 \u0026 -1 \\\\\n\\end{array}\n\\right) \\\\\n\n\u0026\\to\n\\left(\n\\begin{array}{cc|c}\n1 \u0026 0 \u0026 7 \\\\\n0 \u0026 1 \u0026 9 \\\\\n\\end{array}\n\\right) \\\\\n\n\\begin{pmatrix}\nx \\\\\ny \\\\\n\\end{pmatrix}\n\u0026=\\begin{pmatrix}\n7 \\\\\n9 \\\\\n\\end{pmatrix} \\\\\n\\end{aligned}\n$$\n\nä¸€èˆ¬ã®é€£ç«‹æ–¹ç¨‹å¼ã¯æ¬¡ã®ã‚ˆã†ã«è§£ã‘ã¾ã™ã€‚è¡Œåˆ—ã®æ¬¡å…ƒãŒè¡Œæ•°ã¨ä¸€è‡´ã™ã‚Œã°é€†è¡Œåˆ—ãŒå­˜åœ¨ã—ã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nA\\mathbf{x} \u0026= \\mathbf{b} \\\\\n\\mathbf{x} \u0026= A^{-1}\\mathbf{b}\n\\end{aligned}\n$$\n\n$$\n\\begin{aligned}\nA = \\begin{pmatrix}\na_{11} \u0026 a_{12} \u0026 \\ldots \u0026 a_{1n} \\\\\na_{21} \u0026 a_{22} \u0026 \\ldots \u0026 a_{2n} \\\\\n\\vdots \u0026 \\vdots \u0026 \\ddots \u0026 \\vdots \\\\\na_{m1} \u0026 a_{m2} \u0026 \\ldots \u0026 a_{mn}\n\\end{pmatrix}\n\u0026\u0026\n\\mathbf{x} = \\begin{pmatrix}\nx_1 \\\\\n\\vdots \\\\\nx_n \\\\\n\\end{pmatrix}\n\u0026\u0026\n\\mathbf{b} = \\begin{pmatrix}\nb_1 \\\\\n\\vdots \\\\\nb_m \\\\\n\\end{pmatrix}\n\\pmod{p}\n\\end{aligned}\n$$\n\nãªã‚‹ã»ã©ã€‚æ¬¡å…ƒãŒå¼ã®æ•°ã¨ä¸€è‡´ã™ã‚‹é€£ç«‹1æ¬¡æ–¹ç¨‹å¼ã¯å¿…ãšè§£ã‘ãã†ã§ã™ã­ã€‚\n\nã§ã¯ä¸ãˆã‚‰ã‚Œã‚‹1æ¬¡æ–¹ç¨‹å¼ãŒ1ã¤ã®ã¿ã§ã‚ã‚Œã°ã©ã†ã§ã—ã‚‡ã†ã‹ã€‚è¤‡æ•°ã®è§£ãŒå‡ºã¦ãã¾ã™ãŒã€ãã®ä¸­ã§å…·ä½“çš„ãªè§£ã‚’1ã¤è¿”ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\n\n$$\na_1x_1 + a_2x_2 + \\ldots + a_nx_n = b \\pmod N\n$$\n\n1å¤‰æ•°æ–¹ç¨‹å¼ã§ã‚ã‚Œã°é€†å…ƒã‚’æ›ã‘ã¦è§£ã‘ã¾ã™ãŒã€2å¤‰æ•°ã€3å¤‰æ•°ã€nå¤‰æ•°ã®å ´åˆã ã¨é›£ã—ãã†ã§ã™ã€‚\n\nã“ã‚Œã«å¯¾æŠ—ã—å¾—ã‚‹Cryptoç•Œæœ€å¼·ã®é“å…·ãŒã‚ã‚Šã¾ã™ã€‚LLL åŸºåº•ç°¡ç´„ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã™ã€‚è©³ã—ã„ã“ã¨ã¯æ ¼å­æš—å·ã®å›ã§ç´¹ä»‹ã—ã¾ã™ãŒã€è¡Œåˆ—ã®å€¤ãŒå…¨ä½“çš„ã«å°ã•ããªã‚‹ã‚ˆã†ã«å¤‰å½¢ã—ã¦ãã‚Œã¾ã™ã€‚\n\nãã‚Œã ã‘ï¼Ÿã¨è¨€ã‚ã‚Œãã†ã§ã™ãŒã“ã‚ŒãŒã¨ã¦ã‚‚å¼·ãã¦RSAæš—å·ä»¥å¤–ã«ã‚‚ãƒŠãƒƒãƒ—ã‚µãƒƒã‚¯æš—å·ã€æ ¼å­æš—å·ã€æ¥•å††æ›²ç·šæš—å·ã«ä½¿ãˆãŸã‚Šã—ã¾ã™ã€‚\n\nã“ã‚Œã‚’ã©ã†ã‚„ã£ã¦æ–¹ç¨‹å¼ã«é©ç”¨ã™ã‚‹ã‹ã¨ã„ã†ã¨æ¬¡ã®ã‚ˆã†ãªè¡Œåˆ—ã‚’è€ƒãˆã¾ã™ã€‚\n\n$$\n\\begin{pmatrix}\n1 \u0026 0 \u0026 0 \u0026 \\ldots \u0026 ? \u0026 ? \\\\\n0 \u0026 1 \u0026 0 \u0026 \\ldots \u0026 ? \u0026 ? \\\\\n0 \u0026 0 \u0026 1 \u0026 \\ldots \u0026 ? \u0026 ? \\\\\n\\vdots \u0026 \\vdots \u0026 \\vdots \u0026 \u0026 \\vdots \u0026 \\vdots \\\\\n0 \u0026 0 \u0026 0 \u0026 \\ldots \u0026 N \u0026 N \\\\\n\\end{pmatrix}\n$$\n\nä¾‹ãˆã°ã€\n\n$$\n8053x+343y+1362z\n$$\n\nã®çµ¶å¯¾å€¤ã‚’å°ã•ãã™ã‚‹ã‚ˆã†ãªã€å…¨ã¦ãŒ0ã§ã¯ãªã„ $x, y, z$ ã®å€¤ã‚’æ±‚ã‚ãŸã„ã¨ãã¯ã€\n\n$$\n\\begin{pmatrix}\n1 \u0026 0 \u0026 0 \u0026 8053 \\\\\n0 \u0026 1 \u0026 0 \u0026 343 \\\\\n0 \u0026 0 \u0026 1 \u0026 1362 \\\\\n\\end{pmatrix}\n$$\n\nã‚’LLLã«æŠ•ã’ã‚Œã°è‰¯ã„ã§ã™ã€‚å®Ÿéš›ã«æŠ•ã’ãŸã‚‰ã€æ¬¡ã®ç­”ãˆãŒè¿”ã£ã¦ãã¾ã—ãŸã€‚\n\n$$\n\\begin{pmatrix}\n0 \u0026 -4 \u0026 1 \u0026 -10 \\\\\n-3 \u0026 -5 \u0026 19 \u0026 4 \\\\\n-2 \u0026 35 \u0026 3 \u0026 -15 \\\\\n\\end{pmatrix}\n$$\n\nä¾‹ãˆã°2è¡Œç›®ã¯ã€$x=âˆ’3, y=âˆ’5, z=19$ ã¨ã„ã†è§£ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚\n\n$$\n8053 \\times (âˆ’3) + 343 \\times (âˆ’5) + 1362 \\times 19 = 4\n$$\n\nå¿œç”¨ã™ã‚‹ã¨è§£ãŒã‚ã‚‹ç¨‹åº¦å°ã•ãªã“ã¨ãŒåˆ†ã‹ã£ã¦ã„ã‚‹ã¨æ¬¡ã®ã‚ˆã†ã«ã§ãã¾ã™ã€‚\n\n$$\na_1x_1 + a_2x_2 + a_3x_3 + b = 0 \\pmod N \\\\\nx_1 \u003c 2^{32}, x_2 \u003c 2^{16}, x_3 \u003c 2^{8}\n$$\n\nå®šæ•°ã¯1å›ã—ã‹ä½¿ã£ã¦ã¯ã„ã‘ãªã„ã¨ã„ã†æ°—æŒã¡ã‚’è¾¼ã‚ã¦å¤§ããªæ•°ã‚’è¨­å®šã—ã¦ã€ä»–ã¯è§£ã®åˆ¶ç´„ã«åˆã‚ã›ã¦è¨­å®šã—ã¾ã™ã€‚æœ€ä¸‹æ®µã¯æ³•ã®æ•°ã‚’å…¥ã‚Œã¦ãŠãã“ã¨ã§å‰°ä½™ä¸Šã§è¨ˆç®—ã—ã¦ãã‚Œã¾ã™ã€‚\n\n$$\n\\begin{pmatrix}\n1 \u0026 0 \u0026 0 \u0026 0 \u0026 a_1 \\\\\n0 \u0026 2^{16} \u0026 0 \u0026 0 \u0026 a_2 \\\\\n0 \u0026 0 \u0026 2^{24} \u0026 0 \u0026 a_3 \\\\\n0 \u0026 0 \u0026 0 \u0026 2^{32} \u0026 b \\\\\n0 \u0026 0 \u0026 0 \u0026 0 \u0026 N \\\\\n\\end{pmatrix}\n$$\n\nè©³ã—ãã¯æ¬¡ã®è¨˜äº‹ã§ç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚\n\nhttps://qiita.com/kusano_k/items/5509bff6e426e5043591\n\nä¸€èˆ¬ã®ç·šå½¢æ–¹ç¨‹å¼ã¯è§£ã‘ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸï¼\nã‚„ã£ãŸã­ï¼\n\nã“ã†ãªã£ã¦ãã‚‹ã¨1æ¬¡æ–¹ç¨‹å¼ã ã‘ã§ã¯ãªã2æ¬¡ã€3æ¬¡ã€næ¬¡æ–¹ç¨‹å¼ã‚‚è§£ã„ã¦ã¿ãŸã„ã§ã™ã­ã€‚\nã¾ãšã¯æ¬¡ã®ã‚ˆã†ãªæ–¹ç¨‹å¼ã‚’è€ƒãˆã¦ã¿ã¾ã™ã€‚\n\n$$\na_nx^n + \\ldots + a_1x + a_0 = 0 \\pmod N\n$$\n\n$x, y = x^2, z = x^3, \\ldots$ ã¨ã„ã†ã‚ˆã†ã«å¤‰æ•°ã‚’è¨­å®šã—ã¦LLLã§ä¹—ã‚Šåˆ‡ã‚‹ã¨ã„ã†æ–¹æ³•ãŒ1ã¤ã‚ã‚Šã¾ã™ã€‚ã—ã‹ã— $x, y, z$ ã«ã¯é–¢ä¿‚æ€§ã¨ã„ã†æƒ…å ±ã‚’å¤±ã£ã¦ã„ã¾ã™ã€‚ãã‚Œã‚’ã†ã¾ãä½¿ã£ã¦ã‚ã’ãŸã„ã§ã™ã­ã€‚\nãã“ã§Howgrave-Grahamã®è£œé¡Œã¨ã„ã†ã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚\n\n-----\n\n#### Thm. Howgrave-Grahamã®è£œé¡Œ\n$N$ ã‚’æ³•ã€ $g(x) \\in \\mathbb{Z}[x]$ ã‚’æ•´æ•°å¤šé …å¼ã¨ã—ã€å«ã¾ã‚Œã‚‹å˜é …å¼ã®æ•°ã‚’ $\\omega$ ã¨ã™ã‚‹ã€‚$g(x)$ ã«å¯¾ã—ã¦ã‚ã‚‹ $X$ ãŒå­˜åœ¨ã—ã€$g(x_0) = 0 \\pmod{N}$ ãªã‚‹ $x_0 \\in \\mathbb{Z}$ ã«ã¤ã„ã¦ $|x_0| \\leq X$ ã§ã‚ã‚‹ã¨ä»®å®šã™ã‚‹ã€‚ã“ã®ã¨ã\n\n$$\n\\|g(xX)\\| \u003c \\frac{N}{\\sqrt{\\omega}}\n$$\n\nãŒæˆç«‹ã™ã‚‹ãªã‚‰ã° $g(x_0) = 0$ ãŒæ•´æ•°æ–¹ç¨‹å¼ã¨ã—ã¦æˆç«‹ã™ã‚‹ã€‚ãŸã ã—\n\n$$\n\\|g(x)\\| = \\left\\|\\sum_{i=0}^{\\deg g(x)}g_i\\right\\| = \\sqrt{\\sum_{i=0}^{\\deg g(x)}g_i^2}\n$$\n\nã§ã‚ã‚Šã€ $\\deg g(x)$ ã¯ $g(x)$ ã®æ¬¡æ•°ã§ã‚ã‚‹ã€‚\n\nè¨¼æ˜\n\n$$\n\\begin{aligned}\n|g(x_0)| \u0026= \\left|\\sum_{i=0}^{\\deg g(x_0)}g_ix_0^i\\right| \\\\\n\u0026\\leq \\sum_{i}|g_ix_0^i| \\\\\n\u0026\\leq \\sum_{i}|g_i|X^i \\\\\n\u0026= \\sum_{i}(1\\cdot|g_i|X^i) \\\\\n\u0026\\leq \\sqrt{\\sum_{i, g_i \\neq 0}1} \\sqrt{\\sum_{i}(|g_i|X^i)^2} \u0026\u0026 \\left(\\because \\text{ã‚³ãƒ¼ã‚·ãƒ¼ï¼ã‚·ãƒ¥ãƒ¯ãƒ«ãƒ„ã®ä¸ç­‰å¼}\\right) \\\\\n\u0026= \\sqrt{\\omega}\\|g(xX)\\| \u003c N \u0026\u0026 \\left(\\because \\|g(xX)\\| \u003c \\frac{N}{\\sqrt{\\omega}}\\right)\n\\end{aligned}\n$$\n\n$g(x_0) = 0 \\pmod N$ ã‚ˆã‚Š $g(x_0) = 0$ ã¨ãªã‚‹ã€‚\n\n-----\n\nã¤ã¾ã‚Šã€ã€Œå‰°ä½™ã®æ–¹ç¨‹å¼ã¯ä¿‚æ•°ãŒã‚ã‚‹ç¨‹åº¦å°ã•ã‘ã‚Œã°ãã®ã¾ã¾æ•´æ•°æ–¹ç¨‹å¼ã¨ãªã‚‹ã‚ˆã€ã¨è¨€ã£ã¦ã„ã¾ã™ã€‚ã“ã“ã§å‹˜ã®ã„ã„äººã¯LLLã‚’ç”¨ã„ã¦ä¿‚æ•°ã‚’å°ã•ãã™ã‚Œã°æ•´æ•°æ–¹ç¨‹å¼ã«å¤‰æ›ã§ãã¦è§£ã‘ã‚‹ã®ã§ã¯...ï¼ï¼Ÿã¨æ°—ä»˜ãã§ã—ã‚‡ã†ã€‚å®Ÿéš›ã«è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚\n\nã¨ã‚Šã‚ãˆãšçŠ¶æ³ã‚’æ•´ç†ã™ã‚‹ã¨ã€LLLã«å…¥ã‚Œã‚‹å€¤ã¯å„ä¿‚æ•°ã¨ã—ã¦ã€LLLã‚’ä½¿ã†ç‚ºã«ã¯è¤‡æ•°ã®æ–¹ç¨‹å¼ãŒå¿…è¦ã«ãªã£ã¦ãã¾ã™ã€‚ãã—ã¦ãã‚Œã‚‰ã®æ–¹ç¨‹å¼ã¯åŒã˜è§£ã‚’æŒã¤å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ç¾åœ¨ã€ãã®è§£ãŒåˆ†ã‹ã‚‰ãªã„ã®ã§ã™ãŒã€ã©ã†ã—ãŸã‚‰ãã‚“ãªæ–¹ç¨‹å¼ãŒä½œã‚Œã‚‹ã§ã—ã‚‡ã†ã‹ã€‚\n\nå®Ÿã¯ $\\bmod {N}$ ã§ã¯é›£ã—ã„ã®ã§ã€$\\bmod {N^m}$ ã«æŒã¡ä¸Šã’ã‚‹ã“ã¨ã§åŒã˜è§£ã®æ–¹ç¨‹å¼ã‚’å¢—ã‚„ã™ã“ã¨ãŒã§ãã¾ã™ã€‚\n\n-----\n\n#### Lemma\n$N$ ã‚’æ³•ã€$f(x)$ ã‚’å¤šé …å¼ã¨ã™ã‚‹ã€‚è‡ªç„¶æ•° $m, l$ ã«ã¤ã„ã¦\n\n$$\ng_{i,j}(x) := N^{mâˆ’i}x^j f^i(x) \\ (0 \\leq i \\leq m, 0 \\leq j\\leq l)\n$$\n\nã¨ãŠãã€‚ã“ã®ã¨ãã€ $f(x_0) = 0 \\pmod N$ ã‚’ã¿ãŸã™ $x_0 \\in \\mathbb{Z}$ ã«ã¤ã„ã¦ã€ $g_{i,j}(x_0) = 0 \\pmod{N^m}$ ã¨ãªã‚‹ã€‚\n\nè¨¼æ˜\n\n$f(x_0) = 0 \\pmod N$ ãªã®ã§ $f(x_0) = kN$ ã¨ãŠã‘ã‚‹ã€‚\n\n$$\n\\begin{aligned}\ng_{i,j}(x_0) \u0026= N^{mâˆ’i}x_0^j f^i(x_0) \\\\\n\u0026= N^{mâˆ’i}x_0^j (kN)^i \\\\\n\u0026= k^ix_0^j N^m \\\\\ng_{i,j}(x_0) \u0026= 0 \\pmod{N^m} \\\\\n\\end{aligned}\n$$\n\n-----\n\nã“ã‚Œã§æ–¹ç¨‹å¼ã‚’å¢—ã‚„ã™ã“ã¨ãŒã§ãã¾ã—ãŸï¼ã¡ã‚ƒã‚“ã¨LLLã§å‹•ãã‹ã¡ã‚‡ã£ã¨ä¸å®‰ã§ã™ãŒã¨ã‚Šã‚ãˆãšã‚„ã£ã¦ã¿ã¾ã™ã€‚\n\nå°ã•ãã—ãŸã„æ–¹ç¨‹å¼ã¯ $g_{i,j}(xX)$ ã§ã‚ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ã€‚\n$g_{i,j}(x)$ ã® $k$ æ¬¡ã®ä¿‚æ•°ã®ã“ã¨ã‚’ $g_{i,j}^{(k)}$ ã¨è¡¨ã™ã“ã¨ã«ã—ã¾ã™ã€‚\n\n$$\n\\begin{pmatrix}\ng_{0,0}^{(0)} \u0026 g_{0,0}^{(1)}X \u0026 g_{0,0}^{(2)}X^2 \u0026 g_{0,0}^{(3)}X^3 \u0026 g_{0,0}^{(4)}X^4 \u0026 g_{0,0}^{(5)}X^5 \\\\\ng_{0,1}^{(0)} \u0026 g_{0,1}^{(1)}X \u0026 g_{0,1}^{(2)}X^2 \u0026 g_{0,1}^{(3)}X^3 \u0026 g_{0,1}^{(4)}X^4 \u0026 g_{0,1}^{(5)}X^5 \\\\\ng_{1,0}^{(0)} \u0026 g_{1,0}^{(1)}X \u0026 g_{1,0}^{(2)}X^2 \u0026 g_{1,0}^{(3)}X^3 \u0026 g_{1,0}^{(4)}X^4 \u0026 g_{1,0}^{(5)}X^5 \\\\\ng_{1,1}^{(0)} \u0026 g_{1,1}^{(1)}X \u0026 g_{1,1}^{(2)}X^2 \u0026 g_{1,1}^{(3)}X^3 \u0026 g_{1,1}^{(4)}X^4 \u0026 g_{1,1}^{(5)}X^5 \\\\\ng_{2,0}^{(0)} \u0026 g_{2,0}^{(1)}X \u0026 g_{2,0}^{(2)}X^2 \u0026 g_{2,0}^{(3)}X^3 \u0026 g_{2,0}^{(4)}X^4 \u0026 g_{2,0}^{(5)}X^5 \\\\\ng_{2,1}^{(0)} \u0026 g_{2,1}^{(1)}X \u0026 g_{2,1}^{(2)}X^2 \u0026 g_{2,1}^{(3)}X^3 \u0026 g_{2,1}^{(4)}X^4 \u0026 g_{2,1}^{(5)}X^5 \\\\\n\\end{pmatrix}\n$$\n\nã“ã‚Œã‚’LLLã«é€šã—ã¦ã‚ã’ã‚‹ã¨ç„¡äº‹å°ã•ãªå€¤ã®æ–¹ç¨‹å¼ãŒè¿”ã£ã¦ãã¾ã™ã€‚ã“ã‚ŒãŒHowgrave-Grahamã®è£œé¡Œã‚’æº€ãŸã—ã¦ã„ã‚Œã°æ•´æ•°æ–¹ç¨‹å¼ã¨ãªã‚Šã¾ã™ã€‚å¾Œã¯é©å½“ã«å¢—æ¸›è¡¨æ›¸ã„ãŸã‚Šã—ã¦æ¢ç´¢ã™ã‚Œã°è§£ã‘ã¾ã™ã€‚\n\n### ã»ã‚“ã¾ã‹ï¼Ÿ\n\nã“ã‚Œã‚‰ã®æ“ä½œã¯Coppersmithã®å®šç†ã¨å‘¼ã°ã‚Œã¦ã„ã¾ã™ã€‚\n\n-----\n\n#### Thm. Coppersmithã®å®šç†\n$N$ ã‚’æ³•ã¨ã— $f(x)$ ã‚’ãƒ¢ãƒ‹ãƒƒã‚¯ãª 1å¤‰æ•° $\\delta$ å¤šé …å¼ã¨ã™ã‚‹ã€‚ã“ã®ã¨ã $f(x_0) = 0 \\pmod{N}$ ã¨æ¬¡ã®æ¡ä»¶ã‚’æº€ãŸã™ã‚ˆã†ãª $x_0$ ã‚’åŠ¹ç‡ã‚ˆãæ±‚ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹\n\n$$\n|x_0| \\leq N^{\\frac{1}{\\delta}}\n$$\n\n-----\n\nã“ã‚Œã§ä¸€èˆ¬ã®næ¬¡æ–¹ç¨‹å¼ã«ã¤ã„ã¦å°ã•ãªè§£ã‚’æ±‚ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸï¼\n\n// TODO ã“ã“ã«å…·ä½“ä¾‹\n\n$$\nax^5 + bx + c = 0\n$$\n\nã•ã‚‰ã«Coppersmithã®å®šç†ã«ã¯æ‹¡å¼µã§ãã‚‹ã“ã¨ãŒ2ã¤ã‚ã‚Šã¾ã™ã€‚\n\n- æœªçŸ¥ã®æ³•ã«ã¤ã„ã¦è§£ã‘ã‚‹ã€‚ç´ å› æ•°åˆ†è§£ãŒå‡ºæ¥ãªã„ã»ã©å¤§ããªæ•°ã‚’æ³•ã¨ã—ãŸã¨ãã«æ—¢çŸ¥ã®æ³•ã®ç´„æ•°ã‚’æ³•ã¨ã™ã‚‹å¼ã®è§£ã‚’æ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚æ³•ãŒå°ã•ã„ã»ã©æ–¹ç¨‹å¼ã«å¯¾ã™ã‚‹åˆ¶ç´„ãŒã‚†ã‚‹ããªã‚Šã¾ã™ã€‚\n- å¤šå¤‰æ•°ã®æ–¹ç¨‹å¼ã‚‚è§£ã‘ã‚‹ã€‚ã“ã‚Œã¯å¤‰æ•°ãŒ1ã¤ã ã‘ã§ã—ãŸãŒã€è¤‡æ•°ã®å¤‰æ•°ã§ã‚‚ã§ãã¾ã™ã€‚å¤‰æ•°ã®æ•°ãŒå¤šã„ã»ã©æ–¹ç¨‹å¼ã«å¯¾ã™ã‚‹åˆ¶ç´„ãŒã‚­ãƒ„ããªã‚Šã¾ã™ã€‚\n\nã“ã‚Œã‚‰ã¯ Howgrave-Grahamã®è£œé¡Œ ãªã©ã‚’è¦‹ç›´ã™ã“ã¨ã§ç°¡å˜ã«æ‹¡å¼µã§ãã¾ã™ã€‚èˆˆå‘³ã‚ã‚‹æ–¹ã¯è€ƒãˆã¦ã¿ã¦ãã ã•ã„ã€‚\n\nã“ã‚Œã‚‰ã‚’ã¾ã¨ã‚ã¦Coppersmith Methodã¨å‘¼ã³ã¾ã™ã€‚\n\nã“ã‚Œã‚’ä½¿ã£ã¦æ§˜ã€…ãªæ”»æ’ƒãŒã§ãã¾ã™ã€‚\nCoppersmith Method ã¯RSAã‚’ãã®ã¾ã¾ä¸ãˆã¦ã‚‚è§£ã‘ã¾ã›ã‚“ãŒä½•ã‹ã—ã‚‰ã®å€¤ãŒä¸€éƒ¨åˆ†ã ã‘åˆ†ã‹ã£ã¦ã„ã‚‹ã¨è§£ã‘ã‚‹ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚\n\nè§£ããŸã„æ–¹ç¨‹å¼ã®æ³•ã®æ•°ã®ä¸‹é™ $\\beta$ ã¨è§£ãŒå­˜åœ¨ã—ã†ã‚‹ä¸Šé™ $X$ ã‚’æ±ºã‚ã¦é–¢æ•°ã‚’ä¸ãˆã‚‹ã¨è§£ãŒè¿”ã£ã¦ãã¾ã™ã€‚\n\n### Boneh-Durfee Attack\n\nã¾ãšä»¥ä¸‹ã®ã‚ˆã†ã«å¤‰å½¢ã—ã¾ã™ã€‚\n\n$$\n\\begin{aligned}\ned \u0026= 1 \u0026 \\pmod{\\phi} \\\\\ned \u0026= k \\phi + 1 \u0026 (\\mathrm{over}\\ \\mathbb{Z}) \\\\\n0 \u0026= k \\phi + 1 \u0026 \\pmod e \\\\\n\u0026= k (N + 1 - p - q) + 1 \u0026 \\pmod e \\\\\n\u0026= 2k \\left(\\frac{N + 1}{2} + \\frac{-p -q}{2}\\right) + 1 \u0026 \\pmod e \\\\\n\\end{aligned}\n$$\n\nã“ã®æ–¹ç¨‹å¼ã«ã¤ã„ã¦ $f(x,y) = x (A + y) + 1$ ã¨ãŠãã€é–¢æ•° $f(x,y)$ ã«å¯¾ã—ã¦ Coppersmith Method ã‚’ç”¨ã„ã‚‹ã“ã¨ã§ $p + q$ ãŒæ±‚ã¾ã‚Šã€è§£ãã“ã¨ãŒã§ãã¾ã™ã€‚\n\n### ç§˜å¯†éµãŒéƒ¨åˆ†çš„ã«ã§ã‚‚çŸ¥ã‚‰ã‚Œã¦ã¯ã„ã‘ãªã„ (Partial Key Exposure Attack)\n\nç§˜å¯†éµã‚’éƒ¨åˆ†çš„ã«çŸ¥ã£ã¦ã„ã•ãˆã„ã‚Œã°ã€Coppersmith Method ã‚’ç”¨ã„ã¦è§£ã‘ã¦ã—ã¾ã†ã€‚\n$n$ ã‚’ $N$ ã®ãƒ“ãƒƒãƒˆæ•°ã¨ã™ã‚‹ã€‚\n\n#### p, q ã®ã©ã¡ã‚‰ã‹ã‚’ n/4 ãƒ“ãƒƒãƒˆç¨‹åº¦çŸ¥ã£ã¦ã„ã‚‹ã¨ã\n\nä¾‹ãˆã° p ã‚’éƒ¨åˆ†çš„ã«çŸ¥ã£ã¦ã„ã‚‹ã¨ãã“ã®ã‚ˆã†ãªé–¢æ•°ã‚’ä½œã‚Šã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nf(x) \u0026= p_{upper} + x \u0026 \\pmod N \\\\\nf(x) \u0026= 2^{k}x + p_{lower} \u0026 \\pmod N \\\\\nf(x,y) \u0026= 2^kx + p_{mid} + y \u0026 \\pmod N \\\\\n\\end{aligned}\n$$\n\nã“ã‚Œã«å¯¾ã—ã¦æ³•ã®æ•°ã‚’ $p$ ã¨ã—ãŸã„ã®ã§ $\\beta \\approx 0.3$ ã¨ã—ã¦ã€å®Ÿè¡Œã™ã‚‹ã¨å‡ºã¦ãã¾ã™ã€‚\n\n#### d ã‚’ n/4 ãƒ“ãƒƒãƒˆç¨‹åº¦çŸ¥ã£ã¦ã„ã‚‹ã¨ã\n\n$e$ ãŒç·å½“ã‚Šå‡ºæ¥ã‚‹ãã‚‰ã„å°ã•ã„ã¨ãã« $d$ ã‚’ $n/4$ ãƒ“ãƒƒãƒˆã ã‘çŸ¥ã£ã¦ã„ã‚Œã°å…ƒã® $d$ ã‚’æ§‹æˆã§ãã‚‹ã€‚å¤§ä½“ã®å ´åˆã¯ $e = 65537$ ã§ã‚ã‚‹ã‹ã‚‰ååˆ†å¯èƒ½ã§ã‚ã‚‹ã€‚$d \u003c \\phi(N)$ ã‚ˆã‚Š $0 \u003c k \\leq e$ ã¨ãªã‚Šã€ã“ã® $k$ ã«å¯¾ã—ã¦ç·å½“ãŸã‚Šã™ã‚‹ã€‚\n\n##### ä¸Šä½ãƒ“ãƒƒãƒˆã®å ´åˆ\n$d$ ã¨ $p, q$ ã®é–¢ä¿‚å¼ã‚’ç«‹ã¦ã‚‹ã€‚\n\n$$\n\\begin{aligned}\ned \u0026= 1 \u0026 \\pmod{\\phi(N)} \\\\\ned \u0026= 1 + k(N - p - q + 1) \\\\\nd \u0026= \\frac{kN}{e} - \\frac{k(p+q-1) -1}{e} \\\\\ne(d_{upper} + x) \u0026= - k (y - 1) + 1 \u0026 \\pmod N \\\\\n\\end{aligned}\n$$\n\nç¬¬ä¸‰å¼ã«ã¤ã„ã¦ $p + q \\approx \\sqrt{N}$ ã‚ˆã‚Šç¬¬äºŒé …ã¯ä¸Šä½ãƒ“ãƒƒãƒˆã«é–¢é€£ã™ã‚‹æƒ…å ±ã‚’æŒãŸãªã„ã€‚ã“ã‚Œã‚ˆã‚Šç¬¬ä¸€é …ã® $k$ ã«ã¤ã„ã¦ç·å½“ã‚Šã—ã¦ä¸Šä½ãƒ“ãƒƒãƒˆã¨ä¸€è‡´ã™ã‚‹ $k$ ã‚’è¦‹ã¤ã‘ã‚Œã°ã‚ˆã„ã€‚ã™ã‚‹ã¨ç¬¬4å¼ã«å¯¾ã— Coppersmith Method ã‚’ç”¨ã„ã¦ã€$d$ ãŒã‚ã‹ã‚‹ã€‚\n\n##### ä¸‹ä½ãƒ“ãƒƒãƒˆã®å ´åˆ\nã¾ãšã¯ $d$ ã®ä¸‹ä½ãƒ“ãƒƒãƒˆã‹ã‚‰ $p$ ã®ä¸‹ä½ãƒ“ãƒƒãƒˆã‚’æ±‚ã‚ã‚‹ã€‚\n\n$$\n\\begin{aligned}\ned \u0026= 1 + k\\left(N - p - \\frac{N}{p} + 1\\right) \\\\\nedp \u0026= p + kp(N - p + 1) - kN \u0026 \\pmod {2^{n/4}} \\\\\n\\end{aligned}\n$$\n\n $k$ ã«ã¤ã„ã¦ç·å½“ã‚Šã—ã¦ $p$ ã®æœ€ä¸‹ä½ãƒ“ãƒƒãƒˆã‚’æ±‚ã‚ã‚‹ã€‚ã™ã‚‹ã¨å…ˆç¨‹ã®å•é¡Œã«å¸°ç€ã§ãã¦ $p$ ãŒã‚ã‹ã‚Š $d$ ãŒã‚ã‹ã‚‹ã€‚\n\n\n#### RSA-CRT ã®ç§˜å¯†éµ d ã‚’ n/4 ãƒ“ãƒƒãƒˆç¨‹åº¦çŸ¥ã£ã¦ã„ã‚‹ã¨ã\n\n$$\n\\begin{aligned}\ned_p \u0026= 1 \u0026 \\pmod{p-1} \\\\\ned_p \u0026= 1 + k_p(p âˆ’ 1) \\\\\n\\end{aligned}\n$$\n\nä¸Šã¨åŒæ§˜ã§ã™ã€‚\n\n#### å¹³æ–‡ m ã‚’ (1-1/e)n ãƒ“ãƒƒãƒˆç¨‹åº¦çŸ¥ã£ã¦ã„ã‚‹ã¨ã\n\næ¬¡æ•°ãŒå¤§ãã„ã®ã§ã‚ã‚‹ç¨‹åº¦çŸ¥ã£ã¦ã„ãªã„ã¨è§£ã‘ã¾ã›ã‚“ã€‚\n\n$$\n\\begin{aligned}\nf(x) \u0026= (m_{upper} + x)^e - c \u0026 \\pmod N \\\\\nf(x) \u0026= (2^kx + m_{lower})^e - c \u0026 \\pmod N \\\\\nf(x,y) \u0026= (2^kx + m_{mid} + y)^e - c \u0026 \\pmod N \\\\\n\\end{aligned}\n$$\n\n\nã“ã®ã‚ˆã†ã«ã‚ã‚‹ç¨‹åº¦çŸ¥ã£ã¦ã„ã‚‹ã¨Coppersmith Methodã§è§£ã‘ã‚‹ã‚‚ã®ãŒå¤šã„ã§ã™ã€‚\n\nCoppersmith method ã‚’ä½¿ã£ãŸã‚ˆã‚Šæ§˜ã€…ãªæ”»æ’ƒã‚’çŸ¥ã‚ŠãŸã‘ã‚Œã°æ¬¡ã®è³‡æ–™ã‚’èª­ã‚€ã“ã¨ã‚’ã‚’ãŠã™ã™ã‚ã—ã¾ã™ã€‚\n\nhttps://eprint.iacr.org/2020/1506.pdf\n\n### ãã®ä»–ã®é“å…·\n\nã•ã¦å¤šå¤‰æ•°é€£ç«‹næ¬¡æ–¹ç¨‹å¼ã®å ´åˆã¯ã©ã†ã§ã—ã‚‡ã†ã€‚Coppersmithã‚‚ä½¿ã†ã“ã¨ã‚‚ã§ãã¾ã™ãŒã€ç²¾åº¦ã¯å‡ºã«ãã„ã§ã™ã€‚ã“ã‚Œã«å¯¾ã—ã¦ä½¿ã‚ã‚Œã‚‹é“å…·ã¯å¤šé …å¼GCD, çµ‚çµå¼, GrÃ¶bneråŸºåº•ãŒã‚ã‚Šã¾ã™ã€‚\n\n#### å¤šé …å¼GCD\n\nã¾ãšã¯å¤šé …å¼GCDã§ã™ã€‚\nä¾‹ãˆã° $x$ ã«ã¤ã„ã¦åŒã˜è§£ã‚’æŒã¤æ¬¡ã®ã‚ˆã†ãªæ–¹ç¨‹å¼ã‚’è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚\n\n$$\n\\begin{cases}\nf_1 = x^e - c_1 \u0026 \\pmod{N} \\\\\nf_2 = (x + y)^e - c_2 \u0026 \\pmod{N} \\\\\n\\end{cases} \\\\\n$$\n\nã“ã‚Œã¯å¤šé …å¼GCDã‚’å–ã‚‹ã¨è§£ã‘ã¾ã™ã€‚ãã®åã®é€šã‚Šã€ã‚ã‚‹2ã¤ã®æ–¹ç¨‹å¼ã«å…¬ç´„å¼ãŒã‚ã£ãŸã¨ãã€æœ€ã‚‚æ¬¡æ•°ãŒå¤§ãã„å…¬ç´„å¼ã‚’è¿”ã—ã¾ã™ã€‚Half-GCDã¨ã„ã†ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ç”¨ã„ã‚‹ã¨ $O(N(\\log{N})^2)$ ã§GCDãŒå–ã‚Œã¾ã™ã€‚(N is ä½•)\n\n$$\n\\begin{aligned}\n\u0026\\begin{cases}\nf_1 = x^e - c_1 \u0026 \\pmod{N} \\\\\nf_2 = (x + y)^e - c_2 \u0026 \\pmod{N} \\\\\n\\end{cases} \\\\\n\\iff\n\u0026\\begin{cases}\nf_1 = (x - m)g_1 \u0026 \\pmod{N} \\\\\nf_2 = (x - m)g_2 \u0026 \\pmod{N} \\\\\n\\end{cases} \\\\\n\u0026\\gcd(f_1, f_2) = x - m\n\\end{aligned}\n$$\n\n#### çµ‚çµå¼\nå¼å¢—ã‚„ã—ã¦gcd\n\n#### GrÃ¶bneråŸºåº•\n\nGrÃ¶bneråŸºåº•ã®ãŠæ°—æŒã¡ã¯å¤šé …å¼ã‚¤ãƒ‡ã‚¢ãƒ«ã‚’æ ¼å­ã«ã—ãŸã‚‚ã®ã«å¯¾ã—ã¦é †åºã‚’ä¸ãˆã¦åŸºåº•ç°¡ç´„ã™ã‚‹ã‚‚ã®ã§ã™ã€‚\n\n\n\nBuchberger's Algorithmã¨å‘¼ã°ã‚Œã¦ã„ã¾ã™ã€‚\n\n\nè¡¨ã«è§£ãæ–¹ã‚’ã¾ã¨ã‚ã‚‹ã¨ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚\n\n|            |           1å¤‰æ•°          |               å¤šå¤‰æ•°              |\n|:----------:|:------------------------:|:---------------------------------:|\n| ç·šå‹æ–¹ç¨‹å¼ | æ‹¡å¼µãƒ¦ãƒ¼ã‚¯ãƒªãƒƒãƒ‰ã®äº’é™¤æ³• |                LLL                |\n|  næ¬¡æ–¹ç¨‹å¼ |    Coppersmith Method    | å¤šé …å¼GCD, çµ‚çµå¼, GrÃ¶bneråŸºåº• |\n\n\n\n## ç†è«–ç·¨ã¾ã¨ã‚\n\nã“ã®ã‚ˆã†ã«ã—ã¦RSAæš—å·ã¯è§£ãã“ã¨ã¯å‡ºæ¥ã¾ã™ã€‚\n\nã“ã‚Œã‚‰ã‚’çŸ¥ã£ã¦ãŠã‘ã°RSAæš—å·ã®ç ”ç©¶è«–æ–‡ãŒè¿½ãˆã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nèˆˆå‘³ãŒã‚ã‚‹äººã¯æš—å·ã«ç‰¹åŒ–ã—ãŸè«–æ–‡ã‚µã‚¤ãƒˆ [ePrint Archive](https://eprint.iacr.org/) ã‚’è¦—ã„ã¦ã¿ã‚‹ã¨è‰¯ã„ã¨æ€ã„ã¾ã™ã€‚\n\n## ã‚³ãƒ©ãƒ  ç´ æ•°ç”Ÿæˆ\n\næš—å·ã¨ã—ã¦æ©Ÿèƒ½ã™ã‚‹ç´ æ•°ã®å¤§ãã•ã¯ $2^{512}$ ã‚„ $2^{1024}$ ç¨‹åº¦ã®ã‚ªãƒ¼ãƒ€ãƒ¼ã¨ãªã£ã¦ã„ã¾ã™ã€‚ç´ æ•°å®šç†ã‚ˆã‚Šã€ã‚ã‚‹æ•° $n$ ãŒç´ æ•°ã§ã‚ã‚‹ç¢ºç‡ã¯ç´„ $1/\\log n$ ã§ã™ã€‚ä¾‹ãˆã° $n=2^{512}$ ã§2.8%ã€ $n=2^{1024}$ ã§1.4%ã¨ãªã‚Šã¾ã™ã€‚ã¤ã¾ã‚Šã€500å›ä¹±æ•°ã‚’ç”Ÿæˆã™ã‚Œã°99.65%ã§ç´ æ•°ã‚’è¦‹ã¤ã‘ã‚‰ã‚Œã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚\nç´ æ•°åˆ¤å®šã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯å¤šãã‚ã‚Šã¾ã™ãŒã€ã“ã“ã§ã¯Miller-Rabinç´ æ•°åˆ¤å®šæ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚\n\n#### Millerâ€“Rabin ç´ æ•°åˆ¤å®šæ³•\n\nç´ æ•°åˆ¤å®šæ³•ã¨ã¯ãã®åã®é€šã‚Šã€æ•°ã‚’ä¸ãˆã‚‹ã¨ãã‚ŒãŒç´ æ•°ã‹ã©ã†ã‹ãŒåˆ†ã‹ã‚‹åˆ¤å®šæ³•ã§ã™ã€‚ãã®ä¸­ã§ Miller-Rabin ç´ æ•°åˆ¤å®šæ³•ã¯ä¸ãˆã‚‰ã‚ŒãŸæ•° $n$ ãŒç´ æ•°ã‹ã©ã†ã‹ã‚’è¨ˆç®—æ™‚é–“ $O(k\\log^3 n)$ ã§èª¤ã‚Šç‡ $4^{-k}$ ä»¥ä¸‹ã§åˆ¤å®šã™ã‚‹ç¢ºç‡çš„ç´ æ•°åˆ¤å®šã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã™ã€‚\n\n$n$ ãŒç´ æ•°ã®ã¨ãã€$n-1$ ã¯ãã‚Œã‚’ $2$ ã§å‰²ã‚Œã‚‹ã ã‘å‰²ã£ãŸæ•°ã‚’ $d$ ã¨ã—ã¦ $n-1 = 2^sd$ ã¨æ›¸ã‘ã¾ã™ã€‚ãƒ•ã‚§ãƒ«ãƒãƒ¼ã®å°å®šç†ã‚ˆã‚Š $aâ‰ 0 \\pmod n$ ã®ã¨ã\n\n$$\n\\begin{aligned}\na^{n-1} \u0026= a^{2^sd} â‰¡ 1 \\quad \\pmod n \\\\\na^{2^sd}-1 \u0026= (a^d-1)(a^d+1)(a^{2d}+1)(a^{4d}+1)\\cdots(a^{2^{s-1}d}+1)\\\\\n\u0026â‰¡ 0 \\\\\n\\end{aligned}\n$$\n\nã“ã‚Œã‚ˆã‚Šæ¬¡ã®2å¼ã®ã©ã¡ã‚‰ã‹ãŒæˆã‚Šç«‹ã¡ã¾ã™ã€‚\n\n$$\n\\begin{aligned}\n\\left\\{\n\\begin{array}{ll}\na^d \u0026â‰¡ 1 \u0026 \\pmod n \\\\\na^{2^rd} \u0026â‰¡ -1 \u0026 \\pmod n \\qquad (\\exists r \\in \\mathbb{Z}, 0\\leq r\\leq s-1)\n\\end{array}\n\\right.\n\\end{aligned}\n$$\n\nã“ã®å¯¾å¶ã‚’ã¨ã‚‹ã¨ã€ã€Œã‚ã‚‹ $a$ ã‚’ã¨ã£ã¦ãã¦æ¬¡ã®2å¼ã‚’ã©ã¡ã‚‰ã‚‚æº€ãŸã™ã¨ã\n\n$$\n\\begin{aligned}\n\\left\\{\n\\begin{array}{ll}\na^d \u0026\\neq 1 \u0026 \\pmod n\\\\\na^{2^rd} \u0026\\neq -1 \u0026 \\pmod n \\qquad (\\forall r \\in \\mathbb{Z}, 0\\leq r\\leq s-1)\n\\end{array}\n\\right.\n\\end{aligned}\n$$\n\n$n$ ã¯åˆæˆæ•°ã§ã‚ã‚‹ã€ã¨è¨€ãˆã¾ã™ã€‚\n\nã“ã‚Œã‚’ç”¨ã„ã€æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ç¢ºç‡çš„ãªç´ æ•°åˆ¤å®šãŒã§ãã¾ã™ã€‚\n1. $1\\leq a \\leq n-1$ ã§aã®å€¤ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«ã¨ã£ã¦ãã‚‹ã€‚\n2. ä¸Šã®æ¡ä»¶ã‚’æº€ãŸã—ãŸã‚‰compositeã¨è¿”ã™ã€‚\n3. æº€ãŸã•ãªã‘ã‚Œã°probably primeã¨è¿”ã™ã€‚\n\nã“ã‚Œã‚’ç¹°ã‚Šè¿”ã™ã“ã¨ã§åˆ¤å®šã®ç²¾åº¦ãŒé«˜ã¾ã‚Šã¾ã™ã€‚ã“ã®å‡¦ç†ã‚’Millerâ€“Rabinç´ æ•°åˆ¤å®šæ³•ã¨ã„ã£ã¦ã€å®Ÿè¡Œæ™‚é–“ã¯ $O(k\\log^3 n)$ ã€FFTãƒ™ãƒ¼ã‚¹ã®ä¹—ç®—ã§ $Ã•(k\\log^2 n)$ ã¨ãªã‚Šã¾ã™ã€‚\n\nå…·ä½“ä¾‹ã‚’è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚\nåˆ¤å®šæ™‚ã«probably primeã‚’è¿”ã™æ™‚ pã€compositeã‚’è¿”ã™æ™‚ c ã¨ã—ã¦å…·ä½“å€¤ã‚’å…¥ã‚Œã‚‹ã¨æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n$n = 25$ (åˆæˆæ•°)ã®ã¨ã\n$n-1 = 24 = 2^3 \\times 3$ ã‚ˆã‚Š $s = 3, d = 3$\n\n| a | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23 | 24 |\n|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|\n| $a^3 \\bmod 25$ | 1 | 8 | 2 | 14 | 0 | 16 | 18 | 12 | 4 | 0 | 6 | 3 | 22 | 19 | 0 | 21 | 13 | 7 | 9 | 0 | 11 | 23 | 17 | 24 |\n| $a^6 \\bmod 25$ | 1 | 14 | 4 | 21 | 0 | 6 | 24 | 19 | 16 | 0 | 11 | 9 | 9 | 11 | 0 | 16 | 19 | 24 | 6 | 0 | 21 | 4 | 14 | 1 |\n| $a^{12} \\bmod 25$ | 1 | 21 | 16 | 16 | 0 | 11 | 1 | 11 | 6 | 0 | 21 | 6 | 6 | 21 | 0 | 6 | 11 | 1 | 11 | 0 | 16 | 16 | 21 | 1 |\n| åˆ¤å®š | p | c | c | c | c | c | p | c | c | c | c | c | c | c | c | c | c | p | c | c | c | c | c | p |\n\n$n = 17$ (ç´ æ•°)ã®ã¨ã\n$n-1 = 16 = 2^4 \\times 1$ ã‚ˆã‚Š $s = 4, d = 1$\n\n| a | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 |\n|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|\n| $a \\bmod 17$ | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 |\n| $a^2 \\bmod 17$ | 1 | 4 | 9 | 16 | 8 | 2 | 15 | 13 | 13 | 15 | 2 | 8 | 16 | 9 | 4 | 1 |\n| $a^4 \\bmod 17$ | 1 | 16 | 13 | 1 | 13 | 4 | 4 | 16 | 16 | 4 | 4 | 13 | 1 | 13 | 16 | 1 |\n| $a^8 \\bmod 17$ | 1 | 1 | 16 | 1 | 16 | 16 | 16 | 1 | 1 | 16 | 16 | 16 | 1 | 16 | 1 | 1 |\n| åˆ¤å®š | p | p | p | p | p | p | p | p | p | p | p | p | p | p | p | p |\n\nã‹ãªã‚Šæ­£ç¢ºã«åˆ¤å®šã§ãã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚‹ã§ã—ã‚‡ã†ã€‚\n\nç´ æ•°ã«ã¤ã„ã¦ã¯å¿…ãšæˆåŠŸã—ã€åˆæˆæ•°ã®ã¨ãã¯èª¤ã‚‹å¯èƒ½æ€§ãŒ $1/4$ ä»¥ä¸‹ã¨ã„ã†ã“ã¨ãŒç¤ºã›ã‚‹ã®ã§ã€ $k$ å›è©¦è¡Œã™ã‚Œã°èª¤ã‚Šç‡ã¯ $4^{-k}$ ä»¥ä¸‹ã¨ãªã‚Šã¾ã™ã€‚ã¤ã¾ã‚Šã€ã‚ã‚‹å€¤ã«å¯¾ã—ã¦10å›ç´ æ•°åˆ¤å®šæ³•ã‚’å›ã›ã°99.9999046%æˆåŠŸã™ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚\n\n\n# RSAæš—å·ã‚’æ¥µã‚ã‚‹ï¼(å®Ÿè·µç·¨)\n\nç†è«–ç·¨ã‚’èª­ã‚“ã§RSAæš—å·ã§ä½¿ã‚ã‚Œã‚‹é“å…·ãŸã¡ã‚’æŠŠæ¡ã§ããŸã‹ã¨æ€ã„ã¾ã™ã€‚(ç†è«–ç·¨ã‚’èª­ã‚“ã§ãªã„æ–¹ã¯...èª­ã‚“ã§ã‚‚èª­ã¾ãªãã¦ã‚‚ã©ã¡ã‚‰ã§ã‚‚ã„ã„ã§ã™ã€‚æ°—ã«ãªã£ãŸã¨ãã«èª­ã‚“ã æ–¹ãŒãŸã®ã—ã„ã§ã™ã€‚)\n\nã“ã“ã§ã¯å®Ÿéš›ã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ›¸ã„ã¦æ”»æ’ƒã—ã¦ã„ãã¾ã™ï¼æ”»æ’ƒã—ãŸã“ã¨ãªã„äººã¯ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ããªãŒã‚‰å‹‰å¼·ã§ãã€CTFerã«ã¯ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä¿ç®¡åº«ã¨ã—ã¦ä½¿ã£ã¦ã»ã—ã„ã¨æ€ã£ã¦æ›¸ã„ã¦ã¾ã™ã€‚\n// TODO ã¡ã‚ƒã‚“ã¨æ›¸ã\n\n### ç´¹ä»‹ã™ã‚‹RSAæš—å·ã®è§£èª­æ–¹æ³•\n\n| ã‚¢ãƒ³ãƒã‚±ãƒ¼ã‚¹                                                              | æ”»æ’ƒæŠ€                                                           | æ–¹æ³•                                                   |\n| --------------------------------------                                    | ---------------------------------------------------------------- | -------------------------------------------------      |\n| å…¬é–‹éµ $N$ ã®å€¤ãŒå°ã•ãã¦ã¯ã„ã‘ãªã„                                       | Pollard-$\\rho$ ç´ å› æ•°åˆ†è§£æ³•                                      | ç´ å› æ•°åˆ†è§£                                             |\n| è¿‘ã„å€¤ã®ç´ æ•°ã‚’ä½¿ã£ã¦ã¯ã„ã‘ãªã„                                            | Fermat's method                                                  | ç´ å› æ•°åˆ†è§£                                             |\n| $e$ ã®å€¤ãŒå°ã•ã™ãã¦ã¯ã„ã‘ãªã„                                            | Low Public Exponent Attack                                       | å‰°ä½™ã§ã¯ãªãæ•´æ•°ä¸Šã®eä¹—æ ¹ã¨ãªã‚‹                        |\n| $d$ ã®å€¤ãŒå°ã•ã™ãã¦ã¯ã„ã‘ãªã„($e$ã®å€¤ãŒå¤§ãã™ãã¦ã¯ã„ã‘ãªã„)             | Wiener's Attack, Boneh-Durfee Attack                             | è¿‘ä¼¼åˆ†æ•°ã‹ã‚‰è¦‹ç©ã‚‚ã‚‹, Coppersmith Method               |\n| åŒä¸€ã®å¹³æ–‡ã‚’ç•°ãªã‚‹ $e$ ã§æš—å·åŒ–ã—ãŸæš—å·æ–‡ã‚’ä¸ãˆã¦ã¯ã„ã‘ãªã„               | Common Modulus Attack                                            | $e$ ã«ã¤ã„ã¦æ‹¡å¼µãƒ¦ãƒ¼ã‚¯ãƒªãƒƒãƒ‰ã®äº’é™¤æ³•                   |\n| åŒä¸€ã®å¹³æ–‡ã‚’ç•°ãªã‚‹ $N$ ã§æš—å·åŒ–ã—ãŸæš—å·æ–‡ã‚’ä¸ãˆã¦ã¯ã„ã‘ãªã„               | HÃ¥stad's Broadcast Attack                                        | ä¸­å›½å‰°ä½™å®šç†                                           |\n| åŒä¸€ã®å¹³æ–‡ã‚’åŒä¸€ã® $d$ ç•°ãªã‚‹ $e, N$ ã§æš—å·åŒ–ã—ãŸæš—å·æ–‡ã‚’ä¸ãˆã¦ã¯ã„ã‘ãªã„ | Small Common Private Exponent Attack                             | Coppersmith Method                                     |\n| ä»»æ„ã®æš—å·æ–‡ã‚’å¾©å·ã—ãŸçµæœã‚’çŸ¥ã‚‰ã‚Œã¦ã¯ã„ã‘ãªã„                            | é©å¿œçš„é¸æŠæš—å·æ–‡æ”»æ’ƒ                                             | $a^ec$ ã‚’å¾©å·ã™ã‚‹ã¨ $am$ ã¨ãªã‚‹                        |\n| æš—å·æ–‡ã‚’å¾©å·ã—ãŸçµæœã®å¶å¥‡ã‚’çŸ¥ã‚‰ã‚Œã¦ã¯ã„ã‘ãªã„                            | LSB Decryption Oracle Attack                                     | äºŒåˆ†æ¢ç´¢                                               |\n| RSAã«ãƒã‚°ãŒã‚ã£ã¦ã¯ãªã‚‰ãªã„                                               | RSA-CRT Fault Attack                                             | ç§˜å¯†éµãŒæ›¸ãæ›ãˆã‚Œã‚‹ã¨å¹³æ–‡ã®å·®åˆ†ãŒ $p, q$ ã®å€æ•°ã¨ãªã‚‹ |\n| ä¸Šä½ãƒ“ãƒƒãƒˆãŒå…±é€šã™ã‚‹äºŒã¤ã®å¹³æ–‡ã«å¯¾ã™ã‚‹æš—å·æ–‡ã‚’çŸ¥ã‚‰ã‚Œã¦ã¯ã„ã‘ãªã„          | Franklin-Reiter Related Message Attack                           | æœ€å¤§å…¬ç´„å¼                                             |\n| ç§˜å¯†éµãŒéƒ¨åˆ†çš„ã«ã§ã‚‚çŸ¥ã‚‰ã‚Œã¦ã¯ãªã‚‰ãªã„                                    | Partial Key Exposure Attack                                      | Coppersmith Method                                     |\n\nãã‚Œã¨ã‚ã‹ã‚Šã‚„ã™ã„ã‚ˆã†ã«æš—å·åŒ–, å¾©å·åŒ–é–¢æ•° $Enc, Dec$ ã‚’å®šç¾©ã—ã¦ãŠãã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nEnc(m) \u0026= m^e \u0026\\pmod N \\\\\nDec(c) \u0026= c^d \u0026\\pmod N \\\\\n\\end{aligned}\n$$\n\n#### N ã®å€¤ãŒå°ã•ãã¦ã¯ã„ã‘ãªã„ (Pollard-rho ç´ å› æ•°åˆ†è§£æ³•)\n\nå…¬é–‹éµ $N$ ãŒå°ã•ã„ã¨ç´ å› æ•°åˆ†è§£ã•ã‚Œã¦ç§˜å¯†éµ $p, q$ ã‚’æ±‚ã‚ã‚‰ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚ç´ å› æ•°åˆ†è§£ã‚’è¡Œã†ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯å¤šãã‚ã‚Šã¾ã™ãŒã€ä»Šå›ã¯ãŠæ‰‹è»½ã§é«˜é€Ÿã«æ±‚ã‚ã‚‰ã‚Œã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã‚ã‚‹ Pollard-rho æ³•ã‚’è§£èª¬ã—ã¾ã™ã€‚\n\nä»¥ä¸‹ã®ã‚ˆã†ã«æ“¬ä¼¼çš„ã«ãƒ©ãƒ³ãƒ€ãƒ ãªå€¤ã‚’ç”Ÿæˆã™ã‚‹é–¢æ•° $f$ ã‚’ç”¨ã„ã¦2ã¤ã®å€¤ã®å·®ãŒ $N$ ã¨ã®å…±é€šå› æ•°ã‚’æŒã¤ã¾ã§ç¹°ã‚Šè¿”ã—ã¾ã™ã€‚ã“ã‚Œã¯ãƒ‘ãƒƒã¨è¦‹ã€ãã“ã¾ã§é€Ÿã„ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«è¦‹ãˆã¾ã›ã‚“ãŒã€èª•ç”Ÿæ—¥ã®ãƒ‘ãƒ©ãƒ‰ãƒƒã‚¯ã‚¹ã¨åŒã˜ã‚ˆã†ãªã‚«ãƒ©ã‚¯ãƒªã«ãªã£ã¦ã„ã¦å¹³å‡è¨ˆç®—é‡ $\\mathcal{O}(\\sqrt{N})$ ã§ç´ å› æ•°ã‚’è¦‹ã¤ã‘ã‚‰ã‚Œã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nf(x) \u0026= x^2 + c \\pmod N \\\\\nx_{i+1} \u0026= f(x_i) \\\\\ny_{i+1} \u0026= f(f(y_i)) \\\\\n\\end{aligned}\n$$\n\n:::details ãƒ©ã‚¤ãƒ–ãƒ©ãƒª\n$c$ ã¯ $1$ ã¨ã—ã€åˆæœŸå€¤ã¯ $2$ ã‚’ç”¨ã„ã‚‹ã“ã¨ãŒå¤šã„ã‚‰ã—ã„ã§ã™ã€‚\n```python\ndef gcd(m, n):\n    while n:\n        m, n = n, m % n\n    return m\n\ndef pollard_rho(N):\n    f = lambda x: (x*x + 1) % N\n    x = y = 2\n    d = 1\n    while d == 1:\n        x = f(x)\n        y = f(f(y))\n        d = gcd(abs(x - y), N)\n    return d if d \u003c N else -1\n```\n:::\n\nã¾ãŸç´ å› æ•°åˆ†è§£ã®çµæœã‚’ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨ã—ã¦ä¿ç®¡ã—ã¦ã„ã‚‹ã‚µã‚¤ãƒˆãŒã‚ã£ã¦å®Ÿæˆ¦ã§ä¾¿åˆ©ã§ã™ã€‚\nhttp://www.factordb.com/\n\n\n\n#### è¿‘ã„å€¤ã®ç´ æ•°ã‚’ç”¨ã„ã¦ã¯ã„ã‘ãªã„ (Fermat's method)\n\n$p, q$ ãŒè¿‘ã„ã¨ä¸­å¿ƒã‹ã‚‰é †ã«èª¿ã¹ã‚‹ã“ã¨ã§ç´ æ•°ã®çµ„ã‚’è¦‹ã¤ã‘ã‚‰ã‚Œã¾ã™ã€‚æ§˜ã€…ãªæ¢ç´¢ã®æ–¹æ³•ãŒã‚ã‚Šã¾ã™ãŒã€ä»¥ä¸‹ã®ã‚ˆã†ãªæ–¹æ³•ãŒã‚ˆãç”¨ã„ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nN \u0026= pq \\\\\n  \u0026= (x + y)(x - y) \\\\\n  \u0026= x^2 - y^2 \\\\\ny^2 \u0026= x^2 - N \\\\\n\\end{aligned}\n$$\n\nã‚ˆã‚ŠåˆæœŸå€¤ã‚’ $x = \\lceil\\sqrt N\\rceil, y = 0$ ã¨ã—ã¦ $x$ ã®å€¤ã‚’1ãšã¤ä¸Šã’ãªãŒã‚‰ $y$ ã®å€¤ã‚‚ä¸Šã’ã¦ã„ãã€å³è¾ºã¨å·¦è¾ºã®è¨ˆç®—çµæœãŒä¸€è‡´ã—ãŸã¨ã $p, q$ ãŒæ±‚ã¾ã‚‹ã¨ã„ã†ä»•æ›ã‘ã§ã™ã€‚\n\nã•ã‚‰ã«ã€ã“ã®ã¾ã¾ã ã¨ç´ æ•° $p, q$ ãŒè¿‘ã„å€¤ã®ã¨ãã—ã‹å¯¾å¿œã§ãã¾ã›ã‚“ãŒã€ç´ æ•°åŒå£«ã®è¿‘ä¼¼æ¯”ã‚’ä¸ãˆã‚Œã°ãã®ä»˜è¿‘ã§æ¢ç´¢ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ç´ æ•° $p, q$ ã®è¿‘ä¼¼æ¯”ãŒ $a : b$ ã¨ä¸ãˆã‚‰ã‚Œã‚Œã°æ¬¡ã®ã‚ˆã†ã«è¨ˆç®—ã§ãã¾ã™ã€‚\n\n$$\n\\begin{aligned}\n\\frac{a}{b} \u0026\\approx \\frac{p}{q} \\\\\naq \u0026\\approx bp \\\\\naq \\times bp \u0026= abN\n\\end{aligned}\n$$\n\nã“ã‚Œã‚ˆã‚Š $abN$ ã«å¯¾ã— Fermat's method ã‚’é©ç”¨ã™ã‚‹ã“ã¨ã§ $p, q$ ãŒæ±‚ã¾ã‚Šã¾ã™ã€‚\n\nã¾ãŸã€$p, q$ ã«ã¤ã„ã¦ã‚ˆã‚Šè¤‡é›‘ãªé–¢ä¿‚ãŒã‚ã‚‹å ´åˆã«ã¯ Coppersmith method ãŒé©ç”¨ã§ãã¾ã™ã€‚\n\n:::details ãƒ©ã‚¤ãƒ–ãƒ©ãƒª\n```python\ndef fermat(N):\n    x = floor(sqrt(N)) + 1\n    y = floor(sqrt(x * x - N))\n    while True:\n        w = x * x - N - y * y\n        if w == 0:\n            break\n        elif w \u003e 0:\n            y += 1\n        else:\n            x += 1\n    return (x - y, x + y)\n```\n:::\n\n#### eã®å€¤ãŒå°ã•ã™ãã¦ã¯ã„ã‘ãªã„ (Low Public Exponent Attack)\n\n$e$ ãŒå°ã•ã„ã¨ãã€$m^e \u003c N$ ã¨ãªã£ã¦ã€ç´¯ä¹—æ ¹ã‚’å–ã‚Œã°ãã®ã¾ã¾å¹³æ–‡ã«ãªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nc \u0026â‰¡ m^e \\pmod N \\\\\nc \u0026= m^e \\\\\nm \u0026= \\sqrt[e] c\n\\end{aligned}\n$$\n\nç´¯ä¹—æ ¹ã¯ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ³æ³•ã¨å‘¼ã°ã‚Œã‚‹è¿‘ä¼¼æ³•ã‚’ç”¨ã„ã‚‹ã¨é«˜é€Ÿã«æ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚ã“ã‚Œã¯Pythonãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®gmpy2ã§å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã®ã§ãã‚Œã‚’ä½¿ã„ã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nf(x) \u0026= x^e - c \\\\\n0 \u0026= f'(x_n)(x_n - x_{n+1}) + f(x_n) \\\\\nx_{n+1} \u0026= x_n - \\frac{f(x_n)}{f'(x_n)} \\\\\nx_{n+1} \u0026= x_n - \\frac{x_n}{e} + \\frac{c}{ex_n^{e-1}}\n\\end{aligned}\n$$\n\n\n:::details ãƒ©ã‚¤ãƒ–ãƒ©ãƒª\n```python\nimport gmpy2\n\nm = gmpy2.iroot(c, e)[0]\n```\n:::\n\n#### eã®å€¤ãŒå¤§ãã™ãã¦ã¯ã„ã‘ãªã„ (Wiener's Attack)\n\n$e$ ãŒå¤§ãã„ã¨ã $(e \\approx N)$ ã€ç§˜å¯†éµ $d = e^{-1}$ ãŒå°ã•ããªã‚Š $d$ ã‚’æ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚\n\næ¬¡ã®ã‚ˆã†ã« $e/N$ ã«å¯¾ã—ã¦ãƒ¦ãƒ¼ã‚¯ãƒªãƒƒãƒ‰ã®äº’é™¤æ³•ã‚’ç”¨ã„ã¦é€£åˆ†æ•°å±•é–‹ã—ã€é©å½“ãªå ´æ‰€ã§æ‰“ã¡åˆ‡ã£ã¦å†æ§‹æˆã™ã‚‹ã“ã¨ã§è¿‘ä¼¼åˆ†æ•°ã‚’ä½œã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ãã—ã¦ã“ã®è¿‘ä¼¼åˆ†æ•°ãŒ $k/d$ ã¨ä¸€è‡´ã™ã‚‹ã¨ãç§˜å¯†éµ $d$ ãŒæ±‚ã¾ã‚Šã¾ã™ã€‚\n\n$$\n\\begin{aligned}\ned \u0026â‰¡ 1 \\pmod{\\phi(N)} \\\\\ned \u0026= k\\phi(N) + 1 = k(N - p - q + 1) + 1 \\\\\n\\frac{e}{N} \u0026= \\frac{k}{d}(1-\\delta) \u0026\\delta = \\frac{p + q - 1 - \\frac{1}{k}}{N} \\approx \\frac{1}{2^{512}} \\\\\n\\frac{e}{N} \u0026\\approx q_0 + \\cfrac{1}{q_1 + \\cfrac{1}{q_2 + \\cfrac{1}{\\ddots \\cfrac{}{q_{m-1} + \\cfrac{1}{q_m}}}}} = \\frac{k_m}{d_m} \\\\\n\\end{aligned}\n$$\n\n$q_i, k_i, d_i$ ã«ã¤ã„ã¦ã¯æ¬¡ã®æ¼¸åŒ–å¼ã‚’ç”¨ã„ã¦è¨ˆç®—ã§ãã¾ã™ã€‚å½¢å¼çš„ã«æ•°åˆ—ã® $-1, -2$ ç•ªç›®ã‚‚å®šç¾©ã™ã‚‹ã“ã¨ã§åˆ†ã‹ã‚Šã‚„ã™ãè¨ˆç®—ã§ãã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nr_{-2} \u0026= e \u0026 k_{-2} \u0026= 0 \u0026d_{-2} \u0026= 1 \\\\\nr_{-1} \u0026= N \u0026 k_{-1} \u0026= 1 \u0026d_{-1} \u0026= 0 \\\\\nr_{i-2} \\div r_{i-1} \u0026= q_{i} \\cdots r_{i} \u0026 k_i \u0026= q_i k_{iâˆ’1} + k_{iâˆ’2} \u0026d_i \u0026= q_i d_{iâˆ’1}+d_{iâˆ’2} \\\\\n\\end{aligned}\n$$\n\n$q_i, k_i, d_i$ ã®è¨ˆç®—ã‚’ã©ã“ã§æ‰“ã¡åˆ‡ã‚‹ã‹ã¯2æ¬¡æ–¹ç¨‹å¼ $x^2 - (p + q)x + pq = 0$ ã®åˆ¤åˆ¥å¼ã‚’ç”¨ã„ã¦åˆ¤å®šã—ã¾ã™ã€‚åˆ¤åˆ¥å¼ãŒæ­£ã¨ãªã‚‹ã¨ãè§£ $p, q$ ã®ãŒå­˜åœ¨ã—ã€ $p+q$ ãŒæ•´æ•°ãªã‚‰ã° $p, q$ ã‚‚æ•´æ•°ã¨ãªã‚‹ã¨ã„ã†æ–¹æ³•ã§ã™ã€‚\n\n$$\n\\begin{aligned}\np + q \u0026= N - \\frac{ed_i - 1}{k_i} + 1 \\in \\mathbb{N} \\\\\npq \u0026= N \\\\\nD \u0026= (p + q)^2 - 4N \\geq 0 \\\\\n\\end{aligned}\n$$\n\nã“ã®æ”»æ’ƒã¯ä»¥ä¸‹ã®ã‚ˆã†ã« $d$ ãŒååˆ†å°ã•ã„ã¨ãã—ã‹æˆç«‹ã—ã¾ã›ã‚“ã€‚ $e$ ãŒå¤§ãã„ã¨ $d$ ãŒå°ã•ããªã‚Šã‚„ã™ã„ã¨ã„ã†æ€§è³ªãŒã‚ã‚‹ç‚ºã€å…¬é–‹éµ $e$ ãŒå¤§ãã„ã¨ãã¨è¡¨ç¾ã—ã¾ã™ãŒã€$d$ ãŒã“ã‚Œä»¥ä¸Šã§ã‚ã‚Œã°æ”»æ’ƒã¯æˆç«‹ã—ã¾ã›ã‚“ã€‚\n\n$$\nd \u003c \\frac{N^{\\frac{1}{4}}}{3}\n$$\n\n:::details ãƒ©ã‚¤ãƒ–ãƒ©ãƒª\n```python\nimport gmpy2\n\ndef WienersAttack(n, e):\n    r0, r1 = e, n\n    k0, k1 = 0, 1\n    d0, d1 = 1, 0\n\n    i = 0\n    while r1 != 0:\n        q = r0 // r1\n        r0, r1 = r1, r0 % r1\n        k0, k1 = k1, q*k1 + k0\n        d0, d1 = d1, q*d1 + d0\n\n        if i % 2 == 0:\n            k = k1 + k0\n            d = d1 + d0\n        else:\n            k = k1\n            d = d1\n\n        i += 1\n        if k == 0 or (e * d - 1) % k != 0:\n            continue\n        s = n - (e * d - 1) // k + 1\n        D = s*s - 4*n\n        sD = gmpy2.isqrt(D)\n        if D \u003e 0 and sD * sD == D:\n            return d\n    return -1\n```\n:::\n\nã•ã‚‰ã«Wiener's Attackã‚ˆã‚Šå¼·ã„æ”»æ’ƒã¨ã—ã¦Boneh-Durfee AttackãŒã‚ã‚Šã¾ã™ã€‚ã¾ãšä»¥ä¸‹ã®ã‚ˆã†ã«å¤‰å½¢ã—ã¾ã™ã€‚\n\n$$\n\\begin{aligned}\ned \u0026= 1 \u0026 \\pmod{\\phi} \\\\\ned \u0026= k \\phi + 1 \u0026 (over \\ \\mathbb{Z}) \\\\\n0 \u0026= k \\phi + 1 \u0026 \\pmod e \\\\\n\u0026= k (N + 1 - p - q) + 1 \u0026 \\pmod e \\\\\n\u0026= 2k \\left(\\frac{N + 1}{2} + \\frac{-p -q}{2}\\right) + 1 \u0026 \\pmod e \\\\\n\\end{aligned}\n$$\n\nã“ã®æ–¹ç¨‹å¼ã«ã¤ã„ã¦ $f(x,y) = x (A + y) + 1$ ã¨ãŠãã€é–¢æ•° $f(x,y)$ ã«å¯¾ã—ã¦ Multivariate Coppersmith Method ã‚’ç”¨ã„ã‚‹ã“ã¨ã§ $p + q$ ãŒæ±‚ã¾ã‚Šã€è§£ãã“ã¨ãŒã§ãã¾ã™ã€‚\n\n:::details ãƒ©ã‚¤ãƒ–ãƒ©ãƒª\nSageMath ã¯æ¨™æº–ã« Multivariate Coppersmith Method ã‚’ä½¿ã†ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚ [defund/coppersmith](https://github.com/defund/coppersmith) ã¨ã„ã†ãƒªãƒã‚¸ãƒˆãƒªã«ãã‚ŒãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ãã‚Œã‚’ç”¨ã„ã¦æ”»æ’ƒã™ã‚‹ã“ã¨ãŒå¤šã„ã§ã™ã€‚\n\n```python\nload('coppersmith.sage')\n\ndef boneh_durfee(N, e):\n\tbounds = (floor(N^.25), 2^1024)\n\tP.\u003ck, s\u003e = PolynomialRing(Zmod(e))\n\tf = 2*k*((N+1)//2 - s) + 1\n\tprint(small_roots(f, bounds, m=3, d=4))\n```\n:::\n\n#### åŒä¸€ã®å¹³æ–‡ã‚’ç•°ãªã‚‹eã§æš—å·åŒ–ã—ãŸæš—å·æ–‡ã‚’ä¸ãˆã¦ã¯ã„ã‘ãªã„ (Common Modulus Attack)\n\nç•°ãªã‚‹ $e$ ã§æš—å·åŒ–ã™ã‚‹ã¨ãƒ¦ãƒ¼ã‚¯ãƒªãƒƒãƒ‰ã®äº’é™¤æ³•ã‚’ç”¨ã„ã¦ã‚ˆã‚Šå°ã•ãª $e$ ã®æš—å·æ–‡ã‚’ä½œã‚Œã¦ã€è§£èª­ã§ãã¦ã—ã¾ã„ã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nc_1 \u0026â‰¡ m^{e_1} \\pmod N \\\\\nc_2 \u0026â‰¡ m^{e_2} \\pmod N \\\\\n\\end{aligned}\n$$\n\n$e_1, e_2$ ã«ã¤ã„ã¦ $\\gcd(e_1, e_2) = g$ ã®ã¨ãã€æ‹¡å¼µãƒ¦ãƒ¼ã‚¯ãƒªãƒƒãƒ‰ã®äº’é™¤æ³•ã‚’ç”¨ã„ã‚‹ã“ã¨ã§æ¬¡ã‚’æº€ãŸã™ $s_1, s_2$ ã‚’æ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚\n\n$$\n\\begin{aligned}\ns_1e_1 + s_2e_2 \u0026= g \\\\\nc_1^{s_1} c_2^{s_2} = m^{s_1e_1 + s_2e_2} \u0026= m^g \\pmod N \\\\\n\\end{aligned}\n$$\n\nã“ã‚Œã«ã‚ˆã£ã¦ $e_1, e_2$ ãŒäº’ã„ã«ç´ ã®ã¨ãã€ã¾ãŸã¯ $g$ ãŒå°ã•ã„ãªã‚‰ã°Low Public Exponent Attackã‚’ç”¨ã„ã¦ $m$ ã‚’æ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚\n\n#### åŒä¸€ã®å¹³æ–‡ã‚’ç•°ãªã‚‹nã§æš—å·åŒ–ã—ãŸæš—å·æ–‡ã‚’ä¸ãˆã¦ã¯ã„ã‘ãªã„ (HÃ¥stad's Broadcast Attack)\n\n$n_1, \\ldots, n_e$ ãŒäº’ã„ã«ç´ ãªã‚‰ã°ä¸­å›½å‰°ä½™å®šç†ã‚’ç”¨ã„ã¦ $m$ ã‚’æ±‚ã‚ã‚‰ã‚Œã‚‹ã€‚Garnerã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ç”¨ã„ã¦ $m^e$ ã‚’è¨ˆç®—ã™ã‚‹ã€‚\n\n$$\n\\begin{aligned}\nc_1 \u0026â‰¡ m^e \\pmod{N_1} \\\\\nc_2 \u0026â‰¡ m^e \\pmod{N_2} \\\\\n\\vdots \\\\\nc_e \u0026â‰¡ m^e \\pmod{N_e} \\\\\nm^e \u0026â‰¡ CRT(c_1, c_2, \\dots , c_e) \\pmod{N_1N_2\\cdots N_e} \\\\\nm^e \u0026= CRT(c_1, c_2, \\dots , c_e)\n\\end{aligned}\n$$\n\n:::details ãƒ©ã‚¤ãƒ–ãƒ©ãƒª\n\n```python\nimport gmpy2\n\ne = 3\nc = [c1, c2, c3]\nN = [N1, N2, N3]\nme = crt(c, N)\nm = gmpy2.iroot(me, e)[0]\n```\n:::\n\n#### ä»»æ„ã®æš—å·æ–‡ã‚’å¾©å·ã—ãŸçµæœã‚’çŸ¥ã‚‰ã‚Œã¦ã¯ã„ã‘ãªã„ (é©å¿œçš„é¸æŠæš—å·æ–‡æ”»æ’ƒ)\n\nä»»æ„ã®æš—å·ã‚’å¾©å·ã—ãŸçµæœã‚’çŸ¥ã£ã¦ã„ã‚‹ã¨ãã€ã‚ã‚‹æš—å·æ–‡ã®å¾©å·çµæœã‚’é˜²ãŒã‚Œã¦ã„ãŸã¨ã—ã¦ã‚‚ä»–ã®æš—å·ã‚’é€ã‚‹ã“ã¨ã§è§£èª­ã§ãã¾ã™ã€‚\n$2^e$ ã‚’æš—å·æ–‡ã«æ›ã‘ã¦å¾©å·ã—ãŸçµæœã‚’ $2$ ã§å‰²ã‚Œã°ãã®å¹³æ–‡ãŒã‚ã‹ã‚Šã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nDec(2^ec) = 2m \\pmod N\n\\end{aligned}\n$$\n\nã“ã‚Œã«å¯¾ã™ã‚‹é˜²å¾¡æ–¹æ³•ã¨ã—ã¦å¹³æ–‡ã«ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’æ–½ã—ã€å¾©å·åŒ–ã—ãŸéš›ã«ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°å½¢å¼ãŒé•ã†ã¨ãã¯ç›¸æ‰‹ã«æ¸¡ã•ãªã„ã‚ˆã†ã«ã™ã‚‹ã¨ã„ã†æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã£ã¦æ­£å½“ãªæš—å·æ–‡ã—ã‹å—ã‘å…¥ã‚Œãšã€é©å¿œçš„é¸æŠæš—å·æ–‡æ”»æ’ƒã‚’é˜²ã’ã¾ã™ã€‚\n\nãƒ‘ãƒ‡ã‚£ãƒ³ã‚°å½¢å¼ã®1ã¤ã«PKCS #1 v1.5ãŒã‚ã‚Šã¾ã™ã€‚\n\n`0002\u003crandom\u003e00\u003chashprefix\u003e\u003cmessage\u003e`\n\nã“ã‚Œã«ã¤ã„ã¦ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ãŒåˆã£ã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’ç›¸æ‰‹ã«é€ã£ã¦ã—ã¾ã†ã¨Padding Oracle Attackã§æ”»æ’ƒã§ãã€PKCS #1 v1.5ã§ã¯200ä¸‡ç¨‹åº¦é€ã‚‹ã¨å¹³æ–‡ãŒèª­ã‚ã¦ã—ã¾ã„ã¾ã™ã€‚\n\nå¯¾ã—ã¦Padding Oracle Attackã§ç ´ã‚‰ã‚Œãªã„ã‚ˆã†ãªãƒ‘ãƒ‡ã‚£ãƒ³ã‚°å½¢å¼ã¯InD-CCA2ã¨å‘¼ã³ã¾ã™ã€‚\n\nãã®1ã¤ã§ã‚ã‚‹OAEP(Optimal Asymmetric Encryption Padding)ã«ã¤ã„ã¦ã¯æ¬¡ã®è¨˜äº‹ã‚’èª­ã‚€ã¨ã‚ˆã„ã§ã™ã€‚\n\n##### å‚è€ƒæ–‡çŒ®\nhttps://inaz2.hatenablog.com/entry/2016/01/26/222303\n\n#### æš—å·æ–‡ã‚’å¾©å·ã—ãŸçµæœã®å¶å¥‡ã‚’çŸ¥ã‚‰ã‚Œã¦ã¯ã„ã‘ãªã„ (LSB Decryption Oracle Attack)\n\nå…¨ã¦ãŒåˆ†ã‹ã£ã¦ã„ãªãã¨ã‚‚å¶å¥‡ã•ãˆåˆ†ã‹ã‚Œã°ä»»æ„ã®æš—å·æ–‡ã‚’å¾©å·ã§ãã‚‹ã€‚\nã‚ã‚‹æš—å·æ–‡ $c$ ã«å¯¾ã—ã€$2^e$ ã‚’xå›æ›ã‘ãŸå€¤ã‚’å¾©å·ã—ãŸä¸‹ä½1bitã‚’å¾—ã¦å¹³æ–‡ã‚’æ±‚ã‚ã¾ã™ã€‚å¾—ã‚‰ã‚Œã‚‹ä¸‹ä½1bitã¯æ¬¡ã®é–¢æ•° $f(x)$ ã‚’ç”¨ã„ã¦ $f(x) \\bmod 2$ ã¨è¡¨ã›ã‚‰ã‚Œã¾ã™ã€‚decã¯å¾©å·åŒ–é–¢æ•°ã§ã™ã€‚\n\n$$\n\\begin{aligned}\nf(x) \u0026= Dec(2^{ex}c \\bmod N) = 2^xm \\bmod N \\\\\n\\end{aligned}\n$$\n\n$x = 1$ ã®ã¨ã\nã¾ãš $0 \\leq m \u003c N$ ã§ã‚ã‚‹ã‹ã‚‰ $f(1)$ ã¯ $2m \\bmod N = 2m, 2m - N$ ã®ã©ã¡ã‚‰ã‹ã¨ãªã‚‹ã€‚ã¾ãŸ $2m$ ã¯å¶æ•°ã€$N$ ã¯å¥‡æ•°ã§ã‚ã‚‹ã‹ã‚‰ $f(1)$ ãŒå¶æ•°ã‹å¥‡æ•°ã‹ã§ $2m, 2m - N$ ã®ã©ã¡ã‚‰ã‹ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ã™ã‚‹ã¨ $m$ ãŒå­˜åœ¨ã™ã‚‹åŒºé–“ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚\n\n$$\n\\begin{aligned}\n\u0026f(1) = 2m \\bmod N \\\\\n\u0026\n\\begin{cases}\n    f(1) \\bmod 2 = 1 \\Leftrightarrow f(1) = 2m - N \u0026 \\Leftrightarrow \\frac{N}{2} \\leq m \u003c N \\\\\n    f(1) \\bmod 2 = 0 \\Leftrightarrow f(1) = 2m \u0026 \\Leftrightarrow 0 \\leq m \u003c \\frac{N}{2} \\\\\n\\end{cases}\n\\end{aligned}\n$$\n\nã¤ã¾ã‚Š $m$ ã¯ $[0, N)$ ã®ç¯„å›²ã«å¯¾ã—ã¦æœ€ä¸‹ä½ãƒ“ãƒƒãƒˆãŒ1ã®ã¨ãåŒºé–“ã®å³åŠåˆ†ã€0ã®ã¨ãåŒºé–“ã®å·¦åŠåˆ†ã ã¨è¨€ãˆã¾ã™ã€‚\n\n$x = 2$ ã®ã¨ã\nå‰ã®çµæœã‚’ç”¨ã„ã¦å ´åˆåˆ†ã‘ã—ã¦è€ƒãˆã‚‹ã¨åŒæ§˜ã®è€ƒãˆæ–¹ã§æ¬¡ã®ã‚ˆã†ã«å°ã‘ã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nf(2) \u0026= 2(2m \\bmod N) \\bmod N \\\\\nf(1) \u0026= 2m - N \\Rightarrow f(2) = 4m - 2N \\bmod N \\\\\n\u0026\n\\begin{cases}\n    f(2) \\bmod 2 = 1 \\Leftrightarrow f(2) = 4m - 3N \u0026 \\Leftrightarrow \\frac{3N}{4} \\leq m \u003c N \\\\\n    f(2) \\bmod 2 = 0 \\Leftrightarrow f(2) = 4m - 2N \u0026 \\Leftrightarrow \\frac{N}{2} \\leq m \u003c \\frac{3N}{4} \\\\\n\\end{cases}\n\\\\\nf(1) \u0026= 2m \\Rightarrow f(2) = 4m \\bmod N \\\\\n\u0026\n\\begin{cases}\n    f(2) \\bmod 2 = 1 \\Leftrightarrow f(2) = 4m - N \u0026 \\Leftrightarrow \\frac{N}{4} \\leq m \u003c \\frac{N}{2} \\\\\n    f(2) \\bmod 2 = 0 \\Leftrightarrow f(2) = 4m \u0026 \\Leftrightarrow 0 \\leq m \u003c \\frac{N}{4} \\\\\n\\end{cases}\n\\end{aligned}\n$$\n\nã¤ã¾ã‚Š $m$ ã¯ $[0, N/2)$ ã€ $[N/2, N)$ ã®ãã‚Œãã‚Œã®ç¯„å›²ã«å¯¾ã—ã¦æœ€ä¸‹ä½ãƒ“ãƒƒãƒˆãŒ1ã®ã¨ãåŒºé–“ã®å³åŠåˆ†ã€0ã®ã¨ãåŒºé–“ã®å·¦åŠåˆ†ã ã¨è¨€ãˆã¾ã™ã€‚\n\n$x \\geq 3$ ã®ã¨ãã‚‚åŒæ§˜ã«è¡Œã£ã¦ $m$ ã®å€¤ã‚’æ±‚ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n\n#### RSAã«ãƒã‚°ãŒã‚ã£ã¦ã¯ãªã‚‰ãªã„ (RSA-CRT Fault Attack)\n\nRSAã®å¾©å·ã‚’ã™ã‚‹éš›ã« $c^d$ ã‚’è¨ˆç®—ã—ã¾ã™ãŒã€ $d = e^{-1} \\pmod {\\phi (N)}$ ã¯æ¯”è¼ƒçš„å¤§ãã„ã®ã§å‡¦ç†ãŒé‡ããªã‚Šã¾ã™ã€‚ã“ã‚Œã«å¯¾ã—ã¦RSA-CRTã¯ä¸­å›½å‰°ä½™å®šç†(CRT)ã‚’åˆ©ç”¨ã—ã¦é«˜é€ŸåŒ–ã‚’å›³ã£ã¦ã„ã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nm_p \u0026= c^{d \\ \\bmod \\ pâˆ’1} \u0026 \\pmod p \\\\\nm_q \u0026= c^{d \\ \\bmod \\ qâˆ’1} \u0026 \\pmod q \\\\\nm \u0026= \\mathrm{CRT}(m_p, m_q) \u0026 \\pmod {N} \\\\\n\u0026= m_q + (m_p - m_q) (q^{-1} \\bmod p) q \u0026 \\pmod {N} \\\\\n\\end{aligned}\n$$\n\nã“ã‚Œã‚ˆã‚Šä¸‹ã®å€¤ã‚’ç§˜å¯†éµã¨ã—ã¦æŒã¤ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nd_p \u0026= d \\bmod pâˆ’1 \\\\\nd_q \u0026= d \\bmod qâˆ’1 \\\\\nq_{inv} \u0026= q^{-1} \\bmod p \\\\\n\\end{aligned}\n$$\n\nã—ã‹ã— $d_p, d_q$ ã®ã©ã¡ã‚‰ã‹ãŒä½•ã‚‰ã‹ã®æ–¹æ³•ã§æ›¸ãæ›ãˆã‚‰ã‚Œã¦ã—ã¾ã£ãŸã¨ãæ¬¡ã®ã‚ˆã†ã«ã§ãã¾ã™ã€‚\n\n$$\n\\begin{aligned}\nm_p \u0026= c^{d_p} \\pmod p \\\\\nm_q' \u0026= c^{d_q'} \\pmod q \\\\\nm \u0026= CRT(m_p, m_q) = kp + m_p \\\\\nm' \u0026= CRT(m_p, m_q') = k'p + m_p \\\\\nm - m' \u0026= (k - k')p \\\\\np \u0026= \\gcd(m - m', N) \\\\\n\\end{aligned}\n$$\n\nã“ã‚Œã‚ˆã‚Šå¹³æ–‡ $m, m'$ ã‚’çŸ¥ã‚‹ã“ã¨ãŒã§ãã‚Œã°è§£ãã“ã¨ãŒã§ãã¾ã™ã€‚\n\n#### ç§˜å¯†éµã®ä¸Šä½ãƒ“ãƒƒãƒˆã¾ãŸã¯ä¸‹ä½ãƒ“ãƒƒãƒˆãŒçŸ¥ã‚‰ã‚Œã¦ã¯ã„ã‘ãªã„ (Partial Key Exposure Attack)\n\nç§˜å¯†éµã‚’éƒ¨åˆ†çš„ã«çŸ¥ã£ã¦ã„ã•ãˆã„ã‚Œã°ã€Coppersmith Method ã‚’ç”¨ã„ã¦è§£ã‘ã¦ã—ã¾ã†ã€‚\n$n$ ã‚’ $N$ ã®ãƒ“ãƒƒãƒˆæ•°ã¨ã™ã‚‹ã€‚\n\n##### p, q ã®ã©ã¡ã‚‰ã‹ã‚’ n/4 ãƒ“ãƒƒãƒˆç¨‹åº¦çŸ¥ã£ã¦ã„ã‚‹ã¨ã\n\n\n$$\n\\begin{aligned}\nf(x) \u0026= p_{upper} + x \u0026 \\pmod N \\\\\nf(x) \u0026= 2^{k}x + p_{lower} \u0026 \\pmod N \\\\\nf(x,y) \u0026= 2^kx + p_{mid} + y \u0026 \\pmod N \\\\\n\\end{aligned}\n$$\n\n##### d ã‚’ n/4 ãƒ“ãƒƒãƒˆç¨‹åº¦çŸ¥ã£ã¦ã„ã‚‹ã¨ã\n\n$e$ ãŒç·å½“ã‚Šå‡ºæ¥ã‚‹ãã‚‰ã„å°ã•ã„ã¨ãã« $d$ ã‚’ $n/4$ ãƒ“ãƒƒãƒˆã ã‘çŸ¥ã£ã¦ã„ã‚Œã°å…ƒã® $d$ ã‚’æ§‹æˆã§ãã‚‹ã€‚å¤§ä½“ã®å ´åˆã¯ $e = 65537$ ã§ã‚ã‚‹ã‹ã‚‰ååˆ†å¯èƒ½ã§ã‚ã‚‹ã€‚$d \u003c \\phi(N)$ ã‚ˆã‚Š $0 \u003c k \\leq e$ ã¨ãªã‚Šã€ã“ã® $k$ ã«å¯¾ã—ã¦ç·å½“ãŸã‚Šã™ã‚‹ã€‚\n\n- ä¸Šä½ãƒ“ãƒƒãƒˆã®å ´åˆ\n$d$ ã¨ $p, q$ ã®é–¢ä¿‚å¼ã‚’ç«‹ã¦ã‚‹ã€‚\n\n$$\n\\begin{aligned}\ned \u0026= 1 \u0026 \\pmod{\\phi(N)} \\\\\ned \u0026= 1 + k(N - p - q + 1) \\\\\nd \u0026= \\frac{kN}{e} - \\frac{k(p+q-1) -1}{e} \\\\\ne(d_{upper} + x) \u0026= - k (y - 1) + 1 \u0026 \\pmod N \\\\\n\\end{aligned}\n$$\n\nç¬¬ä¸‰å¼ã«ã¤ã„ã¦ $p + q \\approx \\sqrt{N}$ ã‚ˆã‚Šç¬¬äºŒé …ã¯ä¸Šä½ãƒ“ãƒƒãƒˆã«é–¢é€£ã™ã‚‹æƒ…å ±ã‚’æŒãŸãªã„ã€‚ã“ã‚Œã‚ˆã‚Šç¬¬ä¸€é …ã® $k$ ã«ã¤ã„ã¦ç·å½“ã‚Šã—ã¦ä¸Šä½ãƒ“ãƒƒãƒˆã¨ä¸€è‡´ã™ã‚‹ $k$ ã‚’è¦‹ã¤ã‘ã‚Œã°ã‚ˆã„ã€‚ã™ã‚‹ã¨ç¬¬4å¼ã«å¯¾ã— Multivariate CopperSmith ã‚’ç”¨ã„ã¦ã€$d$ ãŒã‚ã‹ã‚‹ã€‚\n\n- ä¸‹ä½ãƒ“ãƒƒãƒˆã®å ´åˆ\n$d$ ã®ä¸‹ä½ãƒ“ãƒƒãƒˆã‹ã‚‰ $k$ ã«ã¤ã„ã¦ç·å½“ã‚Šã—ã¦ $p$ ã®ä¸‹ä½ãƒ“ãƒƒãƒˆã‚’æ±‚ã‚ã‚‹ã€‚ã™ã‚‹ã¨å…ˆç¨‹ã®å•é¡Œã«å¸°ç€ã§ãã¦ $p$ ãŒã‚ã‹ã‚Š $d$ ãŒã‚ã‹ã‚‹ã€‚\n\n$$\n\\begin{aligned}\ned \u0026= 1 + k\\left(N - p - \\frac{N}{p} + 1\\right) \\\\\nedp \u0026= p + kp(N - p + 1) - kN \u0026 \\pmod {2^{n/4}} \\\\\n\\end{aligned}\n$$\n\n\n\n##### CRTã®ç§˜å¯†éµ d ã®ãƒ“ãƒƒãƒˆã‚’ n/4 ç¨‹åº¦çŸ¥ã£ã¦ã„ã‚‹ã¨ã\n\nä¸Šã¨åŒæ§˜ã«ã—ã¦è§£ã‘ã¾ã™ã€‚\n\n$$\n\\begin{aligned}\ned_p \u0026= 1 \u0026 \\pmod{p-1} \\\\\ned_p \u0026= 1 + k_p(p âˆ’ 1) \\\\\n\\end{aligned}\n$$\n\n##### å¹³æ–‡ m ã®ãƒ“ãƒƒãƒˆã‚’ (1-1/e)n ç¨‹åº¦çŸ¥ã£ã¦ã„ã‚‹ã¨ã\n\n$$\n\\begin{aligned}\nf(x) \u0026= (m_{upper} + x)^e - c \u0026 \\pmod N \\\\\nf(x) \u0026= (2^kx + m_{lower})^e - c \u0026 \\pmod N \\\\\nf(x,y) \u0026= (2^kx + m_{mid} + y)^e - c \u0026 \\pmod N \\\\\n\\end{aligned}\n$$\n\n```python\ndef partial_p(p0, kbits, n):\n    PR.\u003cx\u003e = PolynomialRing(Zmod(n))\n    nbits = n.nbits()\n\n    f = 2^kbits*x + p0\n    f = f.monic()\n    roots = f.small_roots(X=2^(nbits//2-kbits), beta=0.3)  # find root \u003c 2^(nbits//2-kbits) with factor \u003e= n^0.3\n    if roots:\n        x0 = roots[0]\n        p = gcd(2^kbits*x0 + p0, n)\n        return ZZ(p)\n\ndef find_p(d0, kbits, e, n):\n    X = var('X')\n\n\t# edx - kx(n-x+1) + kn = x mod 2^k\n\t# (ed - 1)x - kx(n-x+1) + kn = 0 mod 2^k\n    for k in xrange(1, e+1):\n        results = solve_mod([e*d0*X - k*X*(n-X+1) + k*n == X], 2^kbits)\n        for x in results:\n            p0 = ZZ(x[0])\n            p = partial_p(p0, kbits, n)\n            if p:\n                return p\n\n\nif __name__ == '__main__':\n    n = 0x00bef498e6eb2cffe71312da47ab89d2c47db7438ea2cfa992ddddbc2a01978001fc51e286e6ebf028396cdb8b3323c60e6b9d50cd84187cf7f48e3875a2f0890f70b02333ad89db2923863ce146562286f63fb0a1d0198e3a6862ba5ac12e85a5c6d0d27cb1c81bdf69cc5bc95b8001a2f744517f9437b4ddd5a076fc0e9a5de1a7a268c40f31aa29e8dc27c0b3a182299ca7a9335b4bd4585452f6107c238e486c98dd73a5f9862e9e80b152f53381c72f897107551c281259ac3ee32c4b4f46cc03127d1bf699acd0266f3c6729253c70da0c69b1560fa172735709866b375b6eba294e1ce8b46fba798ba380080b4bf9603998cac199d9cd46e30ae8da9e7f\n    e = 3\n    d = 0x7f4dbb449cc8aa9a0cb73c2fc7b1372da924d7b46c8a710c93e9281c010faaabfd8bec59ef47f5702648925cccc284099d138b33ad65a8a54db425a3c1f5b0b4f5cac22273b13cc617aed340d98ec1af4ed5206be011097c459726e72b7459192f35e1a8768567ea46883d30e7aaabc1fa2d8baa62cfcde93915a4a809bc3e9547bb07e1ecca16e51078312e89f0561e31b55db8b0ea5bc87a6ca7464a3d7c28a68c60e2ba88fe6a7d2b300d723e549910a987da89fc0a1c0de197a3d62c501b1f0e819891b1c32a0d6c233f2a285df87bb9e5c6c72d983ff3e706696bba639f573f9c3646968f02f3a615a438e20bb7c38d53621079f2899547a95350f3abeb\n\n    beta = 0.5\n    epsilon = beta^2/7\n\n    nbits = n.nbits()\n    kbits = floor(nbits*(beta^2+epsilon))\n    d0 = d \u0026 (2^kbits-1)\n    print \"lower %d bits (of %d bits) is given\" % (kbits, nbits)\n\n    p = find_p(d0, kbits, e, n)\n    print \"found p: %d\" % p\n    q = n//p\n    print d\n    print inverse_mod(e, (p-1)*(q-1))\n```\n\n\n\n:::details ä¾‹é¡Œ\n```python\nfrom Crypto.Util.number import *\n\np = getPrime(512)\nq = getPrime(512)\nn = p * q\ne = 3\n\nbeta = 0.5\nepsilon = beta^2/7\n\npbits = p.nbits()\nkbits = floor(n.nbits() * (beta^2 - epsilon))\n# p upper\npbar = p \u0026 (2^pbits - 2^kbits)\n\nprint(f\"upper {pbits - kbits} bits (of {pbits} bits) is given\")\n\nPR.\u003cx\u003e = PolynomialRing(Zmod(n))\nf = x + pbar\n\nprint(p)\nx0 = f.small_roots(X=2^kbits, beta=0.3)[0]\nprint(x0 + pbar)\n```\n:::\n\n#### ä¸Šä½ãƒ“ãƒƒãƒˆãŒå…±é€šã™ã‚‹äºŒã¤ã®å¹³æ–‡ã«å¯¾ã™ã‚‹æš—å·æ–‡ã‚’çŸ¥ã‚‰ã‚Œã¦ã¯ã„ã‘ãªã„ (Franklin-Reiter Related Message Attack)\n\n$f(m_1) = m_2$\n$m_1 = pad_1 + m, m_2 = pad_2 + m, m_2 = m_1 + (pad_2 - pad_1)$\n\n$$\n\\begin{aligned}\nc_1 \u0026= m_1^{e_1} \u0026 \\pmod N \\\\\nc_2 \u0026= m_2^{e_2} = f(m_1)^{e_2} \u0026 \\pmod N \\\\\nx - m_1 \u0026= \\gcd(x^{e_1} - c_1, f(x)^{e_2} - c_2) \u0026 \\pmod N \\\\\n\\end{aligned}\n$$\n\nHalf GCD\n\n#### Coppersmith's Short Pad Attack\n\näºŒã¤ã®æš—å·æ–‡ã«ã¤ã„ã¦å¹³æ–‡ã®ä¸Šä½bitãŒnã®bitæ•°ã® (1-1/e2) ç¨‹åº¦å…±é€šã™ã‚‹å ´åˆã€ã“ã‚Œã‚‰ã‹ã‚‰ãã‚Œãã‚Œã®å¹³æ–‡ã‚’æ±‚ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ å…·ä½“çš„ã«ã¯ã€æ¬¡ã®ã‚ˆã†ãªæ‰‹é †ã¨ãªã‚‹ã€‚\n\n1.  `g1 = x^e - c1`ã¨`g2 = (x+y)^e - c2`ã®[çµ‚çµå¼ï¼ˆresultantï¼‰](https://ja.wikipedia.org/wiki/%E7%B5%82%E7%B5%90%E5%BC%8F)ã‚’æ±‚ã‚ã€ãã®æ ¹ã¨ã—ã¦yã®å€¤ã‚’å¾—ã‚‹\n2.  yã®å€¤ã‚’ä»£å…¥ã—ãŸä¸Šã§g1(x)ã¨g2(x)ã®æœ€å¤§å…¬ç´„å¼ã‚’æ±‚ã‚ã€ãã®æ ¹ã¨ã—ã¦m1ã‚’å¾—ã‚‹\n3.  `m2 = m1 + y`ã‚ˆã‚Šm2ã‚’å¾—ã‚‹\nå¤šé …å¼GCD $O(n\\log^2n)$ ã‚’ä½¿ã†\nFranklin-Reiter Related Message Attack\n\n$$\n\\begin{aligned}\nm_1 \u0026= pad_1 + m \\\\\nm_2 \u0026= pad_2 + m \\\\\n\u0026= m_1 + pad_2 - pad_1 \\\\\nc_1 \u0026= m_1^e \\pmod N \\\\\nc_2 \u0026= m_2^e = (m_1 + pad_2 - pad_1)^e \\pmod N \\\\\nf_1(x) \u0026= x^e - c_1 \\\\\n\u0026= (x - m_1)h_1(x) \\\\\nf_2(x) \u0026= (x + pad_2 - pad_1)^e - c_2 \\\\\n\u0026= (x - m_1)h_2(x) \\\\\nx - m_1 \u0026= \\gcd(f_1, f_2) \\\\\n\\end{aligned}\n$$\n\nhttps://inaz2.hatenablog.com/entry/2016/01/20/022936\n\nRTACTF\nhttps://xagawa.hatenablog.com/entry/2021/12/20/232133\nCryptoã®Writeupã‚’ã¾ã¨ã‚ã¦ã‚‹äºº\nhttps://mystiz.hk\n\n\n## å®Ÿè·µç·¨ã¾ã¨ã‚\n\nä»Šå›ã¯RSAæš—å·ã«çµã‚Šã¾ã—ãŸãŒå®Ÿéš›ã®CTFã¯ã‚‚ã£ã¨åºƒãã¦è‡ªç”±ã§ã™ï¼RSAã«ä¼¼ã¦ã‚‹ã‘ã©è§£æ³•ãŒé•ã†æš—å·ã‚„ã±ã£ã¨è¦‹RSAã§ã¯ãªã•ãã†ãªæš—å·ã‚‚RSAã«å¸°ç€ã•ã›ã‚‹ã“ã¨ãŒå‡ºæ¥ãŸã‚Šã™ã‚‹æš—å·ãªã©æ§˜ã€…ã‚ã‚Šã¾ã™ã€‚ãã‚Œã§ã‚‚ã“ã“ã§æ‰±ã£ãŸæ¦‚å¿µã¯ãã‚Œã‚‰ã®åŸºç¤ã«ãªã‚Šã¾ã™ã€‚\n\nã‚ãªãŸã‚‚CTFã«å‡ºã¦æš—å·ã®ä¸–ç•Œã‚’å ªèƒ½ã—ã¦ã¿ã¾ã›ã‚“ã‹ã€‚\n\n### å‚è€ƒæ–‡çŒ®\n[RSAæš—å·æ”»æ’ƒã§ä»–ã§ã‚‚ä½¿ãˆã‚‹ n ã®ã“ã¨](https://project-euphoria.dev/blog/27-rsa-attacks/)\n[CTF crypto é€†å¼•ã](https://furutsuki.hatenablog.com/entry/2021/03/16/095021)\n[Recovering cryptographic keys from partial information, by example](https://eprint.iacr.org/2020/1506.pdf)\n[Twenty Years of Attacks on the RSA Cryptosystem](https://crypto.stanford.edu/~dabo/pubs/papers/RSA-survey.pdf)\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/SSH":{"title":"SSH","content":"\nOpenSSH 9.0 ãƒã‚¹ãƒˆé‡å­æš—å·åŒ–æ™‚ä»£ã¸ã®å¯¾å¿œã¨ã—ã¦ã€æ ¼å­æš—å·ç³»ã®ã€ŒStreamlined NTRU Primeã€ã¨ã€æ¥•å††æ›²ç·šæš—å·ç³»ã®ã€Œx25519ã€ã‹ã‚‰ãªã‚‹ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æ‰‹æ³•ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¨ãªã£ã¦ã„ã‚‹ã€‚\n\ned448\ned25519\n\n\nGnu Privacy Guard: GPG\nmaster key\nsub key\nPritty Good Privacy: PGPéµ\n[GPGã§è‡ªåˆ†ç”¨ã®ç§˜å¯†éµã‚’1ã¤ã«çµ±ä¸€ã™ã‚‹ Â· JoeMPhilips](http://joemphilips.com/post/gpg_memo/)\n\nSoloKey, Nitrokey","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/SageMath":{"title":"SageMath ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆ","content":"\n## èª¬æ˜\n\nSageMathã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’æ›¸ãã¨ãã«å‚ç…§ã—ãŸã„ã¨æ€ã†ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆã‚’ä½œæˆã—ãŸã„ã€‚\n\n## å®Ÿè£…\n\n```python\n# import\nload('coppersmith.sage')\n\n# æ•´æ•°ç’°, å‰°ä½™ç’°, æœ‰é™ä½“\nZZ, Zmod(N), GF(q)\n\nR = GF(2 ^ m)\nR.fetch_int(12)\n# å¤šé …å¼\nR = Zmod(N)\nP. \u003c x, y \u003e = PolynomialRing(R)\nf = x ^ 2 + 3*x + 3\nf.small_roots()\np /= p.leading_coefficient()  # æœ€é«˜æ¬¡é … ãƒ¢ãƒ‹ãƒƒã‚¯åŒ–\np = p.monic()\nideal(f).groebner_basis()\n\n# è¡Œåˆ—\nM = matrix(QQ, [[1, 2], [3, 4]])\nM.LLL()\n\nA = matrix(Zn, [\n    [_a, _b, _c, _d, _e],\n    [1, 0, 0, 0, 0],\n    [0, 1, 0, 0, 0],\n    [0, 0, 1, 0, 0],\n    [0, 0, 0, 1, 0],\n])\n\nb11, b12, b13, b14, b15 = map(int, (A ^ e)[4])\n\nD, P = m.eigenmatrix_left()\nP ^ (-1)*D*P == m\n\nQ = diagonal_matrix(weights)\n\nB *= Q\nB = B.LLL()\nB /= Q\n\n# ç´ å› æ•°åˆ†è§£\nset(factor(n))\n\n# æ¥•å††æ›²ç·š\nEllipticCurve()\n```\n\n## å‚è€ƒ\n- [quickref](https://wiki.sagemath.org/quickref?action=AttachFile\u0026do=get\u0026target=quickref.pdf)\n- [quickref-linalg.pdf (shinshu-u.ac.jp)](http://math.shinshu-u.ac.jp/~nu/nora/sage/doc/refcard/quickref-linalg/200905/ja-utf8/quickref-linalg.pdf)\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/books":{"title":"å‚è€ƒè³‡æ–™","content":"\n## Crypto books\n- æš—å·ç†è«–å…¥é–€â€•æš—å·ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€ç½²åã¨èªè¨¼ã€ãã®æ•°å­¦çš„åŸºç¤ ï¼ˆåŸæ›¸ç¬¬ï¼“ç‰ˆï¼‰ãƒ–ãƒ¼ãƒ•ãƒãƒ³ Buchmann (è‘—)\n- The Block Cipher Companion\n- ç¾ä»£æš—å·ã®èª•ç”Ÿã¨ç™ºå±•ï¼šãƒã‚¹ãƒˆé‡å­æš—å·ãƒ»ä»®æƒ³é€šè²¨ãƒ»æ–°ã—ã„æš—å· å²¡æœ¬ é¾æ˜Â (è‘—)\n- ç¾ä»£æš—å·ã¸ã®æ‹›å¾… (ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæƒ…å ±å­¦ã‚³ã‚¢ãƒ»ãƒ†ã‚­ã‚¹ãƒˆ) é»’æ¾¤ é¦¨Â (è‘—)\n\n- æš—å·ç†è«–ã®ãŸã‚ã®æ ¼å­ã®æ•°å­¦ çµ¶ç‰ˆ\n- [Complexity of Lattice Problems | SpringerLink](https://link.springer.com/book/10.1007/978-1-4615-0897-7)\n\n- The Arithmetic of Elliptic Curves (è‘—: Silverman)\n- [kojima-shuron.pdf (kyoto-u.ac.jp)](https://www.math.kyoto-u.ac.jp/~yukie/kojima-shuron.pdf)\n\n- [Mathematics of Public Key Cryptography (auckland.ac.nz)](https://www.math.auckland.ac.nz/~sgal018/crypto-book/crypto-book.html)\n- [CRYSTALS - Kyber](https://eprint.iacr.org/2017/634.pdf)\n- [Meet The Signature Standard of the Future â€¦ SPHINCS+ | by Prof Bill Buchanan OBE | ASecuritySite: When Bob Met Alice | Medium](https://medium.com/asecuritysite-when-bob-met-alice/meet-the-standard-of-the-future-sphincs-ee2b9e4c7b5e)\n\n- [Advances in Elliptic Curve CryptographyLondon Mathematical Society Lecture Note Series ; 317 (preterhuman.net)](https://cdn.preterhuman.net/texts/cryptography/Cambridge%20University%20Press.%20Advances%20in%20Elliptic%20Curve%20Cryptography%20(2005).pdf)\n\n## Security\n- [Flatt Security Blog](https://blog.flatt.tech/)\n- [RET2 Systems Blog](https://blog.ret2.io/)\n\n## Mathematics books\n- åˆå­¦è€…ã®ãŸã‚ã®ä»£æ•°å¹¾ä½• (è‘—: æ°¸ç”°é›…å®œ)\n- æ•°å­¦åŸè«– (è‘—: æ–è—¤ æ¯…)\n- å²©æ³¢åŸºç¤æ•°å­¦é¸æ›¸ ä½“ã¨ã‚¬ãƒ­ã‚¢ç†è«– (è‘—: è—¤ï¨‘æºäºŒéƒ)\n\n## Electric books\n- [ELM by ChaN (elm-chan.org)](http://elm-chan.org/)\n- [ãƒ—ãƒ­ãƒˆåŸºæ¿ã®ä½¿ã„ã‹ãŸã€é›»å­å·¥ä½œã€‘ - Niconico Video](https://www.nicovideo.jp/watch/sm22265444)\n- [æšã’ã¦ç‚™ã£ã¦ã‚ã‹ã‚‹ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®ã—ãã¿ï¼šæ›¸ç±æ¡ˆå†…ï½œæŠ€è¡“è©•è«–ç¤¾ (gihyo.jp)](https://gihyo.jp/book/2020/978-4-297-11601-9)\n\n## Event\n- 1æœˆ SCIS (Symposium on Cryptography and Information Security)\n- 8æœˆ DEFCON AVTOKYO\n- CODE BLUE\n- GCC\n- SecHack365\n\nã‚¸ãƒ¥ãƒ‹ã‚¢ä¼šå“¡ã¯å­¦å£«3å¹´ã¾ã§\n\n## Crypto Paper\n- [Breaking SIDH in polynomial time (iacr.org)](https://eprint.iacr.org/2022/1038)\n\n## Certification\n- eJPT Certification\n- CISSP\n- OSCP\n- OSED\n- INE Cyber Security Training","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/coppersmith":{"title":"Coppersmith Method","content":"\n## èª¬æ˜\n\n#### Thm. Howgrave-Grahamã®è£œé¡Œ\n$N$ ã‚’æ³•ã€ $g(x) \\in \\mathbb{Z}[x]$ ã‚’æ•´æ•°å¤šé …å¼ã¨ã—ã€å«ã¾ã‚Œã‚‹å˜é …å¼ã®æ•°ã‚’ $\\omega$ ã¨ã™ã‚‹ã€‚$g(x)$ ã«å¯¾ã—ã¦ã‚ã‚‹ $X$ ãŒå­˜åœ¨ã—ã€$g(x_0) = 0 \\pmod{N}$ ãªã‚‹ $x_0 \\in \\mathbb{Z}$ ã«ã¤ã„ã¦ $|x_0| \\leq X$ ã§ã‚ã‚‹ã¨ä»®å®šã™ã‚‹ã€‚ã“ã®ã¨ã\n\n$$\n\\|g(xX)\\| \u003c \\frac{N}{\\sqrt{\\omega}}\n$$\n\nãŒæˆç«‹ã™ã‚‹ãªã‚‰ã° $g(x_0) = 0$ ãŒæ•´æ•°æ–¹ç¨‹å¼ã¨ã—ã¦æˆç«‹ã™ã‚‹ã€‚ãŸã ã—\n\n$$\n\\|g(x)\\| = \\left\\|\\sum_{i=0}^{\\deg g(x)}g_i\\right\\| = \\sqrt{\\sum_{i=0}^{\\deg g(x)}g_i^2}\n$$\n\nã§ã‚ã‚Šã€ $\\deg g(x)$ ã¯ $g(x)$ ã®æ¬¡æ•°ã§ã‚ã‚‹ã€‚\n\nè¨¼æ˜\n\n$$\n\\begin{aligned}\n|g(x_0)| \u0026= \\left|\\sum_{i=0}^{\\deg g(x_0)}g_ix_0^i\\right| \\\\\n\u0026\\leq \\sum_{i}|g_ix_0^i| \\\\\n\u0026\\leq \\sum_{i}|g_i|X^i \\\\\n\u0026= \\sum_{i}(1\\cdot|g_i|X^i) \\\\\n\u0026\\leq \\sqrt{\\sum_{i, g_i \\neq 0}1} \\sqrt{\\sum_{i}(|g_i|X^i)^2} \u0026\u0026 \\left(\\because \\text{ã‚³ãƒ¼ã‚·ãƒ¼ï¼ã‚·ãƒ¥ãƒ¯ãƒ«ãƒ„ã®ä¸ç­‰å¼}\\right) \\\\\n\u0026= \\sqrt{\\omega}\\|g(xX)\\| \u003c N \u0026\u0026 \\left(\\because \\|g(xX)\\| \u003c \\frac{N}{\\sqrt{\\omega}}\\right)\n\\end{aligned}\n$$\n\n$g(x_0) = 0 \\pmod N$ ã‚ˆã‚Š $g(x_0) = 0$ ã¨ãªã‚‹ã€‚\n\n-----\n\nã¤ã¾ã‚Šã€ã€Œå‰°ä½™ã®æ–¹ç¨‹å¼ã¯ä¿‚æ•°ãŒã‚ã‚‹ç¨‹åº¦å°ã•ã‘ã‚Œã°ãã®ã¾ã¾æ•´æ•°æ–¹ç¨‹å¼ã¨ãªã‚‹ã‚ˆã€ã¨è¨€ã£ã¦ã„ã¾ã™ã€‚ã“ã“ã§å‹˜ã®ã„ã„äººã¯LLLã‚’ç”¨ã„ã¦ä¿‚æ•°ã‚’å°ã•ãã™ã‚Œã°æ•´æ•°æ–¹ç¨‹å¼ã«å¤‰æ›ã§ãã¦è§£ã‘ã‚‹ã®ã§ã¯...ï¼ï¼Ÿã¨æ°—ä»˜ãã§ã—ã‚‡ã†ã€‚å®Ÿéš›ã«è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚\n\nã¨ã‚Šã‚ãˆãšçŠ¶æ³ã‚’æ•´ç†ã™ã‚‹ã¨ã€LLLã«å…¥ã‚Œã‚‹å€¤ã¯å„ä¿‚æ•°ã¨ã—ã¦ã€LLLã‚’ä½¿ã†ç‚ºã«ã¯è¤‡æ•°ã®æ–¹ç¨‹å¼ãŒå¿…è¦ã«ãªã£ã¦ãã¾ã™ã€‚ãã—ã¦ãã‚Œã‚‰ã®æ–¹ç¨‹å¼ã¯åŒã˜è§£ã‚’æŒã¤å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ç¾åœ¨ã€ãã®è§£ãŒåˆ†ã‹ã‚‰ãªã„ã®ã§ã™ãŒã€ã©ã†ã—ãŸã‚‰ãã‚“ãªæ–¹ç¨‹å¼ãŒä½œã‚Œã‚‹ã§ã—ã‚‡ã†ã‹ã€‚\n\nå®Ÿã¯ $\\bmod {N}$ ã§ã¯é›£ã—ã„ã®ã§ã€$\\bmod {N^m}$ ã«æŒã¡ä¸Šã’ã‚‹ã“ã¨ã§åŒã˜è§£ã®æ–¹ç¨‹å¼ã‚’å¢—ã‚„ã™ã“ã¨ãŒã§ãã¾ã™ã€‚\n\n-----\n\n#### Lemma\n$N$ ã‚’æ³•ã€$f(x)$ ã‚’å¤šé …å¼ã¨ã™ã‚‹ã€‚è‡ªç„¶æ•° $m, l$ ã«ã¤ã„ã¦\n\n$$\ng_{i,j}(x) := N^{mâˆ’i}x^j f^i(x) \\ (0 \\leq i \\leq m, 0 \\leq j\\leq l)\n$$\n\nã¨ãŠãã€‚ã“ã®ã¨ãã€ $f(x_0) = 0 \\pmod N$ ã‚’ã¿ãŸã™ $x_0 \\in \\mathbb{Z}$ ã«ã¤ã„ã¦ã€ $g_{i,j}(x_0) = 0 \\pmod{N^m}$ ã¨ãªã‚‹ã€‚\n\nè¨¼æ˜\n\n$f(x_0) = 0 \\pmod N$ ãªã®ã§ $f(x_0) = kN$ ã¨ãŠã‘ã‚‹ã€‚\n\n$$\n\\begin{aligned}\ng_{i,j}(x_0) \u0026= N^{mâˆ’i}x_0^j f^i(x_0) \\\\\n\u0026= N^{mâˆ’i}x_0^j (kN)^i \\\\\n\u0026= k^ix_0^j N^m \\\\\ng_{i,j}(x_0) \u0026= 0 \\pmod{N^m} \\\\\n\\end{aligned}\n$$\n\n-----\n\nã“ã‚Œã§æ–¹ç¨‹å¼ã‚’å¢—ã‚„ã™ã“ã¨ãŒã§ãã¾ã—ãŸï¼ã¡ã‚ƒã‚“ã¨LLLã§å‹•ãã‹ã¡ã‚‡ã£ã¨ä¸å®‰ã§ã™ãŒã¨ã‚Šã‚ãˆãšã‚„ã£ã¦ã¿ã¾ã™ã€‚\n\nå°ã•ãã—ãŸã„æ–¹ç¨‹å¼ã¯ $g_{i,j}(xX)$ ã§ã‚ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ã€‚\n$g_{i,j}(x)$ ã® $k$ æ¬¡ã®ä¿‚æ•°ã®ã“ã¨ã‚’ $g_{i,j}^{(k)}$ ã¨è¡¨ã™ã“ã¨ã«ã—ã¾ã™ã€‚\n\n$$\n\\begin{pmatrix}\ng_{0,0}^{(0)} \u0026 g_{0,0}^{(1)}X \u0026 g_{0,0}^{(2)}X^2 \u0026 g_{0,0}^{(3)}X^3 \u0026 g_{0,0}^{(4)}X^4 \u0026 g_{0,0}^{(5)}X^5 \\\\\ng_{0,1}^{(0)} \u0026 g_{0,1}^{(1)}X \u0026 g_{0,1}^{(2)}X^2 \u0026 g_{0,1}^{(3)}X^3 \u0026 g_{0,1}^{(4)}X^4 \u0026 g_{0,1}^{(5)}X^5 \\\\\ng_{1,0}^{(0)} \u0026 g_{1,0}^{(1)}X \u0026 g_{1,0}^{(2)}X^2 \u0026 g_{1,0}^{(3)}X^3 \u0026 g_{1,0}^{(4)}X^4 \u0026 g_{1,0}^{(5)}X^5 \\\\\ng_{1,1}^{(0)} \u0026 g_{1,1}^{(1)}X \u0026 g_{1,1}^{(2)}X^2 \u0026 g_{1,1}^{(3)}X^3 \u0026 g_{1,1}^{(4)}X^4 \u0026 g_{1,1}^{(5)}X^5 \\\\\ng_{2,0}^{(0)} \u0026 g_{2,0}^{(1)}X \u0026 g_{2,0}^{(2)}X^2 \u0026 g_{2,0}^{(3)}X^3 \u0026 g_{2,0}^{(4)}X^4 \u0026 g_{2,0}^{(5)}X^5 \\\\\ng_{2,1}^{(0)} \u0026 g_{2,1}^{(1)}X \u0026 g_{2,1}^{(2)}X^2 \u0026 g_{2,1}^{(3)}X^3 \u0026 g_{2,1}^{(4)}X^4 \u0026 g_{2,1}^{(5)}X^5 \\\\\n\\end{pmatrix}\n$$\n\nã“ã‚Œã‚’LLLã«é€šã—ã¦ã‚ã’ã‚‹ã¨ç„¡äº‹å°ã•ãªå€¤ã®æ–¹ç¨‹å¼ãŒè¿”ã£ã¦ãã¾ã™ã€‚ã“ã‚ŒãŒHowgrave-Grahamã®è£œé¡Œã‚’æº€ãŸã—ã¦ã„ã‚Œã°æ•´æ•°æ–¹ç¨‹å¼ã¨ãªã‚Šã¾ã™ã€‚å¾Œã¯å¢—æ¸›è¡¨æ›¸ã„ãŸã‚Šã—ã¦æ¢ç´¢ã™ã‚Œã°è§£ã‘ã¾ã™ã€‚\n\nã“ã‚Œã‚‰ã®æ“ä½œã¯Coppersmithã®å®šç†ã¨å‘¼ã°ã‚Œã¦ã„ã¾ã™ã€‚\n\n---\n\n#### Thm. Coppersmithã®å®šç†\n$N$ ã‚’æ³•ã¨ã— $f(x)$ ã‚’ãƒ¢ãƒ‹ãƒƒã‚¯ãª 1å¤‰æ•° $\\delta$ å¤šé …å¼ã¨ã™ã‚‹ã€‚ã“ã®ã¨ã $f(x_0) = 0 \\pmod{N}$ ã¨æ¬¡ã®æ¡ä»¶ã‚’æº€ãŸã™ã‚ˆã†ãª $x_0$ ã‚’åŠ¹ç‡ã‚ˆãæ±‚ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹\n\n$$\n|x_0| \\leq N^{\\frac{1}{\\delta}}\n$$\n\n---\n\nã•ã‚‰ã«Coppersmithã®å®šç†ã«ã¯æ‹¡å¼µã§ãã‚‹ã“ã¨ãŒ2ã¤ã‚ã‚Šã¾ã™ã€‚\n\n- æœªçŸ¥ã®æ³•ã«ã¤ã„ã¦è§£ã‘ã‚‹ã€‚ç´ å› æ•°åˆ†è§£ãŒå‡ºæ¥ãªã„ã»ã©å¤§ããªæ•°ã‚’æ³•ã¨ã—ãŸã¨ãã«æ—¢çŸ¥ã®æ³•ã®ç´„æ•°ã‚’æ³•ã¨ã™ã‚‹å¼ã®è§£ã‚’æ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚æ³•ãŒå°ã•ã„ã»ã©æ–¹ç¨‹å¼ã«å¯¾ã™ã‚‹åˆ¶ç´„ãŒã‚†ã‚‹ããªã‚Šã¾ã™ã€‚\n- å¤šå¤‰æ•°ã®æ–¹ç¨‹å¼ã‚‚è§£ã‘ã‚‹ã€‚ã“ã‚Œã¯å¤‰æ•°ãŒ1ã¤ã ã‘ã§ã—ãŸãŒã€è¤‡æ•°ã®å¤‰æ•°ã§ã‚‚ã§ãã¾ã™ã€‚å¤‰æ•°ã®æ•°ãŒå¤šã„ã»ã©æ–¹ç¨‹å¼ã«å¯¾ã™ã‚‹åˆ¶ç´„ãŒã‚­ãƒ„ããªã‚Šã¾ã™ã€‚\n\nã“ã‚Œã‚‰ã¯ Howgrave-Grahamã®è£œé¡Œ ãªã©ã‚’è¦‹ç›´ã™ã“ã¨ã§ç°¡å˜ã«æ‹¡å¼µã§ãã¾ã™ã€‚èˆˆå‘³ã‚ã‚‹æ–¹ã¯è€ƒãˆã¦ã¿ã¦ãã ã•ã„ã€‚\n\nã“ã‚Œã‚‰ã‚’ã¾ã¨ã‚ã¦Coppersmith Methodã¨å‘¼ã³ã¾ã™ã€‚\n\nBerlekamp-Zassenhauseæ³•\n\n## å®Ÿè£…\n\n## ä½¿ç”¨ä¾‹\n\n## å‚è€ƒ\n- [å…ƒè«–æ–‡](https://static.aminer.org/pdf/PDF/000/192/854/finding_a_small_root_of_a_univariate_modular_equation.pdf)\n- [katagaitai workshop 2018 winter](http://elliptic-shiho.github.io/slide/katagaitai_winter_2018.pdf)\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/cryptography/AttackModel":{"title":"Attack Model","content":"\nãƒ©ãƒ³ãƒ€ãƒ ã‚ªãƒ©ã‚¯ãƒ«ãƒ¢ãƒ‡ãƒ«\n\n- é¸æŠå¹³æ–‡æ”»æ’ƒ(Chosen-plaintext attack; CPA)\n- é©å¿œçš„é¸æŠå¹³æ–‡æ”»æ’ƒ(Adaptive chosen-plaintext attack; CPA2)\n- é¸æŠæš—å·æ–‡æ”»æ’ƒ(Chosen-ciphertext attack; CCA1)\n- é©å¿œçš„é¸æŠæš—å·æ–‡æ”»æ’ƒ(Adaptive Chosen-ciphertext attack; CCA2)\n- Side-channel attack\n\nâ†“ã‚ã¡ã‚ƒãã¡ã‚ƒã‚ã‹ã‚Šã«ãã„ã€ã¨ã„ã£ã¦ã‚ã‹ã‚Šã‚„ã™ã•ãŒä¸ŠãŒã‚‹æ–¹æ³•ã¨ã¯ï¼Ÿå®šç†è¨¼æ˜ã ã¨æ€ã†.\n\n- ä¸€æ–¹å‘æ€§(Onewayness; OW)\n\t- æš—å·æ–‡ã‹ã‚‰å¹³æ–‡ã‚’æ±‚ã‚ã‚‹ã®ãŒå›°é›£\n- å¼·ç§˜åŒ¿æ€§(Semantic Security; SS)\n\t- æš—å·æ–‡ã‹ã‚‰å¹³æ–‡ã®ã©ã‚“ãªéƒ¨åˆ†æƒ…å ±ã‚‚æ¼ã‚Œãªã„\n- è­˜åˆ¥ä¸å¯èƒ½æ€§(Indistinguishability; IND)\n\t- æš—å·æ–‡ãŒå¹³æ–‡Aã¨Bã®ã©ã¡ã‚‰ã®ã‚‚ã®ã‹ã‚’åŒºåˆ¥ã§ããªã„\n- é ‘å¼·æ€§(Non-Malleability; NM)\n\t- æš—å·æ–‡ãŒä¸ãˆã‚‰ã‚ŒãŸæ™‚ã€ã‚ã‚‹é–¢ä¿‚æ€§ã‚’æŒã£ãŸåˆ¥ã®æš—å·æ–‡ã®ç”ŸæˆãŒä¸å¯\n\t- stream cipher\n\t- RSAæš—å· $Enc(m)\\cdot t^e \\bmod n = Enc(mt)$ padding(OAEP, PKCS 1)\n\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/cryptography/Diffie-Hellman":{"title":"Diffie-Hellman éµäº¤æ›","content":"\n## èª¬æ˜\n\nå…±æœ‰éµã‚’ä½œã‚‹ç‚ºã®æ“ä½œã§ã‚ã‚‹ã€‚å…±æœ‰éµã‚’ä½œã‚‹ã“ã¨ãŒã§ãã‚Œã°å…±æœ‰éµæš—å·ã‚’ç”¨ã„ã¦é€šä¿¡ã§ãã‚‹ã€‚\n\n1. Aliceã¨BobãŒå·¡å›ç¾¤ $G$ ã¨ãã®ç”Ÿæˆå…ƒ $g$ ã‚’å…±æœ‰ã™ã‚‹ã€‚\n2. Aliceã¨Bobã¯ãã‚Œãã‚Œç§˜å¯†éµ $x_a, x_b$ ã‚’ç”Ÿæˆã—ã€å…¬é–‹éµ $y_a = g^{x_a}, y_b = g^{x_b}$ ã‚’å…¬é–‹ã™ã‚‹ã€‚\n3. Aliceã¨Bobã¯è‡ªåˆ†ã®ç§˜å¯†éµã¨ç›¸æ‰‹ã®å…¬é–‹éµã‚’æ›ã‘ã‚‹ã¨ $s = g^{x_ax_b} = y_b^{x_a} = y_a^{x_b}$ ã¨ãªã‚Šã€$s$ ã¯Aliceã¨Bobã®ã¿ãŒçŸ¥ã‚‹å…±æœ‰éµã¨ãªã‚‹ã€‚\n\nECDH ã ã¨ $s$ ã® $x$ åº§æ¨™ã‚’ãƒãƒƒã‚·ãƒ¥åŒ–ã—ãŸã‚‚ã®ã‚’å…±æœ‰éµã¨ã—ã¦ä½¿ã†ã€‚\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/cryptography/Fiat-Shamir":{"title":"Fiat-Shamir å¤‰æ›","content":"\nFiat-Shamirå¤‰æ›ã¯ã€è¨¼æ˜ã‚·ã‚¹ãƒ†ãƒ ã‚’éå¯¾è©±å‹ã«ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã‚‹æœ‰åãªã‚¹ã‚­ãƒ¼ãƒ ã§ã€æ¤œè¨¼è€…ãŒãƒ©ãƒ³ãƒ€ãƒ ã«é¸æŠã™ã‚‹ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã®å€¤ã‚’ï¼ˆãƒ©ãƒ³ãƒ€ãƒ ã‚ªãƒ©ã‚¯ãƒ«ãƒ¢ãƒ‡ãƒ«ã¨ã—ã¦ï¼‰æš—å·å­¦çš„ãƒãƒƒã‚·ãƒ¥é–¢æ•°ã‚’ä½¿ã£ã¦æ±ºå®šè«–çš„ã«å°å‡ºã™ã‚‹ã“ã¨ã§ã€è¨¼æ˜ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’éå¯¾è©±å‹ã«ã™ã‚‹ã€‚\n\nãƒãƒ£ãƒ¬ãƒ³ã‚¸ã®ãƒãƒƒã‚·ãƒ¥è¨ˆç®—ã®éš›ã®å…¥åŠ›ã«ã€è¨¼æ˜ã™ã‚‹ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã«é–¢ã™ã‚‹ã™ã¹ã¦ã®å…¬é–‹å€¤ï¼ˆãƒ©ãƒ³ãƒ€ãƒ ãªã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒ³ãƒˆå€¤ã‚’å«ã‚€ï¼‰ã‚’å«ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹ã¨ã„ã†ã“ã¨ï¼ˆâ†‘ã®ä¾‹ã ã¨å…¥åŠ›ã¯ã€Gã€Vã€Pã€UserIDã€OtherInfoï¼‰ã€‚","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/cryptography/FrozenHeart":{"title":"Frozen Heart","content":"\nFrozen Heartã¯ã€Fiat-Shamirå¤‰æ›ã§ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã®ãƒãƒƒã‚·ãƒ¥è¨ˆç®—ã®éš›ã®å…¥åŠ›ã«ã€è¨¼æ˜ã™ã‚‹ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã«é–¢ã™ã‚‹ã™ã¹ã¦ã®å…¬é–‹å€¤ï¼ˆãƒ©ãƒ³ãƒ€ãƒ ãªã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒ³ãƒˆå€¤ã‚’å«ã‚€ï¼‰ã‚’å«ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹ã¨ã„ã†ã“ã¨ï¼ˆâ†‘ã®ä¾‹ã ã¨å…¥åŠ›ã¯ã€Gã€Vã€Pã€UserIDã€OtherInfoï¼‰ã‚’éµå®ˆã—ã¦ã„ãªã„ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚„å®Ÿè£…ã«ã‚ˆã‚‹è„†å¼±æ€§ã€‚\n\nè©³ã—ã„ã“ã¨ã¯ã™ã¹ã¦ã“ã“ã«\n\n- [Fiat-Shamirå¤‰æ›ã®å®‰å…¨ã§ãªã„é©ç”¨ã«ã‚ˆã‚‹è„†å¼±æ€§Frozen Heart - Develop with pleasure! (hatenablog.com)](https://techmedia-think.hatenablog.com/entry/2022/04/19/193400#:~:text=Fiat%2DShamir%E5%A4%89%E6%8F%9B%E3%81%A8%E3%81%AF,%E9%9D%9E%E5%AF%BE%E8%A9%B1%E5%9E%8B%E3%81%AB%E3%81%99%E3%82%8B%E3%80%82)\n- [Coordinated disclosure of vulnerabilities affecting Girault, Bulletproofs, and PlonK | Trail of Bits Blog](https://blog.trailofbits.com/2022/04/13/part-1-coordinated-disclosure-of-vulnerabilities-affecting-girault-bulletproofs-and-plonk/)\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/cryptography/Fujisaki-Okamoto_Transformation":{"title":"Fujisaki-Okamoto Transformation","content":"\n## èª¬æ˜\n\n## è¨¼æ˜\n\n\n## å‚è€ƒæ–‡çŒ®\n[The Fujisaki-Okamoto Transformation (uni-paderborn.de)](https://cs.uni-paderborn.de/fileadmin/informatik/fg/cuk/Lehre/Abschlussarbeiten/Bachelorarbeiten/2014/BA_Lippert_FOT_final.pdf)\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/cryptography/Schnorr":{"title":"Schnorr Signatures","content":"\n## èª¬æ˜\n\néå¯¾è©±å‹ã‚¼ãƒ­çŸ¥è­˜è¨¼æ˜ãªç½²åã®ä¸€ç¨®ã€‚\n\nå·¡å›ç¾¤ $G$ ä¸Šã§ç½²åã‚’è¡Œã†ã€‚å„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯æ¬¡ã®ã‚ˆã†ã«å®šç¾©ã™ã‚‹ã€‚\n\n- ç”Ÿæˆå…ƒ $g$\n- ç§˜å¯†éµ $x$\n- å…¬é–‹éµ $y = g^x$\n- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ $M$\n\n### ç½²å\n\nä¹±æ•° $k$ ã‚’ç”Ÿæˆã—ã€æ¬¡ã®å€¤ã‚’è¨ˆç®—ã™ã‚‹ã€‚\n\n$$\n\\begin{aligned}\nr \u0026= g^k \\\\\ne \u0026= H(r \\| M) \\\\\ns \u0026= k - xe\n\\end{aligned}\n$$\n\nã“ã®ã¨ã $(s, e)$ ã‚’ç½²åå€¤ã¨ã—ã¦å…¬é–‹ã™ã‚‹ã€‚\n\n### æ¤œè¨¼\n\nå…¬é–‹ã•ã‚Œã¦ã„ã‚‹å€¤ $(g, y, M)$ ã¨ç½²å $(s, e)$ ã‚’ç”¨ã„ã¦æ¬¡ã®å€¤ã‚’è¨ˆç®—ã™ã‚‹ã€‚\n\n$$\n\\begin{aligned}\nr' \u0026= g^sy^e \\\\\ne' \u0026= H(r' \\| M)\n\\end{aligned}\n$$\n\nã“ã“ã§ $e = e'$ ã¨ãªã‚Œã°ç½²åãŒæœ‰åŠ¹ã§ã‚ã‚‹ã¨æ¤œè¨¼ã•ã‚ŒãŸã“ã¨ã«ãªã‚‹ã€‚\n\n## å‚è€ƒ\n\n- [Schnorrç½²å â€•â€• 30å¹´ã®æ™‚ã‚’è¶…ãˆã¦æ³¨ç›®ã‚’é›†ã‚ã‚‹é›»å­ç½²å](https://blog.visvirial.com/articles/721)\n- [RFC8235](https://datatracker.ietf.org/doc/html/rfc8235)","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/cryptography/ZeroKnowledgeProof":{"title":"ã‚¼ãƒ­çŸ¥è­˜è¨¼æ˜","content":"\nã‚¼ãƒ­çŸ¥è­˜è¨¼æ˜ã®æ€§è³ª\n- å®Œå…¨æ€§ï¼ˆCompletenessï¼‰\n    - è¨¼æ˜è€…ã®ä¸»å¼µãŒçœŸã§ã‚ã‚‹ãªã‚‰ã°ã€æ¤œè¨¼è€…ã¯çœŸã§ã‚ã‚‹ã“ã¨ãŒå¿…ãšã‚ã‹ã‚‹ã“ã¨ã€‚\n- å¥å…¨æ€§ï¼ˆSoundnessï¼‰\n    - è¨¼æ˜è€…ã®ä¸»å¼µãŒå½ã§ã‚ã‚Œã°ã€æ¤œè¨¼è€…ã¯ã‹ãªã‚Šé«˜ã„ç¢ºç‡ã§ãã‚ŒãŒå½ã§ã‚ã‚‹ã“ã¨è¦‹æŠœã‘ã‚‹ã“ã¨ã€‚\n- ã‚¼ãƒ­çŸ¥è­˜æ€§ï¼ˆZero Knowledgeï¼‰\n\t- ã‚ã‚‰ã‚†ã‚‹å ´åˆã«ãŠã„ã¦ã€æ¤œè¨¼è€…ãŒè¨¼æ˜è€…ã‹ã‚‰ä½•ã‚‰ã‹ã®çŸ¥è­˜ï¼ˆæƒ…å ±ï¼‰ã‚’ç›—ã‚‚ã†ã¨ã—ã¦ã‚‚ã€è¨¼æ˜è€…ã®ä¸»å¼µãŒçœŸã§ã‚ã‚‹ã“ã¨ä»¥ä¸Šã®çŸ¥è­˜ã¯å¾—ã‚‰ã‚Œãªã„\n\n\nåå‰ã®é€šã‚Šå¯¾è©±å‹ã¯æœ‰åãªæ´çªŸã®ä¾‹ã®ã‚ˆã†ã«è¨¼æ˜è€…ã¨æ¤œè¨¼è€…ãŒã‚„ã‚Šã¨ã‚Šã‚’ç¹°ã‚Šè¿”ã—ã€è¨¼æ˜è€…ãŒæœ¬å½“ã«æ­£ã—ã„æƒ…å ±ã‚’æŒã£ã¦ã„ã‚‹ã‹ã‚’ç¢ºç‡çš„ã«æ¤œè¨¼ã™ã‚‹æ–¹ã§ã™ã€‚\n\nä¸€æ–¹ã€éå¯¾è©±å‹ã®ã‚¼ãƒ­çŸ¥è­˜è¨¼æ˜ã¯è¨¼æ˜è€…ã¨æ¤œè¨¼è€…ã¯ã‚„ã‚Šã¨ã‚Šã‚’ã›ãšã«è¨¼æ˜ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚å¯¾è©±ã‚’è¡Œã†ä»£ã‚ã‚Šã«è¨¼æ˜è€…ã¨æ¤œè¨¼è€…ã®é–“ã«ç¬¬ä¸‰è€…ã‚’ç½®ãã€CRSã¨å‘¼ã°ã‚Œã‚‹äº‹å‰ã«å…¬é–‹ã•ã‚Œã‚‹æƒ…å ±ã‚’è¨¼æ˜è€…ã¨æ¤œè¨¼è€…ã«é€ã‚Šã¾ã™ã€‚è¨¼æ˜è€…ã¯ãã®CRSã‚’ç”¨ã„ã¦æ­£ã—ã„æƒ…å ±ã‚’æŒã£ã¦ã„ã‚‹ã¨ã„ã†è¨¼æ˜ã‚’ç”Ÿæˆã—ã€ãã‚Œã‚’æ¤œè¨¼è€…ã«ä¸€å›ã ã‘é€ã‚Šã¾ã™ã€‚å—ã‘å–ã£ãŸæ¤œè¨¼è€…ã¯ãã‚Œã‚’æ¤œè¨¼ã™ã‚‹ã ã‘ã§éå¯¾è©±ãªã‚¼ãƒ­çŸ¥è­˜è¨¼æ˜ãŒå®Ÿç¾ã§ãã¾ã™ã€‚äº‹å‰ã«CRSã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ã‚’ä¸€èˆ¬çš„ã«ä¿¡é ¼ã•ã‚ŒãŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¨ã„ã„ã€ç¬¬ä¸‰è€…ã¯è¨¼æ˜è€…ã€æ¤œè¨¼è€…ã«ã¨ã£ã¦ä¿¡é ¼ã•ã‚Œã‚‹å­˜åœ¨ã¨ãªã‚Šã¾ã™ã€‚\n\nzk-SNARKs\n- Succinctï¼ˆç°¡æ½”ï¼‰\n    - è¨¼æ˜ã®ã‚µã‚¤ã‚ºãŒã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã®ã‚µã‚¤ã‚ºã¨æ¯”ã¹ã¦éå¸¸ã«å°ã•ã„\n- Non-interactiveï¼ˆéå¯¾è©±å‹ï¼‰\n    - è¨¼æ˜è€…ã¨æ¤œè¨¼è€…ã®é–“ã§ä½•åº¦ã‚‚å¯¾è©±ã‚’ã™ã‚‹å¿…è¦ãŒãªã„\n- ARgument\n    - è¨¼æ˜è€…ã®è¨ˆç®—èƒ½åŠ›ã«ã¯é™ã‚ŠãŒã‚ã‚‹\n- Knowledge\n    - è¨¼æ˜è€…ã¯ã€çŸ¥è­˜ãªã—ã§ã¯è¨¼æ˜ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ã¯ä¸å¯èƒ½ã§ã‚ã‚‹ã€‚\n\n[ZenGo-X/zk-paillier: A collection of Paillier cryptosystem zero knowledge proofs (github.com)](https://github.com/ZenGo-X/zk-paillier)\n\n[zk-SNARKsã®ç†è«– (zenn.dev)](https://zenn.dev/kyosuke/articles/a1854b9be26c01df13eb)","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/cryptography/homomorphism":{"title":"æº–åŒå‹æš—å·","content":"\nãƒ¬ãƒ™ãƒ«næº–åŒå‹ = åŠ æ³•æº–åŒå‹ + nå›ã®ä¹—ç®—æº–åŒå‹\n- ä¹—ç®—å›æ•°ã«åˆ¶ç´„ãŒã‚ã‚‹å®Œå…¨æº–åŒå‹\n- ãƒ¬ãƒ™ãƒ«nã¯næ¬¡æ–¹ç¨‹å¼ã‚’è¨ˆç®—ã§ãã‚‹\n- ãƒ¬ãƒ™ãƒ«2æº–åŒå‹ãªã‚‰ä¹—ç®—ãŒ1åº¦ã ã‘å¯èƒ½\n\n## Unpadded RSA\nä¹—æ³•æº–åŒå‹\n$$\n\\begin{aligned}\n\\mathcal{E}(m_1)\\times\\mathcal{E}(m_2) \u0026= m_1^em_2^e \u0026 \\bmod n \\\\\n\u0026= (m_1m_2)^e \u0026 \\bmod n \\\\\n\u0026= \\mathcal{E}(m_1m_2)\n\\end{aligned}\n$$\n## ElGamalæš—å·\nä¹—æ³•æº–åŒå‹\n$$\n\\begin{aligned}\n\\mathcal{E}(m_1)\\times\\mathcal{E}(m_2) \u0026= (g^{r_1},m_1h^{r_1})(g^{r_2},m_2h^{r_2}) \\\\\n\u0026= (g^{r_1+r_2},m_1m_2h^{r_1+r_2}) \\\\\n\u0026= \\mathcal{E}(m_1m_2)\n\\end{aligned}\n$$\n## Paillieræš—å·\nåŠ æ³•æº–åŒå‹\n$$\n\\begin{aligned}\n\\mathcal{E}(m_1)\\times\\mathcal{E}(m_2) \u0026= (g^{m_1}r_1^n)(g^{m_2}r_2^n) \u0026 \\bmod n^2 \\\\\n\u0026= g^{m_1+m_2}(r_1r_2)^n \u0026 \\bmod n^2 \\\\\n\u0026= \\mathcal{E}(m_1+m_2)\n\\end{aligned}\n$$\n## å²¡æœ¬ãƒ»å†…å±±æš—å·\nåŠ æ³•æº–åŒå‹\n\n## Lifted-ElGamalæš—å·\nãƒ¬ãƒ™ãƒ«2æº–åŒå‹æš—å·\nä½æ•° $p$ ã®æ¥•å††æ›²ç·š $E$, ã¨ç”Ÿæˆå…ƒ $P\\in E$\nç§˜å¯†éµ $s\\in\\mathbb{F}_p$ ã¨å…¬é–‹éµ $sP$\nå¹³æ–‡ $m$ ã«å¯¾ã—ã¦ä¹±æ•° $r$ ã‚’ã¨ã‚Š $c=(mP+rsP, rP)$\n$c = (S, T)$ ã«å¯¾ã—ã¦ $S-sT = (mP+rsP)-s(rP)=mP$ ã¨ã—DLPã‚’è§£ã„ã¦ $m$ ã‚’å¾—ã‚‹\n\nåŠ æ³•æº–åŒå‹æ€§\n$$\n\\begin{aligned}\n\\mathcal{E}(m_1)+\\mathcal{E}(m_2) \u0026= (m_1P+r_1sP,r_1P)+(m_2P+r_2sP,r_2P) \\\\\n\u0026= ((m_1+m_2)P, (r_1+r_2)sP, (r_1+r_2)P) \\\\\n\u0026= \\mathcal{E}(m_1+m_2)\n\\end{aligned}\n$$\nä¹—æ³•æº–åŒå‹æ€§\n$\\mathcal{E}(m_1)\\times\\mathcal{E}(m_2) := (e(S_1, S_2), e(S_1, T_2), e(T_1, S_2), e(T_1, T_2))$\n$$\n\\begin{aligned}\n\\mathcal{D}(c_1,c_2,c_3,c_4) \u0026= \\frac{c_1c_4^{s_1s_2}}{c_2^{s_2}c_3^{s_1}} = \\frac{e(S_1,s_2)e(s_1T_1,s_2T_2)}{e(S_1,s_2T_2)e(s_1T_1,S_2)} \\\\\n\u0026=e(S_1-s_1T_1,S_2-s_2T_2) \\\\\n\u0026=e(mP_1,m'P_2)=e(P_1,P_2)^{mm'}\n\\end{aligned}\n$$\n\n\n[ãƒšã‚¢ãƒªãƒ³ã‚°ãƒ™ãƒ¼ã‚¹ã®åŠ¹ç‡çš„ãªãƒ¬ãƒ™ãƒ«2æº–åŒå‹æš—å·ï¼ˆSCIS2018ï¼‰ (slideshare.net)](https://www.slideshare.net/herumi/2scis2018?next_slideshow=86572957)\n\n\nå®Œå…¨æº–åŒå‹ ex. Gentry, æ ¼å­ãƒ™ãƒ¼ã‚¹\n## Gentry\nå®Œå…¨æº–åŒå‹\n## TFHE\nå®Œå…¨æº–åŒå‹\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/crypto/cryptography/other":{"title":"ãã®ä»–ã®æš—å·","content":"\n[GoogleãŒTLSã§ã®æ¡ç”¨ã‚’æå”±ã—ã¦ã„ã‚‹å…±é€šéµæš—å·æ–¹å¼ã€ŒChaChaã€ã«ã¤ã„ã¦ã¾ã¨ã‚ãŸ - sonickun.log (hatenablog.com)](https://sonickun.hatenablog.com/entry/2016/04/03/183220)\nChaCha [RFC 7538](https://tools.ietf.org/html/rfc7539)\nSalsa20\n\n\n\n[Integer factorization](https://en.wikipedia.org/wiki/Integer_factorization \"Integer factorization\")\n\n-   [Benaloh](https://en.wikipedia.org/wiki/Benaloh_cryptosystem \"Benaloh cryptosystem\")\n-   [Blumâ€“Goldwasser](https://en.wikipedia.org/wiki/Blum%E2%80%93Goldwasser_cryptosystem \"Blumâ€“Goldwasser cryptosystem\")\n-   [Cayleyâ€“Purser](https://en.wikipedia.org/wiki/Cayley%E2%80%93Purser_algorithm \"Cayleyâ€“Purser algorithm\")\n-   [DamgÃ¥rdâ€“Jurik](https://en.wikipedia.org/wiki/Damg%C3%A5rd%E2%80%93Jurik_cryptosystem \"DamgÃ¥rdâ€“Jurik cryptosystem\")\n-   [GMR](https://en.wikipedia.org/wiki/GMR_(cryptography) \"GMR (cryptography)\")\n-   [Goldwasserâ€“Micali](https://en.wikipedia.org/wiki/Goldwasser%E2%80%93Micali_cryptosystem \"Goldwasserâ€“Micali cryptosystem\")\n-   [Naccacheâ€“Stern](https://en.wikipedia.org/wiki/Naccache%E2%80%93Stern_cryptosystem \"Naccacheâ€“Stern cryptosystem\")\n-   [Paillier](https://en.wikipedia.org/wiki/Paillier_cryptosystem \"Paillier cryptosystem\")\n-   [Rabin](https://en.wikipedia.org/wiki/Rabin_cryptosystem \"Rabin cryptosystem\")\n-   [RSA](https://en.wikipedia.org/wiki/RSA_(cryptosystem) \"RSA (cryptosystem)\")\n-   [Okamotoâ€“Uchiyama](https://en.wikipedia.org/wiki/Okamoto%E2%80%93Uchiyama_cryptosystem \"Okamotoâ€“Uchiyama cryptosystem\")\n-   [Schmidtâ€“Samoa](https://en.wikipedia.org/wiki/Schmidt-Samoa_cryptosystem \"Schmidt-Samoa cryptosystem\")\n\n[Discrete logarithm](https://en.wikipedia.org/wiki/Discrete_logarithm \"Discrete logarithm\")\n\n-   [BLS](https://en.wikipedia.org/wiki/Boneh%E2%80%93Lynn%E2%80%93Shacham \"Bonehâ€“Lynnâ€“Shacham\")\n-   [Cramerâ€“Shoup](https://en.wikipedia.org/wiki/Cramer%E2%80%93Shoup_cryptosystem \"Cramerâ€“Shoup cryptosystem\")\n-   [DH](https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange \"Diffieâ€“Hellman key exchange\")\n-   [DSA](https://en.wikipedia.org/wiki/Digital_Signature_Algorithm \"Digital Signature Algorithm\")\n-   [ECDH](https://en.wikipedia.org/wiki/Elliptic-curve_Diffie%E2%80%93Hellman \"Elliptic-curve Diffieâ€“Hellman\")Â \n    -   [X25519](https://en.wikipedia.org/wiki/Curve25519 \"Curve25519\")\n    -   [X448](https://en.wikipedia.org/wiki/Curve448 \"Curve448\")\n-   [ECDSA](https://en.wikipedia.org/wiki/Elliptic_Curve_Digital_Signature_Algorithm \"Elliptic Curve Digital Signature Algorithm\")\n-   [EdDSA](https://en.wikipedia.org/wiki/EdDSA \"EdDSA\")Â \n    -   [Ed25519](https://en.wikipedia.org/wiki/EdDSA#Ed25519 \"EdDSA\")\n    -   [Ed448](https://en.wikipedia.org/wiki/EdDSA#Ed448 \"EdDSA\")\n-   [ECMQV](https://en.wikipedia.org/wiki/ECMQV \"ECMQV\")\n-   [EKE](https://en.wikipedia.org/wiki/Encrypted_key_exchange \"Encrypted key exchange\")\n-   [ElGamal](https://en.wikipedia.org/wiki/ElGamal_encryption \"ElGamal encryption\")Â \n    -   [signature scheme](https://en.wikipedia.org/wiki/ElGamal_signature_scheme \"ElGamal signature scheme\")\n-   [MQV](https://en.wikipedia.org/wiki/MQV \"MQV\")\n-   [Schnorr](https://en.wikipedia.org/wiki/Schnorr_signature \"Schnorr signature\")\n-   [SPEKE](https://en.wikipedia.org/wiki/SPEKE \"SPEKE\")\n-   [SRP](https://en.wikipedia.org/wiki/Secure_Remote_Password_protocol \"Secure Remote Password protocol\")\n-   [STS](https://en.wikipedia.org/wiki/Station-to-Station_protocol \"Station-to-Station protocol\")\n\n[Lattice/SVP/CVP](https://en.wikipedia.org/wiki/Lattice-based_cryptography \"Lattice-based cryptography\")/[LWE](https://en.wikipedia.org/wiki/Learning_with_errors \"Learning with errors\")/[SIS](https://en.wikipedia.org/wiki/Short_integer_solution_problem \"Short integer solution problem\")\n\n-   [NTRUEncrypt](https://en.wikipedia.org/wiki/NTRUEncrypt \"NTRUEncrypt\")\n-   [NTRUSign](https://en.wikipedia.org/wiki/NTRUSign \"NTRUSign\")\n-   [RLWE-KEX](https://en.wikipedia.org/wiki/RLWE-KEX \"RLWE-KEX\")\n-   [RLWE-SIG](https://en.wikipedia.org/wiki/RLWE-SIG \"RLWE-SIG\")\n-   [BLISS](https://en.wikipedia.org/wiki/BLISS_signature_scheme \"BLISS signature scheme\")\n-   [NewHope](https://en.wikipedia.org/wiki/NewHope \"NewHope\")\n\nOthers\n\n-   [AE](https://en.wikipedia.org/wiki/Algebraic_Eraser \"Algebraic Eraser\")\n-   [CEILIDH](https://en.wikipedia.org/wiki/CEILIDH \"CEILIDH\")\n-   [EPOC](https://en.wikipedia.org/wiki/Efficient_Probabilistic_Public-Key_Encryption_Scheme \"Efficient Probabilistic Public-Key Encryption Scheme\")\n-   [HFE](https://en.wikipedia.org/wiki/Hidden_Field_Equations \"Hidden Field Equations\")\n-   [IES](https://en.wikipedia.org/wiki/Integrated_Encryption_Scheme \"Integrated Encryption Scheme\")\n-   [Lamport](https://en.wikipedia.org/wiki/Lamport_signature \"Lamport signature\")\n-   [McEliece](https://en.wikipedia.org/wiki/McEliece_cryptosystem \"McEliece cryptosystem\")\n-   [Merkleâ€“Hellman](https://en.wikipedia.org/wiki/Merkle%E2%80%93Hellman_knapsack_cryptosystem \"Merkleâ€“Hellman knapsack cryptosystem\")\n-   [Naccacheâ€“Stern knapsack cryptosystem](https://en.wikipedia.org/wiki/Naccache%E2%80%93Stern_knapsack_cryptosystem \"Naccacheâ€“Stern knapsack cryptosystem\")\n-   [Three-pass protocol](https://en.wikipedia.org/wiki/Three-pass_protocol \"Three-pass protocol\")\n-   [XTR](https://en.wikipedia.org/wiki/XTR \"XTR\")\n\nTheory\n\n-   [Discrete logarithm cryptography](https://en.wikipedia.org/wiki/Discrete_logarithm#Cryptography \"Discrete logarithm\")\n-   [Elliptic-curve cryptography](https://en.wikipedia.org/wiki/Elliptic-curve_cryptography \"Elliptic-curve cryptography\")\n-   [Hash-based cryptography](https://en.wikipedia.org/wiki/Hash-based_cryptography \"Hash-based cryptography\")\n-   [Non-commutative cryptography](https://en.wikipedia.org/wiki/Non-commutative_cryptography \"Non-commutative cryptography\")\n-   RSA problem\n-   [Trapdoor function](https://en.wikipedia.org/wiki/Trapdoor_function \"Trapdoor function\")\n\nStandardization\n\n-   [CRYPTREC](https://en.wikipedia.org/wiki/CRYPTREC \"CRYPTREC\")\n-   [IEEE P1363](https://en.wikipedia.org/wiki/IEEE_P1363 \"IEEE P1363\")\n-   [NESSIE](https://en.wikipedia.org/wiki/NESSIE \"NESSIE\")\n-   [NSA Suite B](https://en.wikipedia.org/wiki/NSA_Suite_B_Cryptography \"NSA Suite B Cryptography\")\n-   [Post-Quantum Cryptography](https://en.wikipedia.org/wiki/NIST_Post-Quantum_Cryptography_Standardization \"NIST Post-Quantum Cryptography Standardization\")\n\nTopics\n\n-   [Digital signature](https://en.wikipedia.org/wiki/Digital_signature \"Digital signature\")\n-   [OAEP](https://en.wikipedia.org/wiki/Optimal_asymmetric_encryption_padding \"Optimal asymmetric encryption padding\")\n-   [Fingerprint](https://en.wikipedia.org/wiki/Public_key_fingerprint \"Public key fingerprint\")\n-   [PKI](https://en.wikipedia.org/wiki/Public_key_infrastructure \"Public key infrastructure\")\n-   [Web of trust](https://en.wikipedia.org/wiki/Web_of_trust \"Web of trust\")\n-   [Key size](https://en.wikipedia.org/wiki/Key_size \"Key size\")\n-   [Identity-based cryptography](https://en.wikipedia.org/wiki/Identity-based_cryptography \"Identity-based cryptography\")\n-   [Post-quantum cryptography](https://en.wikipedia.org/wiki/Post-quantum_cryptography \"Post-quantum cryptography\")\n-   [OpenPGP card](https://en.wikipedia.org/wiki/OpenPGP_card \"OpenPGP card\")","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/geometry/geometry":{"title":"å¹¾ä½•ãƒ©ã‚¤ãƒ–ãƒ©ãƒª","content":"\n## èª¬æ˜\n\nå¹¾ä½•ãƒ©ã‚¤ãƒ–ãƒ©ãƒª\nè¤‡ç´ å¹³é¢\n\n## è¨ˆç®—é‡\n\n## å®Ÿè£…\n\n```cpp\n#include \u003cbits/stdc++.h\u003e\nusing namespace std;\n// using namespace atcoder;\nusing ll = long long;\nusing ld = long double;\nusing uint = unsigned;\nusing ull = unsigned long long;\n\nusing Real = long double;\n\nconst Real EPS = 1e-9;\nconst Real PI = 3.1415926535897932;\ninline bool equal(const Real \u0026a, const Real \u0026b) { return fabs(a - b) \u003c EPS; }\nReal radian_to_degree(const Real \u0026r) { return r * 180.0 / PI; }\nReal degree_to_radian(const Real \u0026d) { return d * PI / 180.0; }\n\nusing Point = complex\u003cReal\u003e;\n\nistream \u0026operator\u003e\u003e(istream \u0026is, Point \u0026p) {\n  Real a, b;\n  is \u003e\u003e a \u003e\u003e b;\n  p = Point(a, b);\n  return is;\n}\nostream \u0026operator\u003c\u003c(ostream \u0026os, Point \u0026p) {\n  return os \u003c\u003c fixed \u003c\u003c setprecision(10) \u003c\u003c p.real() \u003c\u003c \" \" \u003c\u003c p.imag();\n}\n\n// ç‚¹ p ã‚’åæ™‚è¨ˆå›ã‚Šã« theta åº¦å›è»¢\nPoint rotate(const Point \u0026p, const Real \u0026theta) {\n  return Point(cos(theta) * p.real() - sin(theta) * p.imag(),\n               sin(theta) * p.real() + cos(theta) * p.imag());\n}\n\nstruct Line {\n  Point a, b;\n  Line() = default;\n  Line(Point a, Point b) : a(a), b(b) {}\n\n  // Ax+By=C\n  Line(Real A, Real B, Real C) {\n    if (equal(A, 0))\n      a = Point(0, C / B), b = Point(1, C / B);\n    else if (equal(B, 0))\n      b = Point(C / A, 0), b = Point(C / A, 1);\n    else\n      a = Point(0, C / B), b = Point(C / A, 0);\n  }\n\n  friend ostream \u0026operator\u003c\u003c(ostream \u0026os, Line \u0026p) {\n    return os \u003c\u003c p.a \u003c\u003c \" to \" \u003c\u003c p.b;\n  }\n  friend istream \u0026operator\u003e\u003e(istream \u0026is, Line \u0026a) { return is \u003e\u003e a.a \u003e\u003e a.b; }\n};\n\nstruct Segment : Line {\n  Segment() = default;\n  Segment(Point a, Point b) : Line(a, b) {}\n};\n\nstruct Circle {\n  Point p;\n  Real r;\n\n  Circle() = default;\n  Circle(Point p, Real r) : p(p), r(r) {}\n};\n\nusing Points = vector\u003cPoint\u003e;\nusing Polygon = vector\u003cPoint\u003e;\nusing Segments = vector\u003cSegment\u003e;\nusing Lines = vector\u003cLine\u003e;\nusing Circles = vector\u003cCircle\u003e;\n\nReal dot(const Point \u0026a, const Point \u0026b) {\n  return (a.real() * b.real() + a.imag() * b.imag());\n}\n\nReal cross(const Point \u0026a, const Point \u0026b) {\n  return (a.real() * b.imag() - a.imag() * b.real());\n}\n\n// ç‚¹ã®å›è»¢æ–¹å‘\nstatic const int COUNTER_CLOCKWISE = 1;\nstatic const int CLOCKWISE = -1;\nstatic const int ONLINE_BACK = 2;\nstatic const int ONLINE_FRONT = -2;\nstatic const int ON_SEGMENT = 0;\nint ccw(Point p0, Point p1, Point p2) {\n  Point a = p1 - p0, b = p2 - p0;\n  if (cross(a, b) \u003e EPS) return COUNTER_CLOCKWISE;\n  if (cross(a, b) \u003c -EPS) return CLOCKWISE;\n  if (dot(a, b) \u003c -EPS) return ONLINE_BACK;\n  if (norm(a) \u003c norm(b)) return ONLINE_FRONT;\n  return ON_SEGMENT;\n}\n\nbool parallel(const Line \u0026a, const Line \u0026b) {\n  return equal(cross(a.b - a.a, b.b - b.a), 0.0);\n}\n\nbool orthogonal(const Line \u0026a, const Line \u0026b) {\n  return equal(dot(a.b - a.a, b.b - b.a), 0.0);\n}\n\n// å°„å½±(projection)\n// ç›´ç·š(ç·šåˆ†)lã«ç‚¹pã‹ã‚‰å¼•ã„ãŸå‚ç·šã®è¶³ã‚’æ±‚ã‚ã‚‹\nPoint projection(const Line \u0026l, const Point \u0026p) {\n  Real t = dot(p - l.a, l.a - l.b) / norm(l.a - l.b);\n  return l.a + (l.a - l.b) * t;\n}\n\nPoint projection(const Segment \u0026l, const Point \u0026p) {\n  Real t = dot(p - l.a, l.a - l.b) / norm(l.a - l.b);\n  return l.a + (l.a - l.b) * t;\n}\n\n// åå°„(reflection)\n// ç›´ç·šlã‚’å¯¾ç§°è»¸ã¨ã—ã¦ç‚¹pã¨ç·šå¯¾ç§°ã®ä½ç½®ã«ã‚ã‚‹ç‚¹ã‚’æ±‚ã‚ã‚‹\nPoint reflection(const Line \u0026l, const Point \u0026p) {\n  return p + (projection(l, p) - p) * 2.0L;\n}\n\n// ç·šåˆ†sã¨ç·šåˆ†tãŒäº¤å·®ã—ã¦ã„ã‚‹ã‹ã©ã†ã‹\nbool isIntersect(const Segment \u0026s, const Segment \u0026t) {\n  return ccw(s.a, s.b, t.a) * ccw(s.a, s.b, t.b) \u003c= 0 \u0026\u0026\n         ccw(t.a, t.b, s.a) * ccw(t.a, t.b, s.b) \u003c= 0;\n}\n\nint isIntersect(const Circle \u0026c1, const Circle \u0026c2) {\n  Real d = norm(c1.p - c2.p);\n  // 2ã¤ã®å††ãŒé›¢ã‚Œã¦ã„ã‚‹å ´åˆ\n  if (d \u003e norm(c1.r + c2.r) + EPS) return 4;\n  // å¤–æ¥ã—ã¦ã„ã‚‹å ´åˆ\n  if (equal(d, norm(c1.r + c2.r))) return 3;\n  // å†…æ¥ã—ã¦ã„ã‚‹å ´åˆ\n  if (equal(d, norm(c1.r - c2.r))) return 1;\n  // å†…åŒ…ã—ã¦ã„ã‚‹å ´åˆ\n  if (d \u003c norm(c1.r - c2.r) - EPS) return 0;\n  // äº¤å·®ã—ã¦ã„ã‚‹å ´åˆ\n  return 2;\n}\n```\n\n## ä½¿ç”¨ä¾‹\n\n\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/graph/ShortestPath/BellmanFord":{"title":"å˜ä¸€å§‹ç‚¹æœ€çŸ­è·¯ (Bellman-Ford)","content":"\n## èª¬æ˜\n\nå…¨ã¦ã®è¾ºã‚’æ›´æ–°ã§ããªããªã‚‹ã¾ã§æ›´æ–°ã™ã‚‹ã€‚\n$V$ å›ç›®ã®ãƒ«ãƒ¼ãƒ—ã§æ›´æ–°ãŒç™ºç”Ÿã™ã‚‹ãªã‚‰è² é–‰è·¯ãŒå­˜åœ¨ã™ã‚‹ã€‚\n\n## è¨ˆç®—é‡\n\n$O(EV)$\n\n## å®Ÿè£…\n\n```cpp\n#include \u003cvector\u003e\n\nconst long long LINF = 0x1fffffffffffffff;\n\nstruct Edge {\n  int from, to, cost;\n};\n\nclass BellmanFord {\n  std::vector\u003cEdge\u003e edges;\n  std::vector\u003clong long\u003e d;\n  int V, E;\n\n  BellmanFord(int v) : V(v), E(0) {}\n\n  void add_edge(int from, int to, int cost) {\n    edges.push_back({from, to, cost});\n    E++;\n  }\n  void add_edge(std::vector\u003cEdge\u003e \u0026es) {\n    for (auto \u0026edge : es) edges.push_back(edge);\n    E += es.size();\n  }\n\n  bool shortest_path(int s) {\n    for (int i = 0; i \u003c V; i++) d[i] = LINF;\n    d[s] = 0;\n    for (int v = 0; v \u003c V; v++) {\n      bool update = false;\n      for (int i = 0; i \u003c E; i++) {\n        auto e = edges[i];\n        if (d[e.from] != LINF \u0026\u0026 d[e.to] \u003e d[e.from] + e.cost) {\n          d[e.to] = d[e.from] + e.cost;\n          update = true;\n        }\n      }\n      // negative loop\n      if (v == V - 1 \u0026\u0026 update) return false;\n      if (!update) break;\n    }\n    return true;\n  }\n};\n```\n\n## ä½¿ç”¨ä¾‹\n\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/graph/ShortestPath/Dijkstra":{"title":"å˜ä¸€å§‹ç‚¹æœ€çŸ­è·¯ (Dijkstra)","content":"\n## èª¬æ˜\næœ‰å‘ã‚°ãƒ©ãƒ•ã«è² ã®è¾ºãŒå­˜åœ¨ã—ãªã„ã¨ãæ¬¡ã®äº‹ãŒã„ãˆã‚‹ã€‚\n\nã€Œã¾ã æœ€çŸ­è·é›¢ãŒç¢ºå®šã—ã¦ã„ãªã„ç‚¹ã®ä¸­ã§ã€å§‹ç‚¹ã‹ã‚‰ã®è·é›¢ãŒæœ€å° $\\iff$ æœ€çŸ­è·é›¢ã¨ã—ã¦ç¢ºå®šã€\n\n## ä»•æ§˜\n\n- `ShortestPath\u003cT\u003e`\n\t- å§‹ç‚¹ã‹ã‚‰çµ‚ç‚¹ã¾ã§ã®è·é›¢ `dist` \n\t- å§‹ç‚¹ã‹ã‚‰ã®æœ€çŸ­è·¯ã®ãƒ‘ã‚¹ã§çµ‚ç‚¹ã®1ã¤å‰ã®ç‚¹ `from`\n- `ShortestPath\u003cT\u003e dijkstra(const Graph\u003cT\u003e \u0026g, int s)`\n\t- ã‚°ãƒ©ãƒ• `g` ã«ã¤ã„ã¦å§‹ç‚¹ `s` ã‹ã‚‰ã®æœ€çŸ­çµŒè·¯ã‚’è¨ˆç®—ã™ã‚‹.\n\t- å¯†ã‚°ãƒ©ãƒ• å˜ç´”ã«æ¢ç´¢ $O(V^2)$\n\t- ç–ã‚°ãƒ©ãƒ• ãƒ’ãƒ¼ãƒ—ã‚’ç”¨ã„ã‚‹ã¨ $O(E\\log{V})$\n\n## å®Ÿè£…\n\n```cpp\ntemplate \u003ctypename T\u003e\nstruct ShortestPath {\n  vector\u003cT\u003e dist;\n  vector\u003cint\u003e from;\n};\n\ntemplate \u003ctypename T\u003e\nShortestPath\u003cT\u003e dijkstra(const Graph\u003cT\u003e \u0026g, int s) {\n  const auto INF = numeric_limits\u003cT\u003e::max();\n  vector\u003cT\u003e dist(g.size(), INF);\n  dist[s] = 0;\n  vector\u003cint\u003e from(g.size(), -1);\n  pq\u003cpair\u003cT, int\u003e\u003e q;\n  q.emplace(dist[s], s);\n\n  while (!q.empty()) {\n    auto [cost, idx] = q.top(); q.pop();\n    if (dist[idx] \u003c cost) continue;\n    for (auto \u0026e : g[idx]) {\n      if (dist[e.to] \u003e dist[idx] + e.cost) {\n        dist[e.to] = dist[idx] + e.cost;\n        from[e.to] = idx;\n        q.emplace(dist[e.to], e.to);\n      }\n    }\n  }\n  return {dist, from};\n}\n```\n\n## ä½¿ç”¨ä¾‹\n\n\n## å‚è€ƒ\n- [ãƒ€ã‚¤ã‚¯ã‚¹ãƒˆãƒ©æ³•ã®ã‚ˆãã‚ã‚‹ãƒŸã‚¹ã¨è½ã—æ–¹ - ã‚ãªãŸã¯å˜˜ã¤ãã§ã™ã‹ã¨èã‹ã‚ŒãŸã‚‰ã€ŒYESã€ã¨ç­”ãˆã‚‹ãƒ–ãƒ­ã‚° (hatenablog.com)](https://snuke.hatenablog.com/entry/2021/02/22/102734)\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/graph/ShortestPath/FloydWarshall":{"title":"å…¨ç‚¹å¯¾æœ€çŸ­è·¯ (Floyd-Warshall)","content":"\n## èª¬æ˜\n\nä¸å®‰ãªã‚‰3å›ã‚„ã‚Œã°ã„ã„\n\n## è¨ˆç®—é‡\n\n$O(V^3)$\n\n## å®Ÿè£…\n\n```cpp\n#include \u003cvector\u003e\n\nstd::vector\u003cstd::vector\u003cint\u003e\u003e d;\nint V;\n\nvoid floyd_warshall() {\n  for (int k = 0; k \u003c V; k++)\n    for (int i = 0; i \u003c V; i++)\n      for (int j = 0; j \u003c V; j++) d[i][j] = std::min(d[i][j], d[i][k] + d[k][j]);\n}\n```\n\n## ä½¿ç”¨ä¾‹\n\n\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/graph/ShortestPath/ShortestPath":{"title":"æœ€çŸ­çµŒè·¯å•é¡Œ","content":"\nå„ç‚¹é–“ã«è·é›¢ãŒã‚ã‚‹ã‹ã‚‰ç›®çš„åœ°ã¾ã§æœ€çŸ­ã§è¾¿ã‚Šç€ãé“ç­‹ã‚’è§£ãå•é¡Œ. ã“ã‚Œèª­ã‚.\n- [å®Ÿè·µãƒ»æœ€çŸ­çµŒè·¯å•é¡Œ ï½æœ€çŸ­çµŒè·¯å•é¡Œã®è¦‹æŠœãæ–¹ãƒ»ç«‹ã¡å‘ã‹ã„æ–¹ï½ - Qiita](https://qiita.com/keymoon/items/ec985e7466e69b3a8655)","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/graph/SpanningTree/Kruskal":{"title":"å…¨åŸŸæœ¨ (Kruscal)","content":"","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/graph/SpanningTree/Prim":{"title":"å…¨åŸŸæœ¨ (Prim)","content":"","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/graph/SpanningTree/SpanningTree":{"title":"å…¨åŸŸæœ¨","content":"\nè¡Œåˆ—æœ¨å®šç†\n- [è¡Œåˆ—æœ¨å®šç† â€“ 37zigenã®HP](https://37zigen.com/matrix-tree-theorem/)","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/graph/flow/FordFulkerson":{"title":"æœ€å¤§æµ (Ford Fulkerson)","content":"\n## èª¬æ˜\n\n## è¨ˆç®—é‡\n\n$O(FE)$\n\n## å®Ÿè£…\n\n```cpp\n#include \u003cvector\u003e\n\nclass FordFulkerson {\n  struct edge {\n    long long to, cap, rev;\n  };\n  const long long INF = 1 \u003c\u003c 60;\n  long long n;\n  std::vector\u003cstd::vector\u003cedge\u003e\u003e G;\n  std::vector\u003cbool\u003e used;\n\n  long long dfs(long long s, long long t, long long f) {\n    if (s == t)\n      return f;\n    used[s] = true;\n    for (edge \u0026e : G[s]) {\n      if (!used[e.to] \u0026\u0026 e.cap \u003e 0) {\n        long long d = dfs(e.to, t, std::min(f, e.cap));\n        if (d \u003e 0) {\n          e.cap -= d;\n          G[e.to][e.rev].cap += d;\n          return d;\n        }\n      }\n    }\n    return 0;\n  }\n\npublic:\n  FordFulkerson(long long n) : n(n), G(n), used(n) {}\n  void add_edge(long long from, long long to, long long cap) {\n    G[from].push_back({to, cap, (long long)(G[to].size())});\n    G[to].push_back({from, 0, (long long)(G[from].size()) - 1});\n  }\n\n  long long max_flow(long long s, long long t) {\n    long long flow = 0;\n    while (true) {\n      used.assign(n, 0);\n      long long f = dfs(s, t, INF);\n      if (f == 0)\n        return flow;\n      flow += f;\n    }\n  }\n};\n```\n\n## ä½¿ç”¨ä¾‹\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/graph/flow/dinic":{"title":"æœ€å¤§æµ (Dinic)","content":"\n## èª¬æ˜\n\n## è¨ˆç®—é‡\n\n$O(V^2E)$\n\n## å®Ÿè£…\n\n```cpp\n#include \u003cqueue\u003e\n#include \u003cvector\u003e\n\nstruct Dinic {\n  struct edge {\n    long long to, cap, rev;\n  };\n\n  long long n;\n  std::vector\u003cstd::vector\u003cedge\u003e\u003e G;\n  std::vector\u003clong long\u003e level, iter;\n\n  // level[i] = sã‹ã‚‰iã¸ã®æœ€çŸ­è·é›¢(Dijkstraæ³•)\n  void bfs(long long s) {\n    level.assign(n, -1);\n    std::queue\u003clong long\u003e q;\n    q.push(s);\n    level[s] = 0;\n    while (!q.empty()) {\n      long long v = q.front();\n      q.pop();\n      for (long long i = 0; i \u003c G[v].size(); i++) {\n        edge \u0026e = G[v][i];\n        if (e.cap \u003e 0 \u0026\u0026 level[e.to] \u003c 0) {\n          level[e.to] = level[v] + 1;\n          q.push(e.to);\n        }\n      }\n    }\n  }\n\n  // v -\u003e tã®å¢—åŠ ãƒ‘ã‚¹ã‚’1ã¤è¦‹ã¤ã‘ã¦æµã™\n  long long dfs(long long v, long long t, long long f) {\n    if (v == t) return f;\n    for (long long i = iter[v]; i \u003c G[v].size(); i++) {\n      edge \u0026e = G[v][i];\n      if (e.cap \u003e 0 \u0026\u0026 level[v] \u003c level[e.to]) {\n        long long d = dfs(e.to, t, std::min(f, e.cap));\n        if (d \u003e 0) {\n          e.cap -= d;\n          G[e.to][e.rev].cap += d;\n          return d;\n        }\n      }\n    }\n    return 0;\n  }\n\n  Dinic(long long n) : n(n), G(n), level(n), iter(n) {}\n\n  void add_edge(long long from, long long to, long long cap) {\n    G[from].push_back({to, cap, (long long)G[to].size()});\n    G[to].push_back({from, 0, (long long)G[from].size() - 1});\n  }\n\n  long long max_flow(long long s, long long t) {\n    long long flow = 0;\n    while (true) {\n      bfs(s);\n      if (level[t] \u003c 0) return flow;\n      iter.assign(n, 0);\n      long long f;\n      while ((f = dfs(s, t, 1e9)) \u003e 0) { flow += f; }\n    }\n  }\n};\n```\n\n## ä½¿ç”¨ä¾‹\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/graph/flow/flow":{"title":"ãƒ•ãƒ­ãƒ¼","content":"\n## æœ€å¤§æµ\nå§‹ç‚¹ã‹ã‚‰çµ‚ç‚¹ã¸æ°´ã‚’æµã™ã¨æœ€å¤§ã§ã©ã‚Œãã‚‰ã„æµã›ã‚‹ã‹ã¨ã„ã†å•é¡Œ.\n\n- å„è¾ºã«ã¯å®¹é‡ $c$ ãŒã‚ã‚Šæµé‡ã¯ã“ã‚Œã‚’è¶…ãˆãªã„.\n- æµé‡ã¯å…¥ã£ã¦ãã‚‹é‡ã¨å‡ºã¦ã„ãé‡ãŒä¿å­˜ã•ã‚Œã‚‹.\n- $s$-$t$ ã‚«ãƒƒãƒˆ\n\t- é ‚ç‚¹ $V$ ã‚’åˆ†å‰²ã—ã¦, å§‹ç‚¹ $s$ å´ã®é›†åˆ $S$ ã¨çµ‚ç‚¹ $t$ å´ã®é›†åˆ $T$ ã‚’ãŠã.\n- $s$-$t$ ã‚«ãƒƒãƒˆã®å®¹é‡\n\t- $S$ ã‹ã‚‰å‡ºã¦ $T$ ã¸å…¥ã‚‹è¾ºã®å®¹é‡ã®ç·å’Œ.\n- æœ€å¤§ãƒ•ãƒ­ãƒ¼æœ€å°ã‚«ãƒƒãƒˆå®šç† (max-flow min-cut theorem)\n\t- æœ€å°ã® $s$-$t$ ã‚«ãƒƒãƒˆã®å®¹é‡ã¯ $s$ ã‹ã‚‰ $t$ ã¸ã®æœ€å¤§æµã¨ç­‰ã—ã„.\n\t- Ford-Fulkerson ã§è¨¼æ˜ã™ã‚‹.\n\n## äºŒéƒ¨ã‚°ãƒ©ãƒ•ã¸ã®å¿œç”¨\n// TODO è¨¼æ˜\n- äºŒéƒ¨ã‚°ãƒ©ãƒ•\n\t- é ‚ç‚¹ãŒ2ã¤ã®ã‚°ãƒ«ãƒ¼ãƒ—ã«åˆ†ã‘ã‚‰ã‚Œã‚‹.\n- æœ€å¤§ãƒãƒƒãƒãƒ³ã‚°\n\t- äºŒéƒ¨ã‚°ãƒ©ãƒ•ã§ $A$ ã¨ $B$ ã®ãã‚Œãã‚Œç›¸æ€§ãŒä¸ãˆã‚‰ã‚Œã‚‹ã‹ã‚‰ç›¸æ€§ãŒåˆã†çµ„æ•°ã‚’æœ€å¤§åŒ–ã•ã›ã‚‹å•é¡Œ.\n\t- è¾ºã®å®¹é‡ã‚’ã™ã¹ã¦1ã¨ã—ã¦å§‹ç‚¹ã¨ $A$, $B$ ã¨çµ‚ç‚¹ã‚’ç¹‹ã’ã¦æœ€å¤§æµã‚’æµã™ã¨ç­”ãˆ.\n- æœ€å°é ‚ç‚¹è¢«è¦†\n\t- äºŒéƒ¨ã‚°ãƒ©ãƒ•ã§ã‚ã‚‹é ‚ç‚¹ã¨ãã®éš£æ¥ç‚¹ã§ $V$ ã‚’è¢«è¦†ã™ã‚‹é ‚ç‚¹æ•°ã‚’æœ€å°åŒ–ã™ã‚‹å•é¡Œ.\n\t- ãƒãƒƒãƒãƒ³ã‚°å•é¡Œã®æœ€å°ã‚«ãƒƒãƒˆãŒç­”ãˆ.\n- ç‹¬ç«‹é›†åˆã€å®‰å®šé›†åˆ\n\n## æœ€å°è²»ç”¨æµ\næœ€ã‚‚å®‰ãå§‹ç‚¹ã‹ã‚‰çµ‚ç‚¹ã¸ã‚ã‚‹æµé‡ã‚’æµã™å•é¡Œ.\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/graph/graph":{"title":"ã‚°ãƒ©ãƒ•","content":"\n## èª¬æ˜\nã‚°ãƒ©ãƒ• (Graph) ã¨ã¯é ‚ç‚¹ã®é›†åˆ $V$ ã¨è¾ºã®é›†åˆ $E$ ã®çµ„ $(V, E)$ ã§ã™. é ‚ç‚¹ (Node) ã¯ç‚¹ã¨è¦‹ãªã›ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ¦‚å¿µã§, è¾º (Edge) ã¯é ‚ç‚¹ $u$ ã‹ã‚‰é ‚ç‚¹ $v$ ã¸å‘ã‹ã†çµ„ $(u, v)$ ã§ã™. è¾ºã«ã¯æ§˜ã€…ãªå±æ€§ã‚’ä»˜ã‘åŠ ãˆã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™. æœ€çŸ­çµŒè·¯å•é¡Œãªã‚‰ã‚³ã‚¹ãƒˆã‚’ä»˜ã‘ã¦è¾ºã®ç§»å‹•ã«é‡ã¿ã‚’ä»˜ã‘åŠ ãˆãŸã‚Š, ãƒ•ãƒ­ãƒ¼ãªã‚‰å®¹é‡ã®æœ€å¤§å€¤ã‚’ä»˜ã‘ã¦æµé‡ã®åˆ¶é™ã‚’åŠ ãˆã¾ã™.\n\n## ä»•æ§˜\nå¤šç›¸å‹ `T` ã¯æ•´æ•°ã¾ãŸã¯å°æ•°ã®å‹ã§ã‚ã‚‹ã“ã¨ã‚’ä»®å®šã—ã¦ã¾ã™.\n- `Edge(int from, int to, T cost = 1)`\n\t- é ‚ç‚¹ `from` ã‹ã‚‰é ‚ç‚¹ `to` ã¸ã‚³ã‚¹ãƒˆ `cost` ã®è¾ºã‚’ç”Ÿæˆã—ã¾ã™.\n- `Graph(int n)`\n\t- é ‚ç‚¹ãŒ `n` å€‹ã®ã‚°ãƒ©ãƒ•ã‚’ä½œã‚Šã¾ã™.\n- `void add_directed_edge(int from, int to, T cost = 1)`\n\t- æœ‰å‘è¾ºã‚’å¼µã‚Šã¾ã™.\n- `void add_edge(int from, int to, T cost = 1)`\n\t- ç„¡å‘è¾ºã‚’å¼µã‚Šã¾ã™.\n\n## å®Ÿè£…\n```cpp\ntemplate \u003ctypename T = int\u003e\nstruct Edge {\n  int from, to;\n  T cost;\n\n  Edge() = default;\n  Edge(int from, int to, T cost = 1) : from(from), to(to), cost(cost) {}\n\n  operator int() const { return to; }\n};\n\ntemplate \u003ctypename T = int\u003e\nstruct Graph {\n  std::vector\u003cstd::vector\u003cEdge\u003cT\u003e\u003e\u003e g;\n\n  Graph() = default;\n  Graph(int n) : g(n) {}\n\n  void add_directed_edge(int from, int to, T cost = 1) {\n    g[from].emplace_back(from, to, cost);\n  }\n  void add_edge(int from, int to, T cost = 1) {\n    g[from].emplace_back(from, to, cost);\n    g[to].emplace_back(to, from, cost);\n  }\n\n  inline std::vector\u003cEdge\u003cT\u003e\u003e \u0026operator[](const int k) {\n    return g[k];\n  }\n};\n```\n\n## å‚è€ƒ\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/graph/scc":{"title":"å¼·é€£çµæˆåˆ†åˆ†è§£","content":"\n## èª¬æ˜\næœ‰å‘ã‚°ãƒ©ãƒ•ã«ãŠã„ã¦ã€ã‚ã‚‹éƒ¨åˆ†ã‚°ãƒ©ãƒ•ãŒå¼·é€£çµã§ã‚ã‚‹ã¨ã¯éƒ¨åˆ†ã‚°ãƒ©ãƒ•ã®ä»»æ„ã®2ç‚¹ãŒäº’ã„ã«è¡Œãæ¥å¯èƒ½ã§ã‚ã‚‹ã“ã¨ã€‚æ·±ã•å„ªå…ˆæ¢ç´¢ã®å¸°ã‚ŠãŒã‘é †(ãƒˆãƒãƒ­ã‚¸ã‚«ãƒ«ã‚½ãƒ¼ãƒˆé †)ã«é€†ã‚°ãƒ©ãƒ•ã‚’æ¢ç´¢ã—ãŸã¨ããã‚Œã‚‰ãŒé€šã‚‹ç‚¹ã¯å¼·é€£çµæˆåˆ†ã¨ãªã‚‹ã€‚\n\n## ä»•æ§˜\n- `dag`\n\t- `g` ã®å¼·é€£çµæˆåˆ†ã‚’1ã¤ã®é ‚ç‚¹ã¨ã—ã¦è¦‹ãŸã‚°ãƒ©ãƒ•. DAGã¨ãªã‚‹.\n- `comp`\n\t- å„é ‚ç‚¹ã«å¼·é€£çµæˆåˆ†ã¯åŒã˜å€¤ã¨ãªã‚‹ã‚ˆã†ã«å€¤ã‚’å‰²ã‚Šå½“ã¦ã‚‹.\n- `group`\n\t- å¼·é€£çµæˆåˆ†ã®é ‚ç‚¹ã®ãƒªã‚¹ãƒˆ.\n- `void build()`\n\t- `dag`, `comp`, `group` ã‚’è¨ˆç®—ã™ã‚‹.\n\t- $O(V + E)$\n\n## å®Ÿè£…\n```cpp\ntemplate \u003ctypename T = int\u003e\nstruct SCC : Graph\u003cT\u003e {\npublic:\n  using Graph\u003cT\u003e::Graph;\n  using Graph\u003cT\u003e::g;\n  Graph\u003cT\u003e dag;\n  vector\u003cint\u003e comp;\n  vector\u003cvector\u003cint\u003e\u003e group;\n\n  void build() {\n    // reversed graph\n    rg = Graph\u003cT\u003e(g.size());\n    for (size_t i = 0; i \u003c g.size(); i++) {\n      for (auto \u0026e : g[i]) {\n        rg.add_directed_edge(e.to, e.from, e.cost);\n      }\n    }\n    // topological sort labeling\n    used.assign(g.size(), false);\n    for (size_t i = 0; i \u003c g.size(); i++) dfs(i);\n    reverse(order.begin(), order.end());\n    // scc labeling\n    int cnt = 0;\n    comp.assign(g.size(), -1);\n    for (auto idx : order) if (comp[idx] == -1) rdfs(idx, cnt), cnt++;\n    // build dag\n    dag = Graph\u003cT\u003e(cnt);\n    for (size_t i = 0; i \u003c g.size(); i++) {\n      for (auto \u0026e : g[i]) {\n        int from = comp[e.from], to = comp[e.to];\n        if (from == to) continue;\n        dag.add_directed_edge(from, to, e.cost);\n      }\n    }\n    // grouping scc\n    group.resize(cnt);\n    for (size_t i = 0; i \u003c g.size(); i++) {\n      group[comp[i]].emplace_back(i);\n    }\n  }\n\n  int operator[](int k) const {\n    return comp[k];\n  }\n\nprivate:\n  Graph\u003cT\u003e rg;\n  vector\u003cint\u003e order;\n  vector\u003cbool\u003e used;\n\n  void dfs(int idx) {\n    if (used[idx]) return;\n    used[idx] = true;\n    for (auto \u0026to : g[idx]) dfs(to);\n    order.push_back(idx);\n  }\n\n  void rdfs(int idx, int cnt) {\n    if (comp[idx] != -1) return;\n    comp[idx] = cnt;\n    for (auto \u0026to : rg[idx]) rdfs(to, cnt);\n  }\n};\n```\n\n## ä½¿ç”¨ä¾‹\n\n## å‚è€ƒ\n- [å¼·é€£çµæˆåˆ†ï¼ˆSCCï¼‰ | technical-note (hkawabata.github.io)](https://hkawabata.github.io/technical-note/note/Algorithm/graph/scc.html)\n- [Strongly Connected Components(å¼·é€£çµæˆåˆ†åˆ†è§£) | Luzhiledâ€™s Library (ei1333.github.io)](https://ei1333.github.io/library/graph/connected-components/strongly-connected-components.hpp)\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/graph/tree/diameter":{"title":"æœ¨ã®ç›´å¾„","content":"\n## èª¬æ˜\n\næœ¨ã®ç›´å¾„ã¨ã¯ã‚ã‚‹2ç‚¹é–“ãŒæœ€å¤§ã¨ãªã‚‹è·é›¢ã§ã‚ã‚‹ã€‚\n\nã©ã®é ‚ç‚¹ã‹ã‚‰å§‹ã‚ã¦ã‚‚ã€ãã“ã‹ã‚‰æœ€ã‚‚é ã„é ‚ç‚¹ã¯ç›´å¾„ã®ç«¯ç‚¹ã®1ã¤ã«ãªã‚‹ã€‚ç«¯ç‚¹ã‹ã‚‰æœ€ã‚‚é ã„é ‚ç‚¹ã¯ã‚‚ã†1ã¤ã®ç«¯ç‚¹ã«ãªã‚‹ã€‚ãã®2ç‚¹ã®è·é›¢ãŒæœ¨ã®ç›´å¾„ã¨ãªã‚‹ã€‚\n\n## è¨ˆç®—é‡\n\n$O(V + E)$\n\n## å®Ÿè£…\n\n```cpp\n#include \u003cvector\u003e\n\ntemplate \u003ctypename T\u003e\nstruct Edge {\n  int to;\n  T cost;\n};\n\nusing Graph = std::vector\u003cstd::vector\u003cEdge\u003clong long\u003e\u003e\u003e;\n\ntemplate \u003ctypename T\u003e\nstd::pair\u003cT, int\u003e dfs(const Graph \u0026G, int u, int par) {\n  auto ret = {0, u};\n  for (auto \u0026e : G) {\n    if (e.to == par) continue;\n    auto next = dfs\u003cT\u003e(G, e.to, u);\n    next.first += e.cost;\n    ret = std::max(ret, next);\n  }\n  return ret;\n}\n\ntemplate \u003ctypename T\u003e\nT tree_diameter(const Graph \u0026G) {\n  auto p = dfs(G, 0, -1);\n  auto q = dfs(G, p.second, -1);\n  return q.first;\n}\n```\n\n## ä½¿ç”¨ä¾‹\n\n\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/memo":{"title":"","content":"ä»®æƒ³ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã«ã¤ã„ã¦é–‹ã‘ã‚‹åˆ†é‡ã®ã‚µã‚¤ãƒˆã‚’åˆ¶é™ã™ã‚‹\n\nOWON SPE6103\n\n[é¢ç™½ã•ï¼æ–‡è„ˆå¤‰åŒ–Ã—ç´å¾—æ„Ÿ - CGMãƒ—ãƒ©ãƒ³ãƒŠãƒ¼ã®æ€è€ƒ (hatenablog.com)](https://web-ken.hatenablog.com/entry/2017/10/23/172021)\n\nJoel on Software\n[ãƒ—ãƒ­ã‚°ãƒ©ãƒã®ãŸã‚ã®ãƒ¦ãƒ¼ã‚¶ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ãƒ‡ã‚¶ã‚¤ãƒ³ ç¬¬1ç« : ç’°å¢ƒã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã§ãã‚Œã°æ¥½ã—ãæ„Ÿã˜ã‚‹ã‚‚ã® - The Joel on Software Translation Project (archive.org)](https://web.archive.org/web/20190521175932/http://local.joelonsoftware.com/wiki/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9E%E3%81%AE%E3%81%9F%E3%82%81%E3%81%AE%E3%83%A6%E3%83%BC%E3%82%B6%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%95%E3%82%A7%E3%83%BC%E3%82%B9%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3_%E7%AC%AC1%E7%AB%A0:_%E7%92%B0%E5%A2%83%E3%82%92%E3%82%B3%E3%83%B3%E3%83%88%E3%83%AD%E3%83%BC%E3%83%AB%E3%81%A7%E3%81%8D%E3%82%8C%E3%81%B0%E6%A5%BD%E3%81%97%E3%81%8F%E6%84%9F%E3%81%98%E3%82%8B%E3%82%82%E3%81%AE)\n\næŠ€è¡“çš„è©³ç´°ã‚’çŸ¥ã‚ŠãŸããªã„äººã«å¯¾ã—ã¦é€”ä¸­ã‚’èª­ã¾ãšã«çµè«–ã•ãˆèª­ã‚ã°ã‚ˆã„ã‚ˆã†ãªæ›¸ãæ–¹ã‚’ã™ã‚‹ ã®ã¨ãã®ã‚ˆã†ã«ã“ã¨ã‚ã‚‹ã“ã¨.\nã‚³ãƒ¼ãƒ‰ã ã‘ã§ååˆ†ãªäººã«ã¯ã‚³ãƒ¼ãƒ‰ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’èª­ã‚ã°ã‚ˆã„ã‚ˆã†ãªæ›¸ãæ–¹ã‚’ã™ã‚‹ã®ã¨ãã®ã‚ˆã†ã«ã“ã¨ã‚ã‚‹ã“ã¨.\n\n\n- ãƒˆãƒ©ãƒ³ã‚¸ã‚¹ã‚¿ (NPNæ¥åˆ)\n- è‡ªä½œAVRãƒã‚¤ã‚³ãƒ³ãƒ©ã‚¤ã‚¿ãƒ¼\n- è‡ªä½œé›»æº\n- JTAG ã«ã‚ˆã‚‹ãƒ‡ãƒãƒƒã‚°\n- è‡ªä½œNCãƒ•ãƒ©ã‚¤ã‚¹\n- è‡ªä½œ3Dãƒ—ãƒªãƒ³ã‚¿\n- è‡ªä½œICãƒãƒƒãƒ—(ã‚¦ã‚§ãƒã‚„è–¬å“ã®èª¿é”ã€ãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒœãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãªã©ã®å£ãŒã‚ã‚‹ã®ã§ä»Šã®ã¨ã“ã‚å€‹äººã ã¨ã ã„ã¶å³ã—ã„)\n- è‡ªä½œãƒã‚¶ãƒ¼ãƒœãƒ¼ãƒ‰\n- è‡ªä½œãƒ¡ãƒ¢ãƒª\n- è‡ªä½œCPU\n- CPU Break\n- è‡ªä½œGPU\n- è‡ªä½œOS\n- Kernel Exploit\n- è‡ªä½œã‚³ãƒ³ãƒ‘ã‚¤ãƒ©\n- è‡ªä½œè¨€èª\n- è‡ªä½œtoolchain\n- ãƒ­ã‚¹ãƒ¬ã‚¹éŸ³å£°ã‚³ãƒ¼ãƒ‡ãƒƒã‚¯ (PARCORä¿‚æ•°ãƒ»ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰æ¸ˆã¿æ®‹å·®ä¿¡å·)\n- Video\n- è‡ªä½œãƒ–ãƒ©ã‚¦ã‚¶\n- è‡ªä½œæ·±å±¤å­¦ç¿’ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯\n- è‡ªä½œgit\n- è‡ªä½œã‚¨ãƒ‡ã‚£ã‚¿\n- è‡ªä½œã‚²ãƒ¼ãƒ ã‚¨ãƒ³ã‚¸ãƒ³\n- è‡ªä½œHTTPã‚µãƒ¼ãƒã‚½ãƒ•ãƒˆ\n- è‡ªä½œTCP/IPãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚¹ã‚¿ãƒƒã‚¯(è‡ªä½œOSã«å…¥ã‚‹ã‹ã‚‚)\n- è‡ªä½œãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ«ãƒ¼ã‚¿","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/misc/BinaryFormat/ASCII":{"title":"ASCII","content":"\nASCII; American (National) Standard Code for Information Interchage (ASA X3.4-1963ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹)\n\n## ASCII ã‚³ãƒ¼ãƒ‰è¡¨\n\nå…¨éƒ¨å…¥ã‚Š\n\n| 10é€² | 16é€² | ASCII | 10é€² | 16é€² | ASCII | 10é€² | 16é€² | ASCII | 10é€² | 16é€² | ASCII |\n| ---- | ---- | ----- | ---- | ---- | ----- | ---- | ---- | ----- | ---- | ---- | ----- |\n| 0    | 0x0  | NULL  | 32   | 0x20 | SP    | 64   | 0x40 | @     | 96   | 0x60 | \\`    |\n| 1    | 0x1  | SOH   | 33   | 0x21 | !     | 65   | 0x41 | A     | 97   | 0x61 | a     |\n| 2    | 0x2  | STX   | 34   | 0x22 | \"     | 66   | 0x42 | B     | 98   | 0x62 | b     |\n| 3    | 0x3  | ETX   | 35   | 0x23 | #     | 67   | 0x43 | C     | 99   | 0x63 | c     |\n| 4    | 0x4  | EOT   | 36   | 0x24 | $     | 68   | 0x44 | D     | 100  | 0x64 | d     |\n| 5    | 0x5  | ENG   | 37   | 0x25 | %     | 69   | 0x45 | E     | 101  | 0x65 | e     |\n| 6    | 0x6  | ACK   | 38   | 0x26 | \u0026     | 70   | 0x46 | F     | 102  | 0x66 | f     |\n| 7    | 0x7  | BEL   | 39   | 0x27 | '     | 71   | 0x47 | G     | 103  | 0x67 | g     |\n| 8    | 0x8  | BS    | 40   | 0x28 | (     | 72   | 0x48 | H     | 104  | 0x68 | h     |\n| 9    | 0x9  | HT    | 41   | 0x29 | )     | 73   | 0x49 | I     | 105  | 0x69 | i     |\n| 10   | 0xa  | LF    | 42   | 0x2a | *     | 74   | 0x4a | J     | 106  | 0x6a | j     |\n| 11   | 0xb  | VT    | 43   | 0x2b | +     | 75   | 0x4b | K     | 107  | 0x6b | k     |\n| 12   | 0xc  | FF    | 44   | 0x2c | ,     | 76   | 0x4c | L     | 108  | 0x6c | l     |\n| 13   | 0xd  | CR    | 45   | 0x2d | -     | 77   | 0x4d | M     | 109  | 0x6d | m     |\n| 14   | 0xe  | SO    | 46   | 0x2e | .     | 78   | 0x4e | N     | 110  | 0x6e | n     |\n| 15   | 0xf  | SI    | 47   | 0x2f | /     | 79   | 0x4f | O     | 111  | 0x6f | o     |\n| 16   | 0x10 | DLE   | 48   | 0x30 | 0     | 80   | 0x50 | P     | 112  | 0x70 | p     |\n| 17   | 0x11 | DC1   | 49   | 0x31 | 1     | 81   | 0x51 | Q     | 113  | 0x71 | q     |\n| 18   | 0x12 | DC2   | 50   | 0x32 | 2     | 82   | 0x52 | R     | 114  | 0x72 | r     |\n| 19   | 0x13 | DC3   | 51   | 0x33 | 3     | 83   | 0x53 | S     | 115  | 0x73 | s     |\n| 20   | 0x14 | DC4   | 52   | 0x34 | 4     | 84   | 0x54 | T     | 116  | 0x74 | t     |\n| 21   | 0x15 | NAK   | 53   | 0x35 | 5     | 85   | 0x55 | U     | 117  | 0x75 | u     |\n| 22   | 0x16 | SYN   | 54   | 0x36 | 6     | 86   | 0x56 | V     | 118  | 0x76 | v     |\n| 23   | 0x17 | ETB   | 55   | 0x37 | 7     | 87   | 0x57 | W     | 119  | 0x77 | w     |\n| 24   | 0x18 | CAN   | 56   | 0x38 | 8     | 88   | 0x58 | X     | 120  | 0x78 | x     |\n| 25   | 0x19 | EM    | 57   | 0x39 | 9     | 89   | 0x59 | Y     | 121  | 0x79 | y     |\n| 26   | 0x1a | SUB   | 58   | 0x3a | :     | 90   | 0x5a | Z     | 122  | 0x7a | z     |\n| 27   | 0x1b | ESC   | 59   | 0x3b | ;     | 91   | 0x5b | \\[    | 123  | 0x7b | {     |\n| 28   | 0x1c | FS    | 60   | 0x3c | \u003c     | 92   | 0x5c | \\\\     | 124  | 0x7c | \\|    |\n| 29   | 0x1d | GS    | 61   | 0x3d | =     | 93   | 0x5d | ]     | 125  | 0x7d | }     |\n| 30   | 0x1e | RS    | 62   | 0x3e | \u003e     | 94   | 0x5e | ^     | 126  | 0x7e | ~     |\n| 31   | 0x1f | US    | 63   | 0x3f | ?     | 95   | 0x5f | _     | 127  | 0x7f | DEL   |\n\n16é€²æ•°ã®ã¿\n\n|      | 0x00 | 0x01 | 0x02 | 0x03 | 0x04 | 0x05 | 0x06 | 0x07 | 0x08 | 0x09 | 0x0a | 0x0b | 0x0c | 0x0d | 0x0e | 0x0f |\n| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |\n| 0x00 | NULL | SOH  | STX  | ETX  | EOT  | ENG  | ACK  | BEL  | BS   | HT   | LF   | VT   | FF   | CR   | SO   | SI   |\n| 0x10 | DLE  | DC1  | DC2  | DC3  | DC4  | NAK  | SYN  | ETB  | CAN  | EM   | SUB  | ESC  | FS   | GS   | RS   | US   |\n| 0x20 | SP   | !    | \"    | #    | $    | %    | \u0026    | '    | (    | )    | *    | +    | ,    | -    | .    | /    |\n| 0x30 | 0    | 1    | 2    | 3    | 4    | 5    | 6    | 7    | 8    | 9    | :    | ;    | \u003c    | =    | \u003e    | ?    |\n| 0x40 | @    | A    | B    | C    | D    | E    | F    | G    | H    | I    | J    | K    | L    | M    | N    | O    |\n| 0x50 | P    | Q    | R    | S    | T    | U    | V    | W    | X    | Y    | Z    | \\[   | \\\\   | ]    | ^    | _    |\n| 0x60 | \\`   | a    | b    | c    | d    | e    | f    | g    | h    | i    | j    | k    | l    | m    | n    | o    |\n| 0x70 | p    | q    | r    | s    | t    | u    | v    | w    | x    | y    | z    | {    | \\|   | }    | ~    | DEL  |\n\n10é€²æ•°ã®ã¿\n\n|     | 00  | 01  | 02  | 03  | 04  | 05  | 06  | 07  | 08  | 09  |\n| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 30  |     |     | SP  | !   | \"   | #   | $   | %   | \u0026   | '   |\n| 40  | (   | )   | *   | +   | ,   | -   | .   | /   | 0   | 1   |\n| 50  | 2   | 3   | 4   | 5   | 6   | 7   | 8   | 9   | :   | ;   |\n| 60  | \u003c   | =   | \u003e   | ?   | @   | A   | B   | C   | D   | E   |\n| 70  | F   | G   | H   | I   | J   | K   | L   | M   | N   | O   |\n| 80  | P   | Q   | R   | S   | T   | U   | V   | W   | X   | Y   |\n| 90  | Z   | [   | \\\\  | ]   | ^   | _   | \\`  | a   | b   | c   |\n| 100 | d   | e   | f   | g   | h   | i   | j   | k   | l   | m   |\n| 110 | n   | o   | p   | q   | r   | s   | t   | u   | v   | w   |\n| 120 | x   | y   | z   | {   | \\|  | }   | ~   |     |     |     |\n\n## ä¾‹\n```\nString:  Hello, World!\nASCII:   H   e   l   l   o   ,     W  o   r   l   d   !\nHex:     48  65  6C  6C  6F  2C 20 57 6F  72  6C  64  21\nDecimal: 72  101 108 108 111 44 32 87 111 113 108 100 33\n```\n\n## åˆ¶å¾¡æ–‡å­—\n\n| ã‚­ãƒ¼    | 16é€²æ•° | æ„å‘³                      |\n| ------- | ------ | ------------------------- |\n| Ctrl-@  | 00     | Null                      |\n| Ctrl-A  | 01     | Start of Heading          |\n| Ctrl-B  | 02     | Start of Text             |\n| Ctrl-C  | 03     | End of Text               |\n| Ctrl-D  | 04     | End of Transmission       |\n| Ctrl-E  | 05     | Enquiry                   |\n| Ctrl-F  | 06     | Acknowledge               |\n| Ctrl-G  | 07     | Bell                      |\n| Ctrl-H  | 08     | Backspace                 |\n| Ctrl-I  | 09     | Horizontal Tab            |\n| Ctrl-J  | 0A     | Line Feed                 |\n| Ctrl-K  | 0B     | Vertical Tab              |\n| Ctrl-L  | 0C     | Form Feed                 |\n| Ctrl-M  | 0D     | Carriage Return           |\n| Ctrl-N  | 0E     | Shift In                  |\n| Ctrl-O  | 0F     | Shift Out                 |\n| Ctrl-P  | 10     | Data Link Escape          |\n| Ctrl-Q  | 11     | Device Control 1          |\n| Ctrl-R  | 12     | Device Control 2          |\n| Ctrl-S  | 13     | Device Control 3          |\n| Ctrl-T  | 14     | Device Control 4          |\n| Ctrl-U  | 15     | Negative Acknowledge      |\n| Ctrl-V  | 16     | Synchronous idle          |\n| Ctrl-W  | 17     | End of Transmission Block |\n| Ctrl-X  | 18     | Cancel                    |\n| Ctrl-Y  | 19     | End of Medium             |\n| Ctrl-Z  | 1A     | Substitute                |\n| Ctrl-\\[ | 1B     | Escape                    |\n| Ctrl-\\\\ | 1C     | File Separator            |\n| Ctrl-]  | 1D     | Group Separator           |\n| Ctrl-^  | 1E     | Record Separator          |\n| Ctrl-_  | 1F     | Unit Separator            |\n| Ctrl-?  | 7F     | Delete                    |\n\n## å‚è€ƒ\n- [ASCIIã‚³ãƒ¼ãƒ‰è¡¨ (k-cube.co.jp)](https://www.k-cube.co.jp/wakaba/server/ascii_code.html)","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/misc/BinaryFormat/Base64":{"title":"Base64","content":"\n## èª¬æ˜\n10 é€²æ•°ã¯ `0-9`, 16 é€²æ•°ã¯ `0-9A-F` ã¨æ‹¡å¼µã•ã‚Œã¦ã¦, ãã‚Œã˜ã‚ƒæ–‡å­—ã‚’æ²¢å±±ä½¿ãˆã° 64 é€²æ•°ã‚‚æ›¸ã‘ã‚‹ã‚ˆã­ï½ã£ã¦ç™ºæƒ³ã‚’è¦æ ¼ã«ã—ãŸã‚‚ã®ãŒ Base64 ã§ã™. å®Ÿéš›ã«ã¯ Base64 å¤‰æ›å‰ã®ãƒ‡ãƒ¼ã‚¿ã¯æ•°å­—ã§ã¯ãªããƒã‚¤ãƒŠãƒªãŒæŒ‡å®šã•ã‚Œã¾ã™. ç‰¹ã« Web å‘¨è¾ºã«ãŠã„ã¦ URL ã‚„ Cookie ãªã©æ–‡å­—åˆ—ã—ã‹å—ã‘ä»˜ã‘ãªã„ç’°å¢ƒã§ãƒã‚¤ãƒŠãƒªã‚’æ›¸ããŸã„ã¨ãã« Base64 ã‚’ä½¿ãˆã°æ¥½ã«æ–‡å­—ã«è½ã¨ã—è¾¼ã‚“ã§æ¸¡ã›ã‚‹ã®ã§å¬‰ã—ã„ã‚ˆã­ï½.\n\n## ä»•æ§˜\n\n\n## ä½¿ã„æ–¹\n\n```shell\n\u003e base64\n```\n\n## è„†å¼±æ€§\nBase64 ã®ä»•æ§˜ä¸ŠåŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ã™è¤‡æ•°ã® Base64 ãŒå­˜åœ¨ã™ã‚‹.\n\n// TODO å…·ä½“ä¾‹\n\nä¾‹ãˆã°, ã‚ã‚‹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ Base64 ã¨ã—ã¦å®Œå…¨ä¸€è‡´ã—ãŸã¨ãã«ä½•ã‚‰ã‹ã®å‡¦ç†ã—ã¦ã„ã‚‹å ´åˆã¯ä¸Šã®ã‚ˆã†ã«åŒã˜ãƒ‡ãƒ¼ã‚¿ã¨ãªã‚‹ã‚ˆã†ãª Base64 ã‚’æ¸¡ã™ã“ã¨ã§ãƒã‚¤ãƒ‘ã‚¹ã•ã‚Œã¦ã—ã¾ã„ã¾ã™. ã“ã†ã„ã†ã¨ãã¯å¤‰æ›å¾Œã®æ–‡å­—åˆ—ã«å¯¾ã—ã¦å®Œå…¨ä¸€è‡´ã™ã‚Œã°ç¢ºå®Ÿã§ã™.\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/misc/BinaryFormat/ELF":{"title":"ELF","content":"\nELF Header\nProgram Header\nSegment","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/misc/BinaryFormat/FAT32":{"title":"File System","content":"\nãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ  VFS\n- File Allocation Table (FAT)\n- FAT32\n- NTFS\n- ExFAT\n\n\n## FAT32\nFAT ã¨ã¯ Microsoft ã«ã‚ˆã£ã¦é–‹ç™ºã•ã‚ŒãŸã„ãã¤ã‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ (FAT12, FAT16, FAT32, VFAT, exFAT)ã®ç·ç§°ã§ã™ã€‚\n\nã“ã“ã§ã¯å®Ÿè£…ã‚ˆã‚Šä»•çµ„ã¿ã®ç†è§£ã‚’å„ªå…ˆã—ãŸæ›¸ãæ–¹ã‚’ã™ã‚‹ã®ã§å®Ÿè£…ã™ã‚‹æ–¹ã¯è¦æ ¼ãªã©ã‚’èª­ã‚“ã§ãã ã•ã„ã€‚TODO: è¦æ ¼ã®URL\nãˆã‚‹ã‚€ã•ã‚“ã®è¨˜äº‹ãªã©\n[FATãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã®ã—ãã¿ã¨æ“ä½œæ³• (elm-chan.org)](http://elm-chan.org/docs/fat.html)\nãã‚Œã§ã‚‚ä»•æ§˜ã¯è¿½ã†ã®ã§è„†å¼±æ€§ã‚’è¦‹ã¤ã‘ãŸã„æ–¹ã«ã¯æœ‰åŠ¹ã§ã™ã€‚\n\nã‚¯ãƒ©ã‚¹ã‚¿ç•ªå·ã¯2ã‹ã‚‰å§‹ã¾ã‚Šã¾ã™.\n\n```\nReserved sectors\n- Boot Sector\n- FS Information Sector (FAT32 only)\n- More reserved sectors (optional)\nFAT Region\n- File Allocation Table 1\n- File Allocation Table 2 (optional)\nRoot Directory Region (FAT12, FAT16 only)\n- Root Directory Table\nData Region\n- Cluster 2\n- Cluster 3\n...\n- Cluster N\n```\n\nFile Allocation Table ã¯ç‰‡æ–¹å‘é€£çµãƒªã‚¹ãƒˆã§ã™ã€‚FATã‚¨ãƒ³ãƒˆãƒªã¯ã‚¨ãƒ³ãƒˆãƒªç•ªå·ã¨åŒã˜ã‚¯ãƒ©ã‚¹ã‚¿ç•ªå·ã®ã‚¯ãƒ©ã‚¹ã‚¿ã‚’ä¿æŒã—ã€æ¬¡ã®ã‚¨ãƒ³ãƒˆãƒªã‚’æŒ‡ã™ã“ã¨ã§ãƒªã‚¹ãƒˆæ§‹é€ ã¨ãªã‚Šã¾ã™ã€‚çµ‚ç«¯ã«ã¯ç•ªå…µãŒé…ç½®ã•ã‚Œã¦ã„ã¾ã™ã€‚\n\n```\nFile Allocation Table\n entry2 -\u003e entry7 -\u003e ... -\u003e entry23 -\u003e entry (sentinel)\n   |         |                |\ncluster2  cluster7         cluster23\n```\n\nFAT32ã§ã¯32ãƒ“ãƒƒãƒˆ\n\nBoot Sectorã«ã¯ BIOS Parameter Block BPB ã‚„ MBR ã‚„ GPT ãŒé…ç½®ã•ã‚Œã¾ã™ã€‚\n\nãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ã‚¯ã‚»ã‚¹ã®æ–¹æ³•\n\next4 fourth exteneded filesystem\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/misc/BinaryFormat/Unicode":{"title":"Unicode","content":"\nUnicode (ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ‰) ã¯ï¼Œä¸–ç•Œä¸­ã®ã™ã¹ã¦ã®æ–‡å­—ã‚’æ‰±ã†ã“ã¨ã‚’ç›®çš„ã¨ã—ã¦ä½œã‚‰ã‚ŒãŸï¼Œæ–‡å­—ã‚³ãƒ¼ãƒ‰ã®è¦æ ¼ã§ã™ã€‚  \n2014 å¹´ç¾åœ¨ï¼Œç´„ 11 ä¸‡ã‚‚ã®æ–‡å­—ãŒ Unicode ã«åéŒ²ã•ã‚Œã¦ã„ã¾ã™ã€‚\n\nUnicode ã®æ–‡å­—ç¬¦å·åŒ–æ–¹å¼ã«ã¯ï¼Œä¸»ã«æ¬¡ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚\n\n- UTF-8: 1 æ–‡å­—ã‚’æœ€å° 8 ãƒ“ãƒƒãƒˆï¼Œæœ€å¤§ 32 ãƒ“ãƒƒãƒˆã§è¡¨ç¾ã€‚\n- UTF-16: 1 æ–‡å­—ã‚’æœ€å° 16 ãƒ“ãƒƒãƒˆï¼Œæœ€å¤§ 32 ãƒ“ãƒƒãƒˆã§è¡¨ç¾ã€‚\n- UTF-32: 1 æ–‡å­—ã‚’ 32 ãƒ“ãƒƒãƒˆã§è¡¨ç¾ã€‚\n\nWindows ã§ã¯ï¼ŒWin32 ä¸–ä»£ã‹ã‚‰ Unicode ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚  \nWindows ãŒæ¡ç”¨ã—ã¦ã„ã‚‹ Unicode ã®æ–‡å­—ç¬¦å·åŒ–æ–¹å¼ã¯ï¼ŒUTF-16 ã§ã™ã€‚\n","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/misc/BinaryFormat/ZIP":{"title":"ZIP","content":"\n\n\n```\n[local file header 1]\n[file data 1]\n[data descriptor 1]\n.\n.\n.\n[local file header n]\n[file data n]\n[data descriptor n]\n[archive decryption header]\n[archive extra data record]\n[central directory header 1]\n.\n.\n.\n[central directory header n]\n[zip64 end of central directory record]\n[zip64 end of central directory locator]\n[end of central directory record]\n```\n\n### Local file header\n```\n      local file header signature     4 bytes  (0x04034b50)\n      version needed to extract       2 bytes\n      general purpose bit flag        2 bytes\n      compression method              2 bytes\n      last mod file time              2 bytes\n      last mod file date              2 bytes\n      crc-32                          4 bytes\n      compressed size                 4 bytes\n      uncompressed size               4 bytes\n      file name length                2 bytes\n      extra field length              2 bytes\n\n      file name (variable size)\n      extra field (variable size)\n```\n\n\n\n\n\nZIPã¯ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®éšå±¤æ§‹é€ ã¯é–¢ä¿‚ã›ãšãƒ•ã‚¡ã‚¤ãƒ«ã‚’é †ã«ä¸¦ã¹ã‚‹ã€‚\n\n```\n\\ hoge\n |- foo\n |-\nbar\n```\n\nãªã‚‰ã°`/`ã®ã¤ã„ãŸãƒ•ã‚¡ã‚¤ãƒ«åã‚’ZIPåŒ–ã—ãŸã‚‰ã©ã†ãªã‚‹ã‹\n\n\nZIPãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ãƒ˜ãƒƒãƒ€\nã‚·ã‚°ãƒãƒãƒ£ `50 4b 03 04`\nãƒãƒ¼ã‚¸ãƒ§ãƒ³ `14 00` 2.0\n`00 00`\nåœ§ç¸®æ–¹æ³• `08 00` deflate\næœ€çµ‚å¤‰æ›´æ—¥æ™‚ `45 97 90 53`\nCRC-32 `f7 45 3e aa`\nåœ§ç¸®ã‚µã‚¤ã‚º `16 00 00 00` 20 byte\néåœ§ç¸®ã‚µã‚¤ã‚º `42 00 00 00` 68 byte\nãƒ•ã‚¡ã‚¤ãƒ«åã®é•·ã• `04 00` 4 byte\næ‹¡å¼µãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®é•·ã• `1c 00` 28 byte\nãƒ•ã‚¡ã‚¤ãƒ«å(æ–‡å­—åˆ—) `74 65 73 74` test\næ‹¡å¼µãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\nãƒ•ã‚¡ã‚¤ãƒ«ã‚¨ãƒ³ãƒˆãƒª\n55 54 09 00 03 b1 0d bb 61 b4 0d bb 61 75\n78 0b 00 01 04 e8 03 00 00 04 e8 03 00 00 f3 48\ncd c9 c9 d7 51 88 f2 0c 50 08 cf 2f ca 49 51 24\n15 70 01 00 50 4b 01 02 1e 03 14 00 00 00 08 00\n45 97 90 53 f7 45 3e aa 16 00 00 00 42 00 00 00\n04 00 18 00 00 00 00 00 01 00 00 00 a4 81 00 00\n00 00 74 65 73 74 55 54 05 00 03 b1 0d bb 61 75\n78 0b 00 01 04 e8 03 00 00 04 e8 03 00 00 50 4b\n05 06 00 00 00 00 01 00 01 00 4a 00 00 00 54 00\n00 00 00 00\n\nZIPã‚»ãƒ³ãƒˆãƒ©ãƒ«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ•ã‚¡ã‚¤ãƒ«ãƒ˜ãƒƒãƒ€\nã‚·ã‚°ãƒãƒãƒ£ 02 01 4B 50\nä½œæˆã•ã‚ŒãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³\nå±•é–‹ã«å¿…è¦ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³\næ±ç”¨ç›®çš„ã®ãƒ“ãƒƒãƒˆãƒ•ãƒ©ã‚°\nåœ§ç¸®ãƒ¡ã‚½ãƒƒãƒ‰ã€€ï¼ˆ0:ç„¡åœ§ç¸®ã€8:deflateï¼‰\nãƒ•ã‚¡ã‚¤ãƒ«ã®æœ€çµ‚å¤‰æ›´æ™‚é–“\nãƒ•ã‚¡ã‚¤ãƒ«ã®æœ€çµ‚å¤‰æ›´æ—¥ä»˜\nCRC-32\nåœ§ç¸®ã‚µã‚¤ã‚º byte\néåœ§ç¸®ã‚µã‚¤ã‚º byte\nãƒ•ã‚¡ã‚¤ãƒ«åã®é•·ã• byte\næ‹¡å¼µãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®é•·ã• byte\nãƒ•ã‚¡ã‚¤ãƒ«ã‚³ãƒ¡ãƒ³ãƒˆã®é•·ã• byte\nãƒ•ã‚¡ã‚¤ãƒ«ãŒé–‹å§‹ã™ã‚‹ãƒ‡ã‚£ã‚¹ã‚¯ç•ªå· byte\nå†…éƒ¨ãƒ•ã‚¡ã‚¤ãƒ«å±æ€§\nå¤–éƒ¨ãƒ•ã‚¡ã‚¤ãƒ«å±æ€§\nãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ãƒ˜ãƒƒãƒ€ã®ç›¸å¯¾ã‚ªãƒ•ã‚»ãƒƒãƒˆ byte\nãƒ•ã‚¡ã‚¤ãƒ«å(æ–‡å­—åˆ—)\næ‹¡å¼µãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\nãƒ•ã‚¡ã‚¤ãƒ«ã‚³ãƒ¡ãƒ³ãƒˆ(æ–‡å­—åˆ—)\n\nZIPã‚»ãƒ³ãƒˆãƒ©ãƒ«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªçµ‚ç«¯ãƒ¬ã‚³ãƒ¼ãƒ‰\nã‚·ã‚°ãƒãƒãƒ£ 06 05 4B 50\nãƒ‡ã‚£ã‚¹ã‚¯ã®æ•° æš\nã‚»ãƒ³ãƒˆãƒ©ãƒ«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒé–‹å§‹ã™ã‚‹ãƒ‡ã‚£ã‚¹ã‚¯ç•ªå· æšç›®\nã“ã®ãƒ‡ã‚£ã‚¹ã‚¯ä¸Šã®ã‚»ãƒ³ãƒˆãƒ©ãƒ«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¬ã‚³ãƒ¼ãƒ‰ã®æ•° å€‹\nã‚»ãƒ³ãƒˆãƒ©ãƒ«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ¬ã‚³ãƒ¼ãƒ‰ã®åˆè¨ˆæ•° å€‹\nã‚»ãƒ³ãƒˆãƒ©ãƒ«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã‚µã‚¤ã‚º byte\nã‚»ãƒ³ãƒˆãƒ©ãƒ«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®é–‹å§‹ä½ç½®ã®ã‚ªãƒ•ã‚»ãƒƒãƒˆ byte\nZIPãƒ•ã‚¡ã‚¤ãƒ«ã‚³ãƒ¡ãƒ³ãƒˆã®é•·ã• byte\nZIPãƒ•ã‚¡ã‚¤ãƒ«ã‚³ãƒ¡ãƒ³ãƒˆ(æ–‡å­—åˆ—)\n\nã“ã‚Œã¿ã¦ã“ã‚Œã‚’ã¿ã‚ã¨ã„ã†æ°—æŒã¡ã«ãªã£ãŸ\n- [pics/README.md at master Â· corkami/pics (github.com)](https://github.com/corkami/pics/blob/master/binary/README.md)","lastmodified":"2022-12-30T07:57:21.471263809Z","tags":null},"/misc/BinaryFormat/hexadecimal":{"title":"16é€²æ•°","content":"\n| 0   | 1   | 2   | 3   | 4   | 5   | 6   | 7   | 8   | 9   | A   | B   | C   | D   | E   | F   |\n| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n| 0   | 1   | 2   | 3   | 4   | 5   | 6   | 7   | 8   | 9   | 10  | 11  | 12  | 13  | 14  | 15  |\n","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/misc/Misc/Pyjail":{"title":"Pyjail","content":"\nPythonã¯ASCIIã ã‘ã§ã¯ãªãUnicodeå…¨éƒ¨ä½¿ãˆã‚‹\nåˆå­—ã‚’ä½¿ã†ã¨æ–‡å­—æ•°ç¯€ç´„å‡ºæ¥ã‚‹\n[Pythonã®è­˜åˆ¥å­ã«ãŠã‘ã‚‹Unicodeæ­£è¦åŒ–(NFKC)ã¨pyjail - Satoooonã®ç‰©ç½® (hatenablog.com)](https://satoooon1024.hatenablog.com/entry/2022/08/20/Python%E3%81%AE%E8%AD%98%E5%88%A5%E5%AD%90%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8BUnicode%E6%AD%A3%E8%A6%8F%E5%8C%96%28NFKC%29%E3%81%A8pyjail)\n","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/misc/OSINT":{"title":"OSINT (Open Source INTelligence)","content":"\n\nOSINT \n- [www.example.com | DNSViz](https://dnsviz.net/d/www.example.com/dnssec/)\n- æ¶ˆã•ã‚ŒãŸæŠ•ç¨¿ã‚’æ¢ã™\n\t- [https://archive.org/web/](https://archive.org/web/ \"https://archive.org/web/\")\n\t- twitter [https://twilog.org twilog]\n- Reverse Image Search\n\t- Google Lens\n\t- [Fake news debunker by InVID \u0026 WeVerify - Chrome ã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ (google.com)](https://chrome.google.com/webstore/detail/fake-news-debunker-by-inv/mhccpoafgdgbhnjfhkcmgknndkeenfhe?hl=ja\u0026gl=SG)\n- SNSãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’æ¢ã™\n\t- [https://instantusername.com/](https://instantusername.com/ \"https://instantusername.com/\")\n- ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ãƒ¬ãƒ”ãƒ¥ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒã‚§ãƒƒã‚¯\n\t- [any.run](https://any.run/)\n\t- [VirusTotal](https://virustotal.com/)\n- Tor onionã‚¢ãƒ‰ãƒ¬ã‚¹\n- [OSINT Framework](https://osintframework.com/)\n- [SunCalc - sun position, sunlight phases, sunrise, sunset, dusk and dawn times calculator](http://suncalc.net/#/51.508,-0.125,2/2022.08.08/17:00)j\n\n## OSINTã‚’ãƒ¡ã‚¤ãƒ³ã«æ´»å‹•ã—ã¦ã„ã‚‹çµ„ç¹”\n- [bellingcat - the home of online investigations](https://www.bellingcat.com/)\n- Project Owl\n\n## å‚è€ƒæ–‡çŒ®\n- [æ™®æ®µã®èª¿æŸ»ã§åˆ©ç”¨ã™ã‚‹OSINTã¾ã¨ã‚](https://qiita.com/00001B1A/items/4d8ceb53993d3217307e)","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/misc/forensics/forensics":{"title":"Forensics","content":"\nMITRE ATT\u0026CK\n\nAutoPsy\n\n[Detecting Linux Anti-Forensics: Timestomping (inversecos.com)](https://www.inversecos.com/2022/08/detecting-linux-anti-forensics.html)\nVirus Total\n","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/misc/forensics/windows":{"title":"windows log","content":"\nå®Ÿè¡Œã•ã‚ŒãŸPowershell ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒ­ã‚°\nEvent Viewer\nApplications and Services Logs \u003e Microsoft \u003e Windows \u003e PowerShell \u003e Operational\nPrefetchãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–²è¦§ã™ã‚‹ã«ã¯WinPrefetchView\n\nPowerShellç‰ˆMimikatz ãªã©ã®PowerShellã‚’ç”¨ã„ãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ã“ã“ã«è¨˜éŒ²ã•ã‚Œã¦ã„ã‚‹ã€‚\n\nLSASS (LSA Server Service)\n\nRemote Desktop Protocol ã®ãƒ­ã‚°\nApplications and Services Logs \u003e Microsoft \u003e Windows \u003e TerminalServices-ClientActiveXCore \u003e Microsoft-Windows-TerminalServices-RDPClient/Operational\n\n[æ®‹ã•ã‚ŒãŸæ”»æ’ƒã®ç—•è·¡ã‚’è¿½ãˆï¼ã€€ï½Post-Exploitationã§èµ·ãã¦ã„ã‚‹ã“ã¨ï½ | ã‚¤ãƒ³ãƒ•ã‚©ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ‡ã‚£ãƒ™ãƒ­ãƒ—ãƒ¡ãƒ³ãƒˆ (idnet.co.jp)](https://www.idnet.co.jp/column/page_186.html)","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/notes/CJK-+-Latex-Support-%E6%B5%8B%E8%AF%95":{"title":"CJK + Latex Support (æµ‹è¯•)","content":"\n## Chinese, Japanese, Korean Support\nå‡ ä¹åœ¨æˆ‘ä»¬æ„è¯†åˆ°ä¹‹å‰ï¼Œæˆ‘ä»¬å·²ç»ç¦»å¼€äº†åœ°é¢ã€‚\n\nìš°ë¦¬ê°€ ê·¸ê²ƒì„ ì•Œê¸°ë„ ì „ì— ìš°ë¦¬ëŠ” ë•…ì„ ë– ë‚¬ìŠµë‹ˆë‹¤.\n\nç§ãŸã¡ãŒãã‚Œã‚’çŸ¥ã‚‹ã»ã¼å‰ã«ã€ç§ãŸã¡ã¯åœ°é¢ã‚’é›¢ã‚Œã¦ã„ã¾ã—ãŸã€‚\n\n## Latex\n\nBlock math works with two dollar signs `$$...$$`\n\n$$f(x) = \\int_{-\\infty}^\\infty\n    f\\hat(\\xi),e^{2 \\pi i \\xi x}\n    \\,d\\xi$$\n\t\nInline math also works with single dollar signs `$...$`. For example, Euler's identity but inline: $e^{i\\pi} = 0$\n\nAligned equations work quite well:\n\n$$\n\\begin{aligned}\na \u0026= b + c \\\\ \u0026= e + f \\\\\n\\end{aligned}\n$$\n\nAnd matrices\n\n$$\n\\begin{bmatrix}\n1 \u0026 2 \u0026 3 \\\\\na \u0026 b \u0026 c\n\\end{bmatrix}\n$$\n\n## RTL\nMore information on configuring RTL languages like Arabic in the [config](notes/config.md) page.","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/notes/callouts":{"title":"Callouts","content":"\n## Callout support\n\nQuartz supports the same Admonition-callout syntax as Obsidian.\n\nThis includes\n- 12 Distinct callout types (each with several aliases)\n- Collapsable callouts\n\nSee [documentation on supported types and syntax here](https://help.obsidian.md/How+to/Use+callouts#Types).\n\n## Showcase\n\n\u003e [!EXAMPLE] Examples\n\u003e\n\u003e Aliases: example\n\n\u003e [!note] Notes\n\u003e\n\u003e Aliases: note\n\n\u003e [!abstract] Summaries \n\u003e\n\u003e Aliases: abstract, summary, tldr\n\n\u003e [!info] Info \n\u003e\n\u003e Aliases: info, todo\n\n\u003e [!tip] Hint \n\u003e\n\u003e Aliases: tip, hint, important\n\n\u003e [!success] Success \n\u003e\n\u003e Aliases: success, check, done\n\n\u003e [!question] Question \n\u003e\n\u003e Aliases: question, help, faq\n\n\u003e [!warning] Warning \n\u003e\n\u003e Aliases: warning, caution, attention\n\n\u003e [!failure] Failure \n\u003e\n\u003e Aliases: failure, fail, missing\n\n\u003e [!danger] Error\n\u003e\n\u003e Aliases: danger, error\n\n\u003e [!bug] Bug\n\u003e\n\u003e Aliases: bug\n\n\u003e [!quote] Quote\n\u003e\n\u003e Aliases: quote, cite\n","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/notes/config":{"title":"Configuration","content":"\n## Configuration\nQuartz is designed to be extremely configurable. You can find the bulk of the configuration scattered throughout the repository depending on how in-depth you'd like to get.\n\nThe majority of configuration can be found under `data/config.yaml`. An annotated example configuration is shown below.\n\n```yaml {title=\"data/config.yaml\"}\n# The name to display in the footer\nname: Jacky Zhao\n\n# whether to globally show the table of contents on each page\n# this can be turned off on a per-page basis by adding this to the\n# front-matter of that note\nenableToc: true\n\n# whether to by-default open or close the table of contents on each page\nopenToc: false\n\n# whether to display on-hover link preview cards\nenableLinkPreview: true\n\n# whether to render titles for code blocks\nenableCodeBlockTitle: true \n\n# whether to render copy buttons for code blocks\nenableCodeBlockCopy: true \n\n# whether to render callouts\nenableCallouts: true\n\n# whether to try to process Latex\nenableLatex: true\n\n# whether to enable single-page-app style rendering\n# this prevents flashes of unstyled content and improves\n# smoothness of Quartz. More info in issue #109 on GitHub\nenableSPA: true\n\n# whether to render a footer\nenableFooter: true\n\n# whether backlinks of pages should show the context in which\n# they were mentioned\nenableContextualBacklinks: true\n\n# whether to show a section of recent notes on the home page\nenableRecentNotes: false\n\n# whether to display an 'edit' button next to the last edited field\n# that links to github\nenableGitHubEdit: true\nGitHubLink: https://github.com/jackyzha0/quartz/tree/hugo/content\n\n# whether to use Operand to power semantic search\n# IMPORTANT: replace this API key with your own if you plan on using\n# Operand search!\nenableSemanticSearch: false\noperandApiKey: \"REPLACE-WITH-YOUR-OPERAND-API-KEY\"\n\n# page description used for SEO\ndescription:\n  Host your second brain and digital garden for free. Quartz features extremely fast full-text search,\n  Wikilink support, backlinks, local graph, tags, and link previews.\n\n# title of the home page (also for SEO)\npage_title:\n  \"ğŸª´ Quartz 3.3\"\n\n# links to show in the footer\nlinks:\n  - link_name: Twitter\n    link: https://twitter.com/_jzhao\n  - link_name: Github\n    link: https://github.com/jackyzha0\n```\n\n### Code Block Titles\nTo add code block titles with Quartz:\n\n1. Ensure that code block titles are enabled in Quartz's configuration:\n\n    ```yaml {title=\"data/config.yaml\", linenos=false}\n    enableCodeBlockTitle: true\n    ```\n\n2. Add the `title` attribute to the desired [code block\n   fence](https://gohugo.io/content-management/syntax-highlighting/#highlighting-in-code-fences):\n\n      ```markdown {linenos=false}\n       ```yaml {title=\"data/config.yaml\"}\n       enableCodeBlockTitle: true  # example from step 1\n       ```\n      ```\n\n**Note** that if `{title=\u003cmy-title\u003e}` is included, and code block titles are not\nenabled, no errors will occur, and the title attribute will be ignored.\n\n### HTML Favicons\nIf you would like to customize the favicons of your Quartz-based website, you \ncan add them to the `data/config.yaml` file. The **default** without any set \n`favicon` key is:\n\n```html {title=\"layouts/partials/head.html\", linenostart=15}\n\u003clink rel=\"shortcut icon\" href=\"icon.png\" type=\"image/png\"\u003e\n```\n\nThe default can be overridden by defining a value to the `favicon` key in your \n`data/config.yaml` file. For example, here is a `List[Dictionary]` example format, which is\nequivalent to the default:\n\n```yaml {title=\"data/config.yaml\", linenos=false}\nfavicon:\n  - { rel: \"shortcut icon\", href: \"icon.png\", type: \"image/png\" }\n#  - { ... } # Repeat for each additional favicon you want to add\n```\n\nIn this format, the keys are identical to their HTML representations.\n\nIf you plan to add multiple favicons generated by a website (see list below), it\nmay be easier to define it as HTML. Here is an example which appends the \n**Apple touch icon** to Quartz's default favicon:\n\n```yaml {title=\"data/config.yaml\", linenos=false}\nfavicon: |\n  \u003clink rel=\"shortcut icon\" href=\"icon.png\" type=\"image/png\"\u003e\n  \u003clink rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"/apple-touch-icon.png\"\u003e\n```\n\nThis second favicon will now be used as a web page icon when someone adds your \nwebpage to the home screen of their Apple device. If you are interested in more \ninformation about the current and past standards of favicons, you can read \n[this article](https://www.emergeinteractive.com/insights/detail/the-essentials-of-favicons/).\n\n**Note** that all generated favicon paths, defined by the `href` \nattribute, are relative to the `static/` directory.\n\n### Graph View\nTo customize the Interactive Graph view, you can poke around `data/graphConfig.yaml`.\n\n```yaml {title=\"data/graphConfig.yaml\"}\n# if true, a Global Graph will be shown on home page with full width, no backlink.\n# A different set of Local Graphs will be shown on sub pages.\n# if false, Local Graph will be default on every page as usual\nenableGlobalGraph: false\n\n### Local Graph ###\nlocalGraph:\n    # whether automatically generate a legend\n    enableLegend: false\n    \n    # whether to allow dragging nodes in the graph\n    enableDrag: true\n    \n    # whether to allow zooming and panning the graph\n    enableZoom: true\n    \n    # how many neighbours of the current node to show (-1 is all nodes)\n    depth: 1\n    \n    # initial zoom factor of the graph\n    scale: 1.2\n    \n    # how strongly nodes should repel each other\n    repelForce: 2\n\n    # how strongly should nodes be attracted to the center of gravity\n    centerForce: 1\n\n    # what the default link length should be\n    linkDistance: 1\n    \n    # how big the node labels should be\n    fontSize: 0.6\n    \n    # scale at which to start fading the labes on nodes\n    opacityScale: 3\n\n### Global Graph ###\nglobalGraph:\n\t# same settings as above\n\n### For all graphs ###\n# colour specific nodes path off of their path\npaths:\n  - /moc: \"#4388cc\"\n```\n\n\n## Styling\nWant to go even more in-depth? You can add custom CSS styling and change existing colours through editing `assets/styles/custom.scss`. If you'd like to target specific parts of the site, you can add ids and classes to the HTML partials in `/layouts/partials`. \n\n### Partials\nPartials are what dictate what gets rendered to the page. Want to change how pages are styled and structured? You can edit the appropriate layout in `/layouts`.\n\nFor example, the structure of the home page can be edited through `/layouts/index.html`. To customize the footer, you can edit `/layouts/partials/footer.html`\n\nMore info about partials on [Hugo's website.](https://gohugo.io/templates/partials/)\n\nStill having problems? Checkout our [FAQ and Troubleshooting guide](notes/troubleshooting.md).\n\n## Language Support\n[CJK + Latex Support (æµ‹è¯•)](notes/CJK%20+%20Latex%20Support%20(æµ‹è¯•).md) comes out of the box with Quartz.\n\nWant to support languages that read from right-to-left (like Arabic)? Hugo (and by proxy, Quartz) supports this natively.\n\nFollow the steps [Hugo provides here](https://gohugo.io/content-management/multilingual/#configure-languages) and modify your `config.toml`\n\nFor example:\n\n```toml\ndefaultContentLanguage = 'ar'\n[languages]\n  [languages.ar]\n    languagedirection = 'rtl'\n    title = 'Ù…Ø¯ÙˆÙ†ØªÙŠ'\n    weight = 1\n```\n","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/notes/custom-Domain":{"title":"Custom Domain","content":"\n### Registrar\nThis step is only applicable if you are using a **custom domain**! If you are using a `\u003cYOUR-USERNAME\u003e.github.io` domain, you can skip this step.\n\nFor this last bit to take effect, you also need to create a CNAME record with the DNS provider you register your domain with (i.e. NameCheap, Google Domains).\n\nGitHub has some [documentation on this](https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site), but the tldr; is to\n\n1. Go to your forked repository (`github.com/\u003cYOUR-GITHUB-USERNAME\u003e/quartz`) settings page and go to the Pages tab. Under \"Custom domain\", type your custom domain, then click **Save**.\n2. Go to your DNS Provider and create a CNAME record that points from your domain to `\u003cYOUR-GITHUB-USERNAME.github.io.` (yes, with the trailing period).\n\n\t![Example Configuration for Quartz](/notes/images/google-domains.png)*Example Configuration for Quartz*\n3. Wait 30 minutes to an hour for the network changes to kick in.\n4. Done!","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/notes/editing":{"title":"Editing Content in Quartz","content":"\n## Editing \nQuartz runs on top of [Hugo](https://gohugo.io/) so all notes are written in [Markdown](https://www.markdownguide.org/getting-started/).\n\n### Folder Structure\nHere's a rough overview of what's what.\n\n**All content in your garden can found in the `/content` folder.** To make edits, you can open any of the files and make changes directly and save it. You can organize content into any folder you'd like.\n\n**To edit the main home page, open `/content/_index.md`.**\n\nTo create a link between notes in your garden, just create a normal link using Markdown pointing to the document in question. Please note that **all links should be relative to the root `/content` path**. \n\n```markdown\nFor example, I want to link this current document to `notes/config.md`.\n[A link to the config page](notes/config.md)\n```\n\nSimilarly, you can put local images anywhere in the `/content` folder.\n\n```markdown\nExample image (source is in content/notes/images/example.png)\n![Example Image](/content/notes/images/example.png)\n```\n\nYou can also use wikilinks if that is what you are more comfortable with!\n\n### Front Matter\nHugo is picky when it comes to metadata for files. Make sure that your title is double-quoted and that you have a title defined at the top of your file like so. You can also add tags here as well.\n\n```yaml\n---\ntitle: \"Example Title\"\ntags:\n- example-tag\n---\n\nRest of your content here...\n```\n\n### Obsidian\nI recommend using [Obsidian](http://obsidian.md/) as a way to edit and grow your digital garden. It comes with a really nice editor and graphical interface to preview all of your local files.\n\nThis step is **highly recommended**.\n\n\u003e ğŸ”— Step 3: [How to setup your Obsidian Vault to work with Quartz](notes/obsidian.md)\n\n## Previewing Changes\nThis step is purely optional and mostly for those who want to see the published version of their digital garden locally before opening it up to the internet. This is *highly recommended* but not required.\n\n\u003e ğŸ‘€ Step 4: [Preview Quartz Changes](notes/preview%20changes.md)\n\nFor those who like to live life more on the edge, viewing the garden through Obsidian gets you pretty close to the real thing.\n\n## Publishing Changes\nNow that you know the basics of managing your digital garden using Quartz, you can publish it to the internet!\n\n\u003e ğŸŒ Step 5: [Hosting Quartz online!](notes/hosting.md)\n\nHaving problems? Checkout our [FAQ and Troubleshooting guide](notes/troubleshooting.md).\n","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/notes/hosting":{"title":"Deploying Quartz to the Web","content":"\n## Hosting on GitHub Pages\nQuartz is designed to be effortless to deploy. If you forked and cloned Quartz directly from the repository, everything should already be good to go! Follow the steps below.\n\n### Enable GitHub Actions\nBy default, GitHub disables workflows from running automatically on Forked Repostories. Head to the 'Actions' tab of your forked repository and Enable Workflows to setup deploying your Quartz site!\n\n![Enable GitHub Actions](notes/images/github-actions.png)*Enable GitHub Actions*\n\n### Enable GitHub Pages\n\nHead to the 'Settings' tab of your forked repository and go to the 'Pages' tab.\n\n1. (IMPORTANT) Set the source to deploy from `master` (and not `hugo`) using `/ (root)`\n2. Set a custom domain here if you have one!\n\n![Enable GitHub Pages](/notes/images/github-pages.png)*Enable GitHub Pages*\n\n### Pushing Changes\nTo see your changes on the internet, we need to push it them to GitHub. Quartz is a `git` repository so updating it is the same workflow as you would follow as if it were just a regular software project.\n\n```shell\n# Navigate to Quartz folder\ncd \u003cpath-to-quartz\u003e\n\n# Commit all changes\ngit add .\ngit commit -m \"message describing changes\"\n\n# Push to GitHub to update site\ngit push origin hugo\n```\n\nNote: we specifically push to the `hugo` branch here. Our GitHub action automatically runs everytime a push to is detected to that branch and then updates the `master` branch for redeployment.\n\n### Setting up the Site\nNow let's get this site up and running. Never hosted a site before? No problem. Have a fancy custom domain you already own or want to subdomain your Quartz? That's easy too.\n\nHere, we take advantage of GitHub's free page hosting to deploy our site. Change `baseURL` in `/config.toml`. \n\nMake sure that your `baseURL` has a trailing `/`!\n\n[Reference `config.toml` here](https://github.com/jackyzha0/quartz/blob/hugo/config.toml)\n\n```toml\nbaseURL = \"https://\u003cYOUR-DOMAIN\u003e/\"\n```\n\nIf you are using this under a subdomain (e.g. `\u003cYOUR-GITHUB-USERNAME\u003e.github.io/quartz`), include the trailing `/`. **You need to do this especially if you are using GitHub!**\n\n```toml\nbaseURL = \"https://\u003cYOUR-GITHUB-USERNAME\u003e.github.io/quartz/\"\n```\n\nChange `cname` in `/.github/workflows/deploy.yaml`. Again, if you don't have a custom domain to use, you can use `\u003cYOUR-USERNAME\u003e.github.io`.\n\nPlease note that the `cname` field should *not* have any path `e.g. end with /quartz` or have a trailing `/`.\n\n[Reference `deploy.yaml` here](https://github.com/jackyzha0/quartz/blob/hugo/.github/workflows/deploy.yaml)\n\n```yaml {title=\".github/workflows/deploy.yaml\"}\n- name: Deploy  \n  uses: peaceiris/actions-gh-pages@v3  \n  with:  \n\tgithub_token: ${{ secrets.GITHUB_TOKEN }} # this can stay as is, GitHub fills this in for us!\n\tpublish_dir: ./public  \n\tpublish_branch: master\n\tcname: \u003cYOUR-DOMAIN\u003e\n```\n\nHave a custom domain? [Learn how to set it up with Quartz ](notes/custom%20Domain.md).\n\n### Ignoring Files\nOnly want to publish a subset of all of your notes? Don't worry, Quartz makes this a simple two-step process.\n\nâŒ [Excluding pages from being published](notes/ignore%20notes.md)\n\n---\n\nNow that your Quartz is live, let's figure out how to make Quartz really *yours*!\n\n\u003e Step 6: ğŸ¨ [Customizing Quartz](notes/config.md)\n\nHaving problems? Checkout our [FAQ and Troubleshooting guide](notes/troubleshooting.md).\n","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/notes/ignore-notes":{"title":"Ignoring Notes","content":"\n### Quartz Ignore\nEdit `ignoreFiles` in `config.toml` to include paths you'd like to exclude from being rendered.\n\n```toml\n...\nignoreFiles = [  \n    \"/content/templates/*\",  \n    \"/content/private/*\", \n    \"\u003cyour path here\u003e\"\n]\n```\n\n`ignoreFiles` supports the use of Regular Expressions (RegEx) so you can ignore patterns as well (e.g. ignoring all `.png`s by doing `\\\\.png$`).\nTo ignore a specific file, you can also add the tag `draft: true` to the frontmatter of a note.\n\n```markdown\n---\ntitle: Some Private Note\ndraft: true\n---\n...\n```\n\nMore details in [Hugo's documentation](https://gohugo.io/getting-started/configuration/#ignore-content-and-data-files-when-rendering).\n\n### Global Ignore\nHowever, just adding to the `ignoreFiles` will only prevent the page from being access through Quartz. If you want to prevent the file from being pushed to GitHub (for example if you have a public repository), you need to also add the path to the `.gitignore` file at the root of the repository.","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/notes/obsidian":{"title":"Obsidian Vault Integration","content":"\n## Setup\nObsidian is the preferred way to use Quartz. You can either create a new Obsidian Vault or link one that your already have.\n\n### New Vault\nIf you don't have an existing Vault, [download Obsidian](https://obsidian.md/) and create a new Vault in the `/content` folder that you created and cloned during the [setup](notes/setup.md) step.\n\n### Linking an existing Vault\nThe easiest way to use an existing Vault is to copy all of your files (directory and hierarchies intact) into the `/content` folder.\n\n## Settings\nGreat, now that you have your Obsidian linked to your Quartz, let's fix some settings so that they play well.\n\n1. Under Options \u003e Files and Links, set the New link format to always use Absolute Path in Vault.\n2. Go to Settings \u003e Files \u0026 Links \u003e Turn \"on\" automatically update internal links.\n\n![Obsidian Settings](/notes/images/obsidian-settings.png)*Obsidian Settings*\n\n## Templates\nInserting front matter everytime you want to create a new Note gets annoying really quickly. Luckily, Obsidian supports templates which makes inserting new content really easily.\n\n**If you decide to overwrite the `/content` folder completely, don't remove the `/content/templates` folder!**\n\nHead over to Options \u003e Core Plugins and enable the Templates plugin. Then go to Options \u003e Hotkeys and set a hotkey for 'Insert Template' (I recommend `[cmd]+T`). That way, when you create a new note, you can just press the hotkey for a new template and be ready to go!\n\n\u003e ğŸ‘€ Step 4: [Preview Quartz Changes](notes/preview%20changes.md)","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/notes/philosophy":{"title":"Quartz Philosophy","content":"\n\u003e â€œ[One] who works with the door open gets all kinds of interruptions, but [they] also occasionally gets clues as to what the world is and what might be important.â€ â€” Richard Hamming\n\n## Why Quartz?\nHosting a public digital garden isn't easy. There are an overwhelming number of tutorials, resources, and guides for tools like [Notion](https://www.notion.so/), [Roam](https://roamresearch.com/), and [Obsidian](https://obsidian.md/), yet none of them have super easy to use *free* tools to publish that garden to the world.\n\nI've personally found that\n1. It's nice to access notes from anywhere\n2. Having a public digital garden invites open conversations\n3. It makes keeping personal notes and knowledge *playful and fun*\n\nI was really inspired by [Bianca](https://garden.bianca.digital/) and [Joel](https://joelhooks.com/digital-garden)'s digital gardens and wanted to try making my own.\n\n**The goal of Quartz is to make hosting your own public digital garden free and simple.** You don't even need your own website. Quartz does all of that for you and gives your own little corner of the internet.\n","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/notes/preview-changes":{"title":"Preview Changes","content":"\nIf you'd like to preview what your Quartz site looks like before deploying it to the internet, here's exactly how to do that!\n\nNote that both of these steps need to be completed.\n\n## Install `hugo-obsidian`\nThis step will generate the list of backlinks for Hugo to parse. Ensure you have [Go](https://golang.org/doc/install) (\u003e= 1.16) installed.\n\n```bash\n# Install and link `hugo-obsidian` locally\ngo install github.com/jackyzha0/hugo-obsidian@latest\n```\n\nIf you are running into an error saying that `command not found: hugo-obsidian`, make sure you set your `GOPATH` correctly! This will allow your terminal to correctly recognize hugo-obsidian as an executable.\n\nAfterwards, start the Hugo server as shown above and your local backlinks and interactive graph should be populated!\n\n##  Installing Hugo\nHugo is the static site generator that powers Quartz. [Install Hugo with \"extended\" Sass/SCSS version](https://gohugo.io/getting-started/installing/) first. Then,\n\n```bash\n# Navigate to your local Quartz folder\ncd \u003clocation-of-your-local-quartz\u003e\n\n# Start local server\nmake serve\n\n# View your site in a browser at http://localhost:1313/\n```\n\n\u003e ğŸŒ Step 5: [Hosting Quartz online!](notes/hosting.md)","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/notes/search":{"title":"Search","content":"\nQuartz supports two modes of searching through content.\n\n## Full-text\nFull-text search is the default in Quartz. It produces results that *exactly* match the search query. This is easier to setup but usually produces lower quality matches.\n\n```yaml {title=\"data/config.yaml\"}\n# the default option\nenableSemanticSearch: false\n```\n\n## Natural Language\nNatural language search is powered by [Operand](https://operand.ai/). It understands language like a person does and finds results that best match user intent. In this sense, it is closer to how Google Search works.\n\nNatural language search tends to produce higher quality results than full-text search.\n\nHere's how to set it up.\n\n1. Create an Operand Account on [their website](https://operand.ai/).\n2. Go to Dashboard \u003e Settings \u003e Integrations.\n3. Follow the steps to setup the GitHub integration. Operand needs access to GitHub in order to index your digital garden properly!\n4. Head over to Dashboard \u003e Objects and press `(Cmd + K)` to open the omnibar and select 'Create Collection'.\n\t1. Set the 'Collection Label' to something that will help you remember it.\n\t2. You can leave the 'Parent Collection' field empty.\n5. Click into your newly made Collection.\n\t1. Press the 'share' button that looks like three dots connected by lines.\n\t2. Set the 'Interface Type' to `object-search` and click 'Create'.\n\t3. This will bring you to a new page with a search bar. Ignore this for now.\n6. Go back to Dashboard \u003e Settings \u003e API Keys and find your Quartz-specific Operand API key under 'Other keys'.\n\t1. Copy the key (which looks something like `0e733a7f-9b9c-48c6-9691-b54fa1c8b910`).\n\t2. Open `data/config.yaml`. Set `enableSemanticSearch` to `true` and `operandApiKey` to your copied key.\n\n```yaml {title=\"data/config.yaml\"}\n# the default option\nenableSemanticSearch: true\noperandApiKey: \"0e733a7f-9b9c-48c6-9691-b54fa1c8b910\"\n```\n7. Make a commit and push your changes to GitHub. See the [[notes/hosting|hosting]] page if you haven't done this already.\n\t1. This step is *required* for Operand to be able to properly index your content. \n\t2. Head over to Dashboard \u003e Objects and select the collection that you made earlier\n8. Press `(Cmd + K)` to open the omnibar again and select 'Create GitHub Repo'\n\t1. Set the 'Repository Label' to `Quartz`\n\t2. Set the 'Repository Owner' to your GitHub username\n\t3. Set the 'Repository Ref' to `master`\n\t4. Set the 'Repository Name' to the name of your repository (usually just `quartz` if you forked the repository without changing the name)\n\t5. Leave 'Root Path' and 'Root URL' empty\n9. Wait for your repository to index and enjoy natural language search in Quartz! Operand refreshes the index every 2h so all you need to do is just push to GitHub to update the contents in the search.","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/notes/setup":{"title":"Setup","content":"\n## Making your own Quartz\nSetting up Quartz requires a basic understanding of `git`. If you are unfamiliar, [this resource](https://resources.nwplus.io/2-beginner/how-to-git-github.html) is a great place to start!\n\n### Forking\n\u003e A fork is a copy of a repository. Forking a repository allows you to freely experiment with changes without affecting the original project.\n\nNavigate to the GitHub repository for the Quartz project:\n\nğŸ“ [Quartz Repository](https://github.com/jackyzha0/quartz)\n\nThen, Fork the repository into your own GitHub account. If you don't have an account, you can make on for free [here](https://github.com/join). More details about forking a repo can be found on [GitHub's documentation](https://docs.github.com/en/get-started/quickstart/fork-a-repo).\n\n### Cloning\nAfter you've made a fork of the repository, you need to download the files locally onto your machine. Ensure you have `git`, then type the following command replacing `YOUR-USERNAME` with your GitHub username.\n\n```shell\ngit clone https://github.com/YOUR-USERNAME/quartz\n```\n\n## Editing\nGreat! Now you have everything you need to start editing and growing your digital garden. If you're ready to start writing content already, check out the recommended flow for editing notes in Quartz.\n\n\u003e âœï¸ Step 2: [Editing Notes in Quartz](notes/editing.md)\n\nHaving problems? Checkout our [FAQ and Troubleshooting guide](notes/troubleshooting.md).\n","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/notes/showcase":{"title":"Showcase","content":"\nWant to see what Quartz can do? Here are some cool community gardens :)\n\n- [Quartz Documentation (this site!)](https://quartz.jzhao.xyz/)\n- [Jacky Zhao's Garden](https://jzhao.xyz/)\n- [Scaling Synthesis - A hypertext research notebook](https://scalingsynthesis.com/)\n- [AWAGMI Intern Notes](https://notes.awagmi.xyz/)\n- [Shihyu's PKM](https://shihyuho.github.io/pkm/)\n- [Chloe's Garden](https://garden.chloeabrasada.online/)\n- [SlRvb's Site](https://slrvb.github.io/Site/)\n- [Course notes for Information Technology Advanced Theory](https://a2itnotes.github.io/quartz/)\n- [Brandon Boswell's Garden](https://brandonkboswell.com)\n- [Siyang's Courtyard](https://siyangsun.github.io/courtyard/)\n- [Data Dictionary ğŸ§ ](https://glossary.airbyte.com/)\n- [sspaeti.com's Second Brain](https://brain.sspaeti.com/)\n- [oldwinterã®æ•°å­—èŠ±å›­](https://garden.oldwinter.top/)\n- [SethMB Work](https://sethmb.xyz/)\n\nIf you want to see your own on here, submit a [Pull Request adding yourself to this file](https://github.com/jackyzha0/quartz/blob/hugo/content/notes/showcase.md)!\n","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/notes/troubleshooting":{"title":"Troubleshooting and FAQ","content":"\nStill having trouble? Here are a list of common questions and problems people encounter when installing Quartz.\n\nWhile you're here, join our [Discord](https://discord.gg/cRFFHYye7t) :)\n\n### Does Quartz have Latex support?\nYes! See [CJK + Latex Support (æµ‹è¯•)](notes/CJK%20+%20Latex%20Support%20(æµ‹è¯•).md) for a brief demo.\n\n### Can I use \\\u003cObsidian Plugin\\\u003e in Quartz?\nUnless it produces direct Markdown output in the file, no. There currently is no way to bundle plugin code with Quartz.\n\nThe easiest way would be to add your own HTML partial that supports the functionality you are looking for.\n\n### My GitHub pages is just showing the README and not Quartz\nMake sure you set the source to deploy from `master` (and not `hugo`) using `/ (root)`! See more in the [hosting](/notes/hosting) guide\n\n### Some of my pages have 'January 1, 0001' as the last modified date\nThis is a problem caused by `git` treating files as case-insensitive by default and some of your posts probably have capitalized file names. You can turn this off in your Quartz by running this command.\n\n```shell\n# in the root of your Quartz (same folder as config.toml)\ngit config core.ignorecase true\n\n# or globally (not recommended)\ngit config --global core.ignorecase true\n```\n\n### Can I publish only a subset of my pages?\nYes! Quartz makes selective publishing really easy. Heres a guide on [excluding pages from being published](notes/ignore%20notes.md).\n\n### Can I host this myself and not on GitHub Pages?\nYes! All built files can be found under `/public` in the `master` branch. More details under [hosting](notes/hosting.md).\n\n### `command not found: hugo-obsidian`\nMake sure you set your `GOPATH` correctly! This will allow your terminal to correctly recognize `hugo-obsidian` as an executable.\n\n```shell\n# Add the following 2 lines to your ~/.bash_profile\nexport GOPATH=/Users/$USER/go\nexport PATH=$GOPATH/bin:$PATH\n\n# In your current terminal, to reload the session\nsource ~/.bash_profile\n```\n\n### How come my notes aren't being rendered?\nYou probably forgot to include front matter in your Markdown files. You can either setup [Obsidian](notes/obsidian.md) to do this for you or you need to manually define it. More details in [the 'how to edit' guide](notes/editing.md).\n\n### My custom domain isn't working!\nWalk through the steps in [the hosting guide](notes/hosting.md) again. Make sure you wait 30 min to 1 hour for changes to take effect.\n\n### How do I setup Google Analytics?\nYou can edit it in `config.toml` and either use a V3 (UA-) or V4 (G-) tag.\n\n### How do I change the content on the home page?\nTo edit the main home page, open `/content/_index.md`.\n\n### How do I change the colours?\nYou can change the theme by editing `assets/custom.scss`. More details on customization and themeing can be found in the [customization guide](notes/config.md).\n\n### How do I add images?\nYou can put images anywhere in the `/content` folder.\n\n```markdown\nExample image (source is in content/notes/images/example.png)\n![Example Image](/content/notes/images/example.png)\n```\n\n### My Interactive Graph and Backlinks aren't up to date\nBy default, the `linkIndex.json` (which Quartz needs to generate the Interactive Graph and Backlinks) are not regenerated locally. To set that up, see the guide on [local editing](notes/editing.md)\n\n### Can I use React/Vue/some other framework?\nNot out of the box. You could probably make it work by editing `/layouts/_default/single.html` but that's not what Quartz is designed to work with. 99% of things you are trying to do with those frameworks you can accomplish perfectly fine using just vanilla HTML/CSS/JS.\n\n## Still Stuck?\nQuartz isn't perfect! If you're still having troubles, file an issue in the GitHub repo with as much information as you can reasonably provide. Alternatively, you can message me on [Twitter](https://twitter.com/_jzhao) and I'll try to get back to you as soon as I can.\n\nğŸ› [Submit an Issue](https://github.com/jackyzha0/quartz/issues)","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/notes/updating":{"title":"Updating","content":"\nHaven't updated Quartz in a while and want all the cool new optimizations? On Unix/Mac systems you can run the following command for a one-line update! This command will show you a log summary of all commits since you last updated, press `q` to acknowledge this. Then, it will show you each change in turn and press `y` to accept the patch or `n` to reject it. Usually you should press `y` for most of these unless it conflicts with existing changes you've made! \n\n```shell\nmake update\n```\n\nOr, if you don't want the interactive parts and just want to force update your local garden (this assumed that you are okay with some of your personalizations been overriden!)\n\n```shell\nmake update-force\n```\n\nOr, manually checkout the changes yourself.\n\n\u003e [!warning] Warning!\n\u003e\n\u003e If you customized the files in `data/`, or anything inside `layouts/`, your customization may be overwritten!\n\u003e Make sure you have a copy of these changes if you don't want to lose them.\n\n\n```shell\n# add Quartz as a remote host\ngit remote add upstream git@github.com:jackyzha0/quartz.git\n\n# index and fetch changes\ngit fetch upstream\ngit checkout -p upstream/hugo -- layouts .github Makefile assets/js assets/styles/base.scss assets/styles/darkmode.scss config.toml data \n```\n","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/other/Blockchain":{"title":"ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³","content":"\nãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’gitç®¡ç†ã™ã‚‹ã€‚\n`H( H(transaction | prev_hash | created_at) | nonce) = 0000,,,`\nç–‘å• ã‚ã‚‹éƒ¨åˆ†ã‹ã‚‰å…ˆé ­ã¾ã§æ•´åˆã™ã‚‹ã‚ˆã†ã«æ”¹å¤‰ã™ã‚Œã°æ”¹ã–ã‚“ã§ããã†ã˜ã‚ƒãªã„ï¼Ÿ\n\nå¤šãã®äººãŒä½•ã‹ä¾¡å€¤ãŒã‚ã‚‹ã¨æ€ã£ã¦ã„ã‚‹ã‹ã‚‰ä¾¡å€¤ãŒã‚ã‚‹ã€‚\n\nã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆ\n\nEthereum\n\n- [Beanstalkã®exploitã«æ„Ÿå‹•ã—ãŸã®ã§åŠå¹´ã¶ã‚Šã«ãƒ–ãƒ­ã‚°æ›¸ã - DeFiã§è½ã¡ã¦ã‚‹ãŠé‡‘ã‚’æ‹¾ã„ãŸã„ãƒ–ãƒ­ã‚° (vividot-de.fi)](https://vividot-de.fi/entry/beanstalk-exploit)","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/other/Circuit/Analog/Analog":{"title":"ã‚¢ãƒŠãƒ­ã‚°å›è·¯","content":"","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/other/Circuit/Analog/Chopper":{"title":"ãƒãƒ§ãƒƒãƒ‘å›è·¯","content":"","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/other/Circuit/Analog/MultiVibrator":{"title":"ãƒãƒ«ãƒãƒã‚¤ãƒ–ãƒ¬ãƒ¼ã‚¿å›è·¯","content":"","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/other/Circuit/Analog/PowerElectronics":{"title":"ãƒ‘ãƒ¯ãƒ¼ãƒ»ã‚¨ãƒ¬ã‚¯ãƒˆãƒ­ãƒ‹ã‚¯ã‚¹","content":"\né›»æº\nLCRãƒ¡ãƒ¼ã‚¿ãƒ¼\n\nè‡ªä½œVVVFã‚¤ãƒ³ãƒãƒ¼ã‚¿ãƒ¼\nãƒãƒ§ãƒƒãƒ‘æ˜‡åœ§å›è·¯","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/other/Circuit/Analog/SensorActuator":{"title":"ã‚»ãƒ³ã‚µãƒ¼ãƒ»ã‚¢ã‚¯ãƒãƒ¥ã‚¨ãƒ¼ã‚¿","content":"\næ°—åœ§ã‚»ãƒ³ã‚µãƒ¼\næ°´åœ§ã‚»ãƒ³ã‚µãƒ¼\n\n## ãƒ¢ãƒ¼ã‚¿ãƒ¼ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼\nHãƒ–ãƒªãƒƒã‚¸ã‚’ç”¨ã„ã¦é›»æ°—ã‚’æµã—æ­£è»¢ã€é€†è»¢ã™ã‚‹ã®ã¨é€†èµ·é›»åŠ›ã«ã‚ˆã‚‹ãƒ–ãƒ¬ãƒ¼ã‚­ã‚’æ“ä½œã—ã¦ã„ã‚‹ã€‚\nMOSFET ã‚’4ã¤","lastmodified":"2022-12-30T07:57:21.475263787Z","tags":null},"/other/Circuit/Circuit":{"title":"å›è·¯","content":"\nå›è·¯å…¨ç„¶ã‚ã‹ã‚‰ã‚“ã‹ã‚‰å®Œå…¨ã«ç†è§£ã™ã‚‹ã¾ã§ã®è»Œè·¡ã‚’æ›¸ã.\né«˜æ ¡ã«é¡ã‚‹ã¨ç§ã¯ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚¯ãƒ©ãƒ–ã«æ‰€å±ã—ã¦ã„ã¦, å…ˆè¼©ã«èª˜ã‚ã‚Œ, æ°´ä¸­ãƒ­ãƒœã‚³ãƒ³ã«ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æ‹…å½“ã¨ã—ã¦å‚åŠ ã—ãŸ. ã—ã‹ã—ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®æ–¹ãŒå¥½ãã§1ãƒŸãƒªã‚‚å›è·¯ãªã‚“ã‹çŸ¥ã‚‰ãšã«ã‚„ã£ã¦ãŸã®ã§ä½•ã‚‚ã‚ã‹ã‚‰ãš, å„ªå‹ã—ã¦çµ‚ã‚ã£ãŸ. é«˜å­¦å¹´ã«ãªã£ã¦ãã‚‹ã¨ä½ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒå¥½ãã«ãªã£ã¦ã„ã. æ¬¡ç¬¬ã«å›è·¯ã«ã‚‚èˆˆå‘³ãŒå‡ºã‚‹ã‚ˆã†ã«ãªã£ãŸãŒå½“æ™‚æ‰‹ã«å…¥ã‚‹æ–‡çŒ®ã¯ç°¡å˜ãªã‚‚ã®ã—ã‹ãªã Arduino ã‚„ãƒ©ã‚ºãƒ‘ã‚¤ã§ã¡ã‚‡ã£ã¨è§¦ã‚‹ãã‚‰ã„ã§åŸºæ¿ãªã©ã«ã¯æ‰‹ãŒå±Šã‹ãªã‹ã£ãŸ. ãã—ã¦å—é¨“ã‚’çµŒã¦å¤§å­¦ã«å…¥ã‚Š, æ±å·¥å¤§ã®ãƒ­æŠ€ç ”ã¨ã„ã†ãƒ­ãƒœãƒƒãƒˆã‚’è£½ä½œã™ã‚‹ã‚µãƒ¼ã‚¯ãƒ«ã«å…¥ã£ãŸ. ãã“ã§ã¯å¿µé¡˜ã®å›è·¯è¨­è¨ˆç­ã«å¿—æœ›ã—å…¥ã‚ŒãŸ. ã—ã‹ã—, è‡ªåˆ†ã®å°‚é–€ãŒç‰©ç†å­¦ç³»ã§å®Œå…¨ã«ã‚¢ã‚¦ã‚§ã‚¤ãªç’°å¢ƒã§å›è·¯ãŒã‚ˆãã‚ã‹ã‚‰ãšã¿ã‚“ãªã«å…ˆè¶Šã•ã‚Œ, ã©ã†å­¦ã¹ã°ã„ã„ã®ã‹ã‚ã‹ã‚‰ãšå¹½éœŠã«ãªã£ã¦ãŸ.\n1å¹´å¾Œ, å‹äººãŒè‡ªä½œ LSI ã‚’ã—ã¦ã„ã¦è‡ªåˆ†ã‚‚ä½œã‚ŠãŸããªã£ãŸã‚Š, è‡ªåˆ†ãŒä¸»å‚¬ã—ã¦ã„ã‚‹ã‚»ãƒŸãƒŠãƒ¼ã®è¬›å¸«ãŒå›è·¯ã«è©³ã—ã„ã¨ã„ã†ã“ã¨ã§å†ã³ãƒ‡ã‚¸ã‚¿ãƒ«å›è·¯ã«èˆˆå‘³ã‚’æŒã¡, ãã®ä¸€ç’°ã¨ã—ã¦ãƒ­æŠ€ç ”ã§ã®æ´»å‹•ã‚’å†é–‹ã™ã‚‹ã“ã¨ã«ã—ãŸ. \n\nç†è§£ã—ãŸã„ä¸€å¿ƒã§ã‚„ã‚‹.\n\n## 1æ—¥ç›® å‰æçŸ¥è­˜\n\nã¾ãšé«˜æ ¡ã§ç¿’ã£ãŸå›è·¯ã‚’æ€ã„å‡ºã—ã¦ã¿ã‚‹.\n\n- å›è·¯ã¨ã¯é›»æ°—ãŒé›»æºã®+ã‹ã‚‰å‹•ã‹ã—ãŸã„é›»å­éƒ¨å“ã‚„å°ç·šã‚’é€šã£ã¦-ã«æˆ»ã£ã¦ãã‚‹1å‘¨ã®è¼ª.\n- é›»æµã¯é›»è·ã®æµã‚Œ. é›»æºãŒé›»ä½ã‚’ä¸Šã’, é›»æµã‚’æµã—, é›»å­éƒ¨å“ãŒé›»ä½ã‚’ä¸‹ã’ã‚‹.\n- ä»»æ„ã®ãƒ«ãƒ¼ãƒ—ã«ã¤ã„ã¦, é›»ä½å¤‰åŒ–ã¯0ã¨ãªã‚‹.\n- ä»»æ„ã®ç¯€ç‚¹ã«ã¤ã„ã¦, é›»æµã¯ä¿å­˜ã™ã‚‹.\n- ä»»æ„ã®åŒºé–“ã«ã¤ã„ã¦, é›»åœ§, é›»æµ, æŠµæŠ—ã«ã¯ã‚ªãƒ¼ãƒ ã®æ³•å‰‡ $V=IR$ ãŒæˆã‚Šç«‹ã¤.\n- ä½¿ã†ã‚¨ãƒãƒ«ã‚®ãƒ¼ã¯é›»åŠ› $P = VI$ ã§åˆ†ã‹ã‚‹. é›»åŠ›ãŒå¤§ãã™ãã‚‹ã¨ç™ºç†±ã—, å£Šã‚Œã‚‹å±é™ºãŒã‚ã‚‹.\n- ã‚³ãƒ³ãƒ‡ãƒ³ã‚µã«é›»åœ§ã‚’æ›ã‘ã‚‹ã¨é›»è· $Q = CV$ ãŒé›†ã¾ã‚‹.\n\nã“ã‚“ãªæ„Ÿã˜ã‹ãª. ã‚ã¨ã¯äº¤æµå›è·¯ã‚‚ã‚„ã£ãŸã‘ã©çŸ¥è­˜ã¨ã—ã¦å°‘ãªã„ã‹ã‚‰å¾Œã§ã¾ã¨ã‚ã‚‹.\n\n## 2æ—¥ç›® äº¤æµå›è·¯ã®åŸºç¤\n\nå¤§å­¦ã§å›è·¯ã®æˆæ¥­ã‚’å–ã£ãŸã®ã§ãã‚Œã‚’å¾©ç¿’ã™ã‚‹.\n\näº¤æµå›è·¯ã¯é›»åœ§ãŒæ³¢ã®å½¢ã‚’ã—ã¦ã„ã‚‹. ä½ç›¸ã¯ä¸‰è§’é–¢æ•°ã‚ˆã‚Šè¤‡ç´ æ•°ã®æ–¹ãŒæ‰±ã„ã‚„ã™ã„ã®ã§ãã‚Œã‚’ä½¿ã†. ã¡ãªã¿ã«ãã®è™šéƒ¨ã¯å®Ÿéš›ã«è¦³æ¸¬ã•ã‚Œãªã„. ãã®ã¾ã¾ã ã¨é›»æµã¨è™šæ•°å˜ä½ã®è¨˜å·ãŒè¢«ã•ã‚‹ã‹ã‚‰é›»æµ $i$ ã¯è™šæ•°å˜ä½ $j$ ã¨æ›¸ã.\n- å®Ÿæ•°è¡¨ç¤ºã ã¨ $v = V_m\\sin(\\omega t + \\phi)$\n- è¤‡ç´ è¡¨ç¤ºã ã¨ $v=V_me^{j(\\omega t + \\phi)}$\n\n| é›»å­éƒ¨å“       | é–¢ä¿‚å¼                                 | ç›´æµå›è·¯ | äº¤æµå›è·¯                   |\n| -------------- | -------------------------------------- | -------- | -------------------------- |\n| æŠµæŠ— $R$       | $v = Ri$                               | $v = Ri$ | $v = Ri$                   |\n| ã‚³ã‚¤ãƒ« $L$     | $v = L\\frac{\\mathrm{d}i}{\\mathrm{d}t}$ | $v=0$    | $v = j\\omega Li$           |\n| ã‚³ãƒ³ãƒ‡ãƒ³ã‚µ $C$ | $i = C\\frac{\\mathrm{d}v}{\\mathrm{d}t}$ | $i=0$    | $v = \\frac{1}{j\\omega C}i$ |\n\n|                    | é–¢ä¿‚å¼       | å®Ÿéƒ¨               | è™šéƒ¨             |\n| ------------------ | ------------ | ------------------ | ---------------- |\n| ã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹ $Z=V/I$ | $Z = R + jX$ | æŠµæŠ— $R$           | ãƒªã‚¢ã‚¯ã‚¿ãƒ³ã‚¹ $X$ |\n| ã‚¢ãƒ‰ãƒŸã‚¿ãƒ³ã‚¹ $Y=I/V$   | $Y = G + jB$ | ã‚³ãƒ³ãƒ€ã‚¯ã‚¿ãƒ³ã‚¹ $G$ | ã‚µã‚»ãƒ—ã‚¿ãƒ³ã‚¹ $B$ |\n\nã¨æ›¸ã„ãŸã‘ã©å¤šåˆ†ä½¿ã†ã®ã¯ã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹ãã‚‰ã„ã ã¨æ€ã†. ã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹ã¨è¨€ãˆã°äº¤æµå›è·¯ã®æŠµæŠ—ã¨æ€ãˆã°è‰¯ã•ãã†.\n\n### RLC å›è·¯\nRLCå›è·¯ã¨ã¯æŠµæŠ— $R$ ã‚³ã‚¤ãƒ« $L$ ã‚³ãƒ³ãƒ‡ãƒ³ã‚µ $C$ ã‚’ç›´åˆ—ã‚„ä¸¦åˆ—ã«è‰²ã€…ç¹‹ã„ã ã¨ãå…±æŒ¯ã¨ã„ã†è‰¯ã„æ€§è³ªãŒå‡ºã¦ãã‚‹å›è·¯.\nä¾‹ãˆã°æœ€ã‚‚ç°¡å˜ãªä¾‹ã¨ã—ã¦ãã‚Œã‚‰ã‚’ç›´åˆ—ã«ç¹‹ã„ã ã¨ã, ãã®ã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹ã‚’è¨ˆç®—ã™ã‚‹ã¨\n\n$$\n\\begin{aligned}\nZ \u0026= R + j\\left(\\omega L - \\frac{1}{\\omega C}\\right) \\\\\n|Z| \u0026= \\sqrt{R^2 + \\left(\\omega L - \\frac{1}{\\omega C}\\right)^2}\n\\end{aligned}\n$$\n\nã“ã®å¼ã‚’è¦‹ã‚‹ã¨, ã‚ã‚‹å‘¨æ³¢æ•° $\\omega = 1/\\sqrt{LC}$ ã§å…±æŒ¯ã¨ã„ã£ã¦é›»æµãŒæœ€å¤§ã¨ãªã‚‹. ãã®ä»–ã®å‘¨æ³¢æ•°ã§ã¯å°‘ãªã„. è¨€è‘‰ã§ã¯èª¬æ˜ã§ããªã„ã‚„, å¾Œã§ã‚°ãƒ©ãƒ•ã‚’ç½®ã„ã¨ã“.\n\n| å›ºå®š                                 | å¯å¤‰                          |\n| ------------------------------------ | ----------------------------- |\n| æŠµæŠ—                                 | ãƒœãƒªãƒ¥ãƒ¼ãƒ æŠµæŠ—                |\n| ã‚³ã‚¤ãƒ«                               | å¤‰æˆå™¨ (ãƒˆãƒ©ãƒ³ã‚¹)             |\n| é›»è§£ã‚³ãƒ³ãƒ‡ãƒ³ã‚µ, ã‚»ãƒ©ãƒŸãƒƒã‚¯ã‚³ãƒ³ãƒ‡ãƒ³ã‚µ | ãƒãƒªã‚³ãƒ³ (å¯å¤‰å®¹é‡ã‚³ãƒ³ãƒ‡ãƒ³ã‚µ) |\n\nã“ã®å›è·¯ã¯ãƒ©ã‚¸ã‚ªã«ä½¿ã‚ã‚Œã¦ã„ã‚‹.\n\n### ã‚¤ãƒ³ãƒ€ã‚¯ã‚¿ãƒ³ã‚¹\n\n### å›è·¯æ–¹ç¨‹å¼\né‡ã­åˆã‚ã›ã®ç† // TODO å›³\n- è¤‡æ•°ã®é›»æºã‚’ã‚‚ã¤å›è·¯ã«ãŠã„ã¦, ãã‚Œãã‚Œç‹¬ç«‹ãªé›»æºã¨ã—ã¦è¨ˆç®—ã—ãŸé›»æµ, é›»åœ§ã‚’é‡ã­åˆã‚ã›ãŸã‚‚ã®ã¨ç­‰ã—ã„.\n- é›»åœ§æº: é›»åœ§ = 0 $\\implies$ çŸ­çµ¡\n- é›»æµæº: é›»æµ = 0 $\\implies$ è§£æ”¾\n\n**Thm. ç›¸åå®šç†**\n$$\n\\begin{pmatrix}\nV_1 \u0026 V_2 \u0026 \\cdots \u0026 V_n\n\\end{pmatrix}\n\\begin{pmatrix}\nI_1 \\\\ I_2 \\\\ \\vdots \\\\ I_n\n\\end{pmatrix}\n=\n\\begin{pmatrix}\nV_1' \u0026 V_2' \u0026 \\cdots \u0026 V_n'\n\\end{pmatrix}\n\\begin{pmatrix}\nI_1' \\\\ I_2' \\\\ \\vdots \\\\ I_n'\n\\end{pmatrix}\n$$\n**Proof.**\n**Thm. è£œå„Ÿå®šç†**\n**Thm. é³³ãƒ»ãƒ†ãƒ–ãƒŠãƒ³ã®å®šç†**\n**Thm. Nortonã®å®šç†**\n**Thm. æœ€å¤§é›»åŠ›ä¼é€å®šç†**\n\nä¸‰ç›¸äº¤æµ\n\nãªã‚‹ã»ã©ï½å¤§ä½“ç†è§£ã—ãŸ.\n\n### é›»å­å›è·¯å·¥ä½œ\n\nã¨ã‚Šã¾è‰¯ã„è³‡æ–™ã¨è¨€ã‚ã‚ŒãŸã®ã§ã“ã‚Œã‚’å…¨éƒ¨èª­ã‚€.\n- [å›è·¯è¬›ç¿’ä¼š2017ã®è³‡æ–™ | Molina's Web Site](https://molina.jp/blog/%E5%9B%9E%E8%B7%AF%E8%AC%9B%E7%BF%92%E4%BC%9A%E3%81%AE%E8%B3%87%E6%96%99/)\n\t- ãƒ€ãƒ³ãƒã§åˆ†ã‹ã‚Šã‚„ã™ãã¦é¢ç™½ã‹ã£ãŸ.\n\nã‚„ã‚‹ã“ã¨\n1. KiCad ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹.\n2. æ–°ã—ã„ project ã‚’ä½œã‚‹.\n3. ã‚¹ã‚±ãƒƒãƒã‚’æ›¸ã.\n\t- ãƒ‡ãƒ¼ã‚¿ã‚·ãƒ¼ãƒˆã‚’èª­ã‚€\n\t- A: é›»å­éƒ¨å“ã®è¿½åŠ \n\t- W: Wire\n\t- M: Move\n\t- G: é…ç·šã‚‚ä¸€ç·’ã«å‹•ã‹ã™\n\t- E: Edit\n\t- V: Value\n4. PCB ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›¸ã.\n\n### å›è·¯\n\n- LED + æŠµæŠ—\n- ãƒ¢ãƒ¼ã‚¿ãƒ¼ + FET\n\nãƒã‚¤ã‚ºå¯¾ç­–ã¾ã¨ã‚\n- å…¥åŠ›ç«¯å­ã«ä½•ã‚‚ç¹‹ãŒãªã„ã¨å£Šã‚Œã‚‹\n- ICã®é›»æºã«ã¯å¿…ãšãƒ‘ã‚¹ã‚³ãƒ³(ãƒã‚¤ãƒ‘ã‚¹ã‚³ãƒ³ãƒ‡ãƒ³ã‚µ)ã‚’ä»˜ã‘ã‚‹.\n\t- 0.1uFã®ã‚»ãƒ©ãƒŸãƒƒã‚¯ã‚³ãƒ³ãƒ‡ãƒ³ã‚µ\n\t- é›»åŠ›è£œåŠ©\n- ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒçŸ­ãã€å‘¨æ³¢æ•°ãŒé«˜ã„(1MHz)ã¨ãã‚Œè‡ªä½“ãŒã‚³ãƒ³ãƒ‡ãƒ³ã‚µåŒ–ã™ã‚‹\n- å›è·¯ä»¥å¤–ã®éƒ¨åˆ†ã‚’ã‚°ãƒ©ãƒ³ãƒ‰åŒ–ã™ã‚‹ã“ã¨ã§é™é›»ã‚·ãƒ¼ãƒ«ãƒ‰ã¨ãªã‚‹\n- ã‚°ãƒ©ãƒ³ãƒ‰ã¯å¤ªãçŸ­ã\næŠ˜ã‚Šè¿”ã—(åå°„)\n- çµ‚ç«¯æŠµæŠ—\n\næ°´æ™¶æŒ¯å‹•å­\nã“ã‚‹ãƒ”ãƒƒãƒ„ç™ºæŒ¯å›è·¯\n\n### ãƒ¡ã‚«\nã‚®ã‚¢\n- ãã®ã¾ã¾ã ã¨å›è»¢æ•° é«˜ ãƒˆãƒ«ã‚¯å°ãªã®ã§\n- ã‚®ã‚¢ã‚’å™›ã¾ã›ã¦æ¸›é€Ÿ ãƒˆãƒ«ã‚¯å¤§ã—ã¦ä½¿ã†ã®ãŒä¸€èˆ¬çš„\n\nPWMåˆ¶å¾¡ (Pulse Width Modulation)\n- å‘¨æ³¢æ•°ã®é«˜ã„ãƒ‘ãƒ«ã‚¹æ³¢ã‚’æ–­ç¶šçš„ã«æµã—ã¦ç›¸å¯¾çš„ã«é›»æµé‡ã‚’æ¸›ã‚‰ã™.\n- Dutyæ¯”: ãƒ‘ãƒ«ã‚¹æ³¢ã®Highã®å‰²åˆ\n\n### ãƒ¢ãƒ¼ã‚¿ãƒ¼\n**ãƒ¢ãƒ¼ã‚¿ãƒ¼ã®ç¨®é¡**\n\nDCãƒ¢ãƒ¼ã‚¿ãƒ¼\n- FA-130RA\n\t- æ¨¡å‹ç”¨ãƒ¢ãƒ¼ã‚¿ãƒ¼\n- ãƒ­ãƒœã‚µã‚¤ãƒˆã‚®ã‚¢ãƒ¢ãƒ¼ã‚¿ãƒ¼RA25\nã‚µãƒ¼ãƒœãƒ¢ãƒ¼ã‚¿ãƒ¼\n- ãƒ¢ãƒ¼ã‚¿ãƒ¼ã¨å‡¦ç†å›è·¯ãŒå…¥ã£ã¦ã„ã¦æŒ‡å®šã—ãŸè§’åº¦ã«ãªã‚‹ã‚ˆã†ã«ã—ã¦ãã‚Œã‚‹\nã‚¹ãƒ†ãƒƒãƒ”ãƒ³ã‚°ãƒ¢ãƒ¼ã‚¿ãƒ¼\n- ãƒ‘ãƒ«ã‚¹æ³¢1ã¤ã«ã¤ã1æ®µéšå›è»¢ã™ã‚‹\n\n**ãƒ¢ãƒ¼ã‚¿ãƒ¼ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼**\n- ä½•ã‚‚ã—ãªã„ã¨1æ–¹å‘ã—ã‹å›ã‚‰ãªã„\n- Hãƒ–ãƒªãƒƒã‚¸å›è·¯ã‚’çµ„ã‚€ã¨, æ­£è»¢, é€†è»¢, ãƒ–ãƒ¬ãƒ¼ã‚­ãŒã§ãã‚‹.\n- ãƒ–ãƒ¬ãƒ¼ã‚­: é€†èµ·é›»åŠ›\n- MOS-FET ã‚’4ã¤\n\n[è¶£å‘³ã®é›»å­å›è·¯å·¥ä½œã€€ç›®æ¬¡ (piclist.com)](http://www.piclist.com/images/www/hobby_elec/menu.htm)\n\n## 3æ—¥ç›®\nçœŸç©ºç®¡\n400Væ›ã‘ã¦é›»å­ãŒé£›ã³å‡ºã¦\nãƒ—ãƒ¬ãƒ¼ãƒˆç¶²ç›®ã§ã‚­ãƒ£ãƒƒãƒ.\n+ã®é›»è·ã‚’ãŸã‚ã‚‹ã¨ãã“ã«å¼•ãã¤ã\né«˜å‘¨æ³¢ã ã¨æ•£ä¹±ã—ãŒã¡ãªã®ã§ãƒ­ãƒ¼ãƒ‘ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ã«ãªã‚ŠãŒã¡\n100mAãŒé™ç•Œ\n10W 100mA * 100\n\nå‘¨æ³¢æ•°ç‰¹æ€§ã‹ã‚‰æŠœã‘å‡ºã™\n\nã‚³ãƒ³ãƒ‡ãƒ³ã‚µã‚’å–ã‚Šæ‰•ã† -\u003e ã‚ªãƒšã‚¢ãƒ³ãƒ—\näº¤æµ 400V, 1000Vã«ã‚ªãƒ•ã‚»ãƒƒãƒˆ200V, 500Vã‚’ä»˜ã‘ã¦ãŸ. é€†æµã‚’é˜²ãç‚ºã«ã‚³ãƒ³ãƒ‡ãƒ³ã‚µã‚’ä½¿ã£ã¦ã„ãŸ.\nåŸºæº–é›»ä½ã‹ã‚‰\nDC ãƒ‡ã‚«ãƒƒãƒ—ãƒªãƒ³ã‚°\n\n2æ¥µç®¡\n\nI2Cã¯é«˜å‘¨æ³¢ã ã‘ã©, ã‚ªãƒ¼ãƒ—ãƒ³ã‚³ãƒ¬ã‚¯ã‚¿å›è·¯ãªã®ã§çµ‚ç«¯æŠµæŠ—ä»˜ã‘ã¦ã¯ã ã‚\nVGAã®ã‚±ãƒ¼ãƒ–ãƒ«ã¯ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤è¡¨ç¤ºã¯I2C\nCMOSã®ã‚ªãƒ¼ãƒ—ãƒ³ã‚³ãƒ¬ã‚¯ã‚¿ã¯ãƒã‚¤ã‚ºã«å¼·ã„\n\nã‚ªãƒ¼ãƒ—ãƒ³ã‚³ãƒ¬ã‚¯ã‚¿ã¯ãƒˆãƒ©ãƒ³ã‚¸ã‚¹ã‚¿ã§NOTå–ã£ã¦æ²¢å±±ORã‚’å–ã£ãŸã‚‚ã®\n\nSPIã¯ã‚ªãƒ¼ãƒ—ãƒ³ã‚³ãƒ¬ã‚¯ã‚¿ã§ã¯ãªã„\nãƒãƒƒãƒ—ã‚»ãƒ¬ã‚¯ãƒˆ\n\n\n## å‚è€ƒ\n- [å›è·¯è¬›ç¿’ä¼š2017ã®è³‡æ–™ | Molina's Web Site](https://molina.jp/blog/%E5%9B%9E%E8%B7%AF%E8%AC%9B%E7%BF%92%E4%BC%9A%E3%81%AE%E8%B3%87%E6%96%99/)\n- [TheÂ ElectronicÂ LivesÂ ManufacturingÂ -Â presented byÂ ChaN (elm-chan.org)](http://elm-chan.org/index_j.html)\n- [My Tube Amp Manual (op316.com)](http://www.op316.com/tubes/tips/tips0.htm)\n","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Circuit/Digital/Communication":{"title":"é€šä¿¡æŠ€è¡“","content":"","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Circuit/Digital/Digital":{"title":"ãƒ‡ã‚¸ã‚¿ãƒ«å›è·¯","content":"","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Circuit/Digital/Keyboard":{"title":"ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰","content":"","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Circuit/Digital/LogicCircuit":{"title":"è«–ç†å›è·¯","content":"\n\nãƒ©ãƒƒãƒ\nãƒ•ãƒªãƒƒãƒ—ãƒ•ãƒ­ãƒƒãƒ—","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Circuit/Digital/Microcomputer":{"title":"ãƒã‚¤ã‚³ãƒ³","content":"\nãƒã‚¤ã‚³ãƒ³ã®ä¸€ç•ªæ¥½ã—ã„æ‰€ã£ã¦ãªã«\n\nä¸»ã«æ¬¡ã‚’ä½¿ã†ã“ã¨ãŒå¤šã„ã§ã™ã€‚\n- ATmega328P (Arduino)\n- RP2040 (Raspberry Pi Pico)\n- STM32 Nucleo (STM32F303K8)\n\né€šä¿¡\n- SPI\n- I2C\n- UART; Universal Asynchronous Receiver/Transmitter\n- JTAG\nã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹\n- USB\n- HDMI\n\nTODO\n- Hardware Abstraction Layer (HAL)\n- ã‚ªãƒšã‚¢ãƒ³ãƒ—\n\t- [æ¥Šå­å¹³ã•ã‚“ã¯Twitterã‚’ä½¿ã£ã¦ã„ã¾ã™: ã€Œã‚ªãƒšã‚¢ãƒ³ãƒ—ã ã‘ã§ã‚¢ãƒŠãƒ­ã‚°ä¹—ç®—å™¨ï¼Ÿãƒã‚¸ã‹ï¼Ÿ https://t.co/VYLzO5XBfbã€ / Twitter](https://twitter.com/hn12v1_jp/status/1591214722430668802)\n- ãƒ¬ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚¿ãƒ¼\n- ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã‚¢ãƒ³ãƒ—\n- avr ãƒã‚¤ã‚³ãƒ³ ãƒ©ã‚¤ã‚¿ãƒ¼\n- LCRãƒ¡ãƒ¼ã‚¿\n- ã‚°ãƒ©ãƒ³ãƒ‰ãƒ™ã‚¿\n- ãƒ—ãƒªãƒ³ãƒˆåŸºæ¿\n- ãƒã‚¤ã‚ºå¯¾ç­–\n- æ”¾ç†±å¯¾ç­–\n- æ¸¬å®šå™¨\n- åˆ†æè£…ç½®","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Circuit/Digital/PC%E5%91%A8%E8%BE%BA%E6%A9%9F%E5%99%A8":{"title":"","content":"## ã‚¹ã‚¯ãƒªãƒ¼ãƒ³\nãƒ–ãƒ©ã‚¦ãƒ³ç®¡\nãƒ‹ã‚­ã‚·ãƒ¼ç®¡\næ¶²æ™¶\n","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Circuit/Element":{"title":"å›è·¯ç´ å­","content":"","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/DeepLearning":{"title":"ãƒ‡ã‚£ãƒ¼ãƒ—ãƒ©ãƒ¼ãƒ‹ãƒ³ã‚°","content":"\n## ãƒ¢ãƒ‡ãƒ«\n- GPT\n- BERT\n\t- [Tiiiger/bert_score: BERT score for text generation (github.com)](https://github.com/Tiiiger/bert_score)\n- Transformer\n\t- [ä½œã£ã¦ç†è§£ã™ã‚‹ Transformer / Attention - Qiita](https://qiita.com/halhorn/items/c91497522be27bde17ce)\n\n## AI ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£\n- ãƒãƒƒã‚¯ãƒ‰ã‚¢\n\t- ç‰¹å®šã®å…¥åŠ›ãƒ‡ãƒ¼ã‚¿(ãƒˆãƒªã‚¬ãƒ¼)ã‚’æ„å›³ã—ãŸã‚¯ãƒ©ã‚¹ã«èª¤åˆ†é¡ã•ã›ã‚‹\n\t- ãƒˆãƒªã‚¬ãƒ¼ä»¥å¤–ã®å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã¯æ­£ã—ãåˆ†é¡ã•ã‚Œã‚‹ã®ã§æ¤œçŸ¥ã¯å›°é›£\n\t- Mitigation\n\t\t- ä¿¡é ¼ã§ããªã„ãƒ‰ãƒ¡ã‚¤ãƒ³ã‹ã‚‰å…¥æ‰‹ã—ãŸäº‹å‰å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ç”¨ã—ãªã„\n\t\t- æ±šæŸ“ã•ã‚Œã¦ã„ãªã„ãƒ‡ãƒ¼ã‚¿ã§å†å­¦ç¿’ã™ã‚‹\n- æ•µå¯¾çš„ã‚µãƒ³ãƒ—ãƒ«\n\t- èª¤åˆ†é¡ã‚’èª˜ç™ºã•ã›ã‚‹\n\t- AIã¨äººé–“ä¸¡æ–¹ã‚’é¨™ã™æ”»æ’ƒ\n\t\t- ex. ã‚¹ãƒ‘ãƒ ãƒ¡ãƒ¼ãƒ«ãƒ•ã‚£ãƒ«ã‚¿ã‚’é¨™ã—ãŸä¸Šã§äººé–“ã‚‚é¨™ã—ã¦ã‚¯ãƒªãƒƒã‚¯ã•ã›ã‚‹\n\t- AIã‚’é¨™ã—äººé–“ã«ã¯ç†è§£ã•ã›ã‚‹æ”»æ’ƒ\n\t\t- ex. èª¹è¬—ä¸­å‚·ã‚³ãƒ¡ãƒ³ãƒˆ (ãƒåŠ›(ã¡ã‹ã‚‰))\n\t- Mitigation\n\t\t- æ•µå¯¾çš„å­¦ç¿’: ã¼ã‹ã—ã‚„ãƒã‚¤ã‚ºãªã©ã‚’åŠ ãˆãŸã‚µãƒ³ãƒ—ãƒ«ã‚’ç”¨ã„ã‚‹\n\t\t- è’¸ç•™: å·¨å¤§ãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ãªã‚‹ã¹ãç²¾åº¦ã‚’è½ã¨ã•ãšã«å°ã•ãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ã™ã‚‹æ‰‹æ³• (Why?)\n\t\t- ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«ãƒ»ãƒ¡ã‚½ãƒƒãƒ‰: è¤‡æ•°ã®AIã‚’çµ„ã¿åˆã‚ã›ã¦å­¦ç¿’ã™ã‚‹ã“ã¨ã§é ‘å¥æ€§ã‚’ä¸Šã’ã‚‹(Why?)\n\t\t- Autoencoderã«ã‚ˆã‚‹æ¤œå‡º: ãƒ‡ãƒ¼ã‚¿ã‚’åœ§ç¸®ã—ã¦å¾©å…ƒã™ã‚‹ãƒ¢ãƒ‡ãƒ«ã‚’ç”¨ã„ã¦æ•µå¯¾çš„ã‚µãƒ³ãƒ—ãƒ«ã‚’æ¤œå‡ºã™ã‚‹ (How?)\n- ãƒ¢ãƒ‡ãƒ«/ãƒ‡ãƒ¼ã‚¿æŠ½å‡ºæ”»æ’ƒ\n\t- ãƒ¡ãƒ³ãƒãƒ¼ã‚·ãƒƒãƒ—æ¨è«– ã‚ã‚‹ç”»åƒãŒå­¦ç¿’ãƒ‡ãƒ¼ã‚¿(ãƒ¡ãƒ³ãƒãƒ¼ã‚·ãƒƒãƒ—)ã«å«ã¾ã‚Œã¦ã„ã‚‹ã‹ã¯éå‰°ã«åå¿œã™ã‚‹ã‹ã—ãªã„ã‹\n\t- Mitigation\n\t\t- ã‚¯ã‚¨ãƒªã‚¢ã‚¯ã‚»ã‚¹ã«å¯¾ã—ã¦ä¿¡é ¼ã‚¹ã‚³ã‚¢ãªã©ã®ä¸å¿…è¦ãªæƒ…å ±ã‚’å¿œç­”ã—ãªã„\n\t\t- éå­¦ç¿’ã‚’æŠ‘åˆ¶ã™ã‚‹\n- ãƒ¢ãƒ‡ãƒ«ã®è„†å¼±æ€§\n\t- TensorFlowã®Lambdaãƒ¬ã‚¤ãƒ¤ãƒ¼ã§ä»»æ„ã‚³ãƒ¼ãƒ‰å®Ÿè¡ŒãŒã§ãã‚‹ã®ã§äº‹å‰å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã«æ‚ªæ„ã‚ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’åŸ‹ã‚è¾¼ã‚ã‚‹ã€‚\n\t- Mitigation\n\t\t- ä¿¡é ¼ã§ããªã„ãƒ‰ãƒ¡ã‚¤ãƒ³ã‹ã‚‰å…¥æ‰‹ã—ãŸäº‹å‰å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ç”¨ã—ãªã„\n\t\t- ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹å†…ã§ã®å®Ÿè¡Œ\n\n[AIãƒ‡ã‚£ãƒ•ã‚§ãƒ³ã‚¹ç ”ç©¶æ‰€ (jpsec.ai)](https://jpsec.ai/)\n\n## è‡ªä½œæ·±å±¤å­¦ç¿’ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯\n","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Network/%E9%9F%B3%E5%A3%B0%E3%82%B3%E3%83%BC%E3%83%87%E3%83%83%E3%82%AF":{"title":"éŸ³å£°ã‚³ãƒ¼ãƒ‡ãƒƒã‚¯","content":"\n","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Network/%E9%AB%98%E5%91%A8%E6%B3%A2-%E7%84%A1%E7%B7%9A-%E9%80%9A%E4%BF%A1":{"title":"ç„¡ç·š","content":"\n","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Network/SDR":{"title":"Software Defined Radio","content":"\nç„¡ç·šæ©Ÿ\n\n![[Pasted image 20220924223810.png]]\n\nGNU Radio\n- USRP B205mini-i\n- HackRF\n\n[GNU Radioã§éŠã¶è¶…é«˜é€Ÿãƒ‡ã‚£ã‚¸ã‚¿ãƒ«ç„¡ç·šã‚¹ã‚¿ãƒ¼ã‚¿ã‚­ãƒƒãƒˆ â€œUSRP B205mini-iâ€ (zep.co.jp)](https://www.zep.co.jp/nbeppu/article/z-usrp-da1/)\n","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Network/network":{"title":"Network","content":"\n# ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯\n\n1990å¹´ 10BASE-T\n\n## Ethernet\nç±³Xerox ã®ãƒ‘ãƒ­ã‚¢ãƒ«ãƒˆç ”ç©¶æ‰€(PARC)ã«æ‰€å±ã—ã¦ã„ãŸãƒ­ãƒãƒ¼ãƒˆãƒ»ãƒ¡ã‚«ãƒˆãƒ¼ãƒ•æ°ã«ã‚ˆã£ã¦ç™ºæ˜ã•ã‚ŒãŸã€‚\nåˆæœŸå®Ÿé¨“ã¯3Mbps ç¾åœ¨ã¯æœ€å¤§400Gbpsã®è¦æ ¼ãŒã‚ã‚‹\nãƒ•ãƒ¬ãƒ¼ãƒ æ§‹é€ ã®è¦æ ¼ IEEE 802.3\n\n## TCP/IP\n### TCP BBR\nTCP ã‚’é«˜é€ŸåŒ–\n[Googleã®TCP BBRã§TCPã‚’é«˜é€ŸåŒ–ã—Proxyã‚‚ãã®æ©æµã«ã‚ãšã‹ã‚‹ - Qiita](https://qiita.com/fallout/items/92b2099ab5e16cfeb1f9)\n\n### QUIC\n[shigeki/ask_nishida_about_quic_jp: QUICãƒˆãƒ©ãƒ³ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½ã«é–¢ã—ã¦ tcpm/mptcp wg chair ã®è¥¿ç”°å…ˆç”Ÿã«ã„ã‚ã„ã‚èã„ã¦ã¿ã‚‹ä¼š (github.com)](https://github.com/shigeki/ask_nishida_about_quic_jp)\n[aws/s2n-quic: An implementation of the IETF QUIC protocol (github.com)](https://github.com/aws/s2n-quic)\n\n## Network Interface Card: NIC\n\n## Data Plane Development Kit: DPDK\nãƒ¦ãƒ¼ã‚¶ãƒ¼ç©ºé–“ã§ NIC ã‚’æ“ä½œã™ã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€‚\nã‚«ãƒ¼ãƒãƒ«ã§ã®å‡¦ç†ãŒã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ã€‚å…·ä½“çš„ã«ã¯ NIC ã¸ãƒ‡ãƒ¼ã‚¿ãŒåˆ°é”ã—ãŸã¨ãã®å‰²ã‚Šè¾¼ã¿ãªã©\nPull Mode Driver: PMD ã¨å‘¼ã°ã‚Œã‚‹ãƒãƒ¼ãƒªãƒ³ã‚°ãƒ™ãƒ¼ã‚¹ã®å—ä¿¡æ©Ÿæ§‹\nãŸã ã—ã‚«ãƒ¼ãƒãƒ«ã‚’é€šã•ãªã„ç‚ºã€ãƒ‘ã‚±ãƒƒãƒˆã‚­ãƒ£ãƒ—ãƒãƒ£ãƒ¼ãŒä¸å¯èƒ½\nDPDK Nginx ã¯ Nginx ã«æ¯”ã¹ç´„3å€é«˜é€Ÿ[2]\n\n1. [Linux Kernel vs DPDK: HTTP Performance Showdown | talawah.io](https://talawah.io/blog/linux-kernel-vs-dpdk-http-performance-showdown/)\n2. [DPDK-NGINX vs NGINX: Tech Overview and Performance Testing - PLVision](https://plvision.eu/rd-lab/blog/sdn/dpdk-nginx-vs-nginx-tech-overview-and-performance-testing)\n3. [Note, Accelerated Network Application | by dsugisawa | mixi developers](https://mixi-developers.mixi.co.jp/note-accelerated-network-application-2187939f05dd)\n\n## kTLS\nã‚«ãƒ¼ãƒãƒ«ã«TLS (Transport Layer Security)ã‚’å®Ÿè£…ã—, ã‚«ãƒ¼ãƒãƒ«ç©ºé–“ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ç©ºé–“ã®ã‚³ãƒ”ãƒ¼ã®å¿…è¦æ€§ã‚’å¤§å¹…ã«æ¸›ã‚‰ã—, ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Šã•ã›ã‚‹ã€‚\n\nVPoE\n\nRougue Access Point\n\n## è¼»è¼³åˆ¶å¾¡ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \n\nsessionã¯ã©ã†ã„ã†ä»•çµ„ã¿ãªã®ã‹\n","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/OS/ACPI":{"title":"","content":"","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/OS/BIOS":{"title":"BIOS","content":"\nã‚»ã‚­ãƒ¥ã‚¢ãƒ–ãƒ¼ãƒˆ\nãƒ•ã‚¡ãƒ¼ãƒ ã‚¦ã‚§ã‚¢ã‚„ãƒ–ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰ã€OSã‚«ãƒ¼ãƒãƒ«ã€ãƒ‡ãƒã‚¤ã‚¹ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ãªã©ãŒæ”¹ã–ã‚“ã•ã‚Œã¦ã„ãªã„ã‹ã©ã†ã‹ã‚’ãƒ–ãƒ¼ãƒˆã®å„ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã«æ²¿ã£ã¦é †ã«ç½²åãŒæ¤œè¨¼ã•ã‚Œã€æ¤œè¨¼ã‚’ãƒ‘ã‚¹ã—ãŸã‚‚ã®ã ã‘ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã€‚\n","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/OS/FileSystem":{"title":"","content":"","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/OS/NIC":{"title":"NIC (Network Interface Card)","content":"\nãƒã‚¶ãƒœã«å·®ã—ã¦å‹•ãã‚‚ã®: PCI ãƒ‡ãƒã‚¤ã‚¹\nUSBã«å·®ã—ã¦å‹•ãã‚‚ã®: USB ãƒ‡ãƒã‚¤ã‚¹","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/OS/OS":{"title":"OS","content":"\n## ã‚«ãƒ¼ãƒãƒ«ã®ç¨®é¡\n\n- Unikernel\n\t- [Unikernelã«ã¤ã„ã¦ã®ç¾çŠ¶èª¿æŸ» - Fixstars Tech Blog /proc/cpuinfo](https://proc-cpuinfo.fixstars.com/2020/03/unikernel/)\n\t- [microsoft/monza: Research unikernel for virtualized services (github.com)](https://github.com/microsoft/monza)\n- Microkernel\n\t- seL4 Microkernel (Secure Embedded L4)\n\t\t- [ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹RTOSã€ŒseL4ã€ã®ç´†ä½™æ›²æŠ˜ã‹ã‚‰ãƒã‚¤ã‚¯ãƒ­ã‚«ãƒ¼ãƒãƒ«ã®é€²åŒ–ã‚’ä¿¯ç°ã™ã‚‹ï¼šãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ OSåˆ—ä¼ï¼ˆ19ï¼‰ï¼ˆ1/3 ãƒšãƒ¼ã‚¸ï¼‰ - MONOist (itmedia.co.jp)](https://monoist.itmedia.co.jp/mn/articles/2201/31/news053.html)\n\n## ã‚·ã‚¹ãƒ†ãƒ ã‚³ãƒ¼ãƒ«\n\n- BIOS; Basic Input/Output System\n\t- ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã®åˆæœŸåŒ–\n\t- OS ã‚„ bootloader ã¸ã®ã‚µãƒ¼ãƒ“ã‚¹ã®æä¾›\n\t- ã‚»ã‚­ãƒ¥ã‚¢ãƒ–ãƒ¼ãƒˆ\n\t\t- ãƒ–ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰ã‚’æ”¹ã–ã‚“ã—ã¦ã‚·ã‚¹ãƒ†ãƒ ã‚’ä¹—ã£å–ã‚‹ã‚ˆã†ãªã‚¿ã‚¤ãƒ—ã®ã‚¦ã‚¤ãƒ«ã‚¹ãªã©ã®æ´»å‹•ã‚’é˜²ããŸã‚ã®ã‚‚ã®\n\t\t- BIOSãŒãƒ‡ã‚¸ã‚¿ãƒ«ç½²åã‚’ç”Ÿæˆã—, ä¿¡é ¼æ¸ˆã¿è¨¼æ˜æ›¸ã¨æ¤œè¨¼ã™ã‚‹.\n\t\t- TPM\n- UEFI; Unified Extensible Firmware Interface\n- PXE(Preboot eXecution Environment) Boot\n\n## å‰²ã‚Šè¾¼ã¿ã®ä»•çµ„ã¿ã‚’çŸ¥ã‚ŠãŸã„\n\n\n## io_uring\n\nmem_info\n\n## ãƒ­ãƒƒã‚¯\n- `std::sync::RwLock::{write(), try_read()}`Â ã‚’ä½µç”¨ã—ãŸå ´åˆã«ã¯ã€Œæ›¸ãè¾¼ã¿ãƒ­ãƒƒã‚¯ã‚’æœ€å„ªå…ˆã€ã¨ã„ã†æŒ™å‹•ã¯å¿…ãšã—ã‚‚æœŸå¾…ã§ããªã„ (Linuxã§ã¯NG)\n- Pthread ã®è¦ç´„ãŒæŒ™å‹•ã«è‡ªç”±åº¦ã‚’ã‚‚ãŸã›ã¦ãŠã‚Šã€Linuxã«ãŠã‘ã‚‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå®Ÿè£…ã§ã¯Â **writer starvation**Â ãŒç™ºç”Ÿã™ã‚‹\n- Rustã«ãŠã„ã¦ writer starvation ã‚’å›é¿ã—ã¤ã¤ readers-writer lock ã‚’ä½¿ã†ã«ã¯Â [`parking_lot::RwLock`](https://docs.rs/parking_lot/latest/parking_lot/type.RwLock.html)Â ã‚’ä½¿ã†ã¨è‰¯ã„\n\n\n## eBPF\n- [verifier.c - kernel/bpf/verifier.c - Linux source code (v5.18.14) - Bootlin](https://elixir.bootlin.com/linux/v5.18.14/source/kernel/bpf/verifier.c#L10186)\n\n\n## è‡ªä½œOS\n\n## å‚è€ƒ\n[Linux source code (v5.17.9) - Bootlin](https://elixir.bootlin.com/linux/v5.17.9/source)\n[The Linux Kernel documentation â€” The Linux Kernel documentation](https://docs.kernel.org/)","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/OS/Scheduler":{"title":"ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©","content":"\n## ã‚¿ã‚¹ã‚¯\nã‚¸ãƒ§ãƒ–ã€ãƒ—ãƒ­ã‚»ã‚¹ã€ã‚¹ãƒ¬ãƒƒãƒ‰\n\n## ãƒ—ãƒ­ã‚»ã‚¹ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©\nã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã™ã‚‹å˜ä½ã¯ã‚¿ã‚¹ã‚¯ã€‚ã‚¿ã‚¹ã‚¯ã¯ãƒ—ãƒ­ã‚»ã‚¹ã‚„ã‚¹ãƒ¬ãƒƒãƒ‰ã«ã‚ˆã£ã¦ä½œæ¥­ã—ã¦ã„ã‚‹ä»•äº‹ã®ã“ã¨ã€‚\n\n### åˆæœŸã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ© (~v2.4)\nå®Ÿè¡Œå¯èƒ½ã‚¿ã‚¹ã‚¯ã¯ä¸€èˆ¬ã«ãƒ©ãƒ³ã‚­ãƒ¥ãƒ¼ã¨å‘¼ã°ã‚Œã‚‹ã‚­ãƒ¥ãƒ¼ã«ç¹‹ãŒã‚Œã¦ã„ã¾ã™ã€‚\n$O(n)$\n\n1. ãƒ©ãƒ³ã‚­ãƒ¥ãƒ¼ã‹ã‚‰é †æ–¹å‘ã«å…¨èµ°æŸ»ã—ã¦ã‚¿ã‚¤ãƒ ã‚¹ãƒ©ã‚¤ã‚¹ãŒæœ€å¤§ã®ã‚¿ã‚¹ã‚¯ã«ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¹ã‚¤ãƒƒãƒã€‚\n2. ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒ«ã‚¿ã‚¤ãƒãƒ¼ãŒå‰²ã‚Šè¾¼ã¿ã€ã‚¿ã‚¤ãƒ ã‚¹ãƒ©ã‚¤ã‚¹ã‚’æ¸›ã‚‰ã™ã€‚\n3. ã‚¿ã‚¤ãƒ ã‚¹ãƒ©ã‚¤ã‚¹ã‚’ä½¿ã„æœãŸã™ã¨ãƒ©ãƒ³ã‚­ãƒ¥ãƒ¼æœ«å°¾ã«æŒ¿å…¥ã€‚\n4. 1~3ã‚’ã™ã¹ã¦ã®å®Ÿè¡Œå¯èƒ½ã‚¿ã‚¹ã‚¯ã®ã‚¿ã‚¤ãƒ ã‚¹ãƒ©ã‚¤ã‚¹ãŒ0ã«ãªã‚‹ã¾ã§ç¹°ã‚Šè¿”ã—ã€ã™ã¹ã¦ä½¿ã„æœãŸã—ãŸã‚‰ã‚¿ã‚¤ãƒ ã‚¹ãƒ©ã‚¤ã‚¹ã‚’åˆæœŸåŒ–ã€‚ã“ã®ã¨ãã€ã‚¹ãƒªãƒ¼ãƒ—çŠ¶æ…‹ã®ã‚¿ã‚¹ã‚¯ã«ã¯å°‘ã—ã‚¿ã‚¤ãƒ ã‚¹ãƒ©ã‚¤ã‚¹ã‚’è¿½åŠ ã€‚\n\nnice å€¤ãŒå°ã•ã„ã»ã©ã‚¿ã‚¤ãƒ ã‚¹ãƒ©ã‚¤ã‚¹ãŒè²°ãˆã‚‹ã€‚æœ‰åŠ¹ç¯„å›²ã¯ -19 ~ 20 ã§ root ã§ãªã„ã¨ãƒã‚¤ãƒŠã‚¹å€¤ã‚’è¨­å®šã§ããªã„ã€‚ `nice()` ã‚·ã‚¹ãƒ†ãƒ ã‚³ãƒ¼ãƒ«ã«ã‚ˆã£ã¦å¤‰æ›´å¯èƒ½ã€‚\n\n#### ãƒ—ãƒªã‚¨ãƒ³ãƒ—ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ (preemption)\nç”Ÿæˆç›´å¾Œã‹ã‚¹ãƒªãƒ¼ãƒ—èµ·åºŠæ™‚ã®ã‚¿ã‚¹ã‚¯ã¯ã‚¿ã‚¤ãƒ ã‚¹ãƒ©ã‚¤ã‚¹ã‚’æ™®æ®µã‚ˆã‚Šå¤šãä¸ãˆã¦ãƒ©ãƒ³ã‚­ãƒ¥ãƒ¼æœ«å°¾ã«æŒ¿å…¥ã€‚\n\n#### è¤‡æ•°LCPUå¯¾å¿œ\nè¤‡æ•°ã®LCPUãŒ1ã¤ã®ãƒ©ãƒ³ã‚­ãƒ¥ãƒ¼ã‚’è¦‹ã‚‹ã€‚æ’ä»–åˆ¶å¾¡ãŒå¿…è¦ã€‚å„LCPUã¯å‰ã«å–ã£ãŸã‚¿ã‚¹ã‚¯ã‚’å–ã‚Šã‚„ã™ã„ã€‚\n\n#### ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒªã‚·ãƒ¼\nãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¿ã‚¹ã‚¯\n`sched_setscheduler()` ã‚·ã‚¹ãƒ†ãƒ ã‚³ãƒ¼ãƒ«ã‚„ `chrt` ã‚³ãƒãƒ³ãƒ‰ãªã©ã«ã‚ˆã£ã¦ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¿ã‚¹ã‚¯ã«ã§ãã‚‹ã€‚å¸¸ã«å„ªå…ˆçš„ã«å‹•ä½œå¯èƒ½ã€‚ãƒãƒ¼ãƒˆãƒ“ãƒ¼ãƒˆå‡¦ç†ãªã©ã€ã‚·ã‚¹ãƒ†ãƒ ã®è² è·ãŒé«˜ã„ã¨ãã§ã‚‚å®šæœŸçš„ã«å‹•ã‹ãªã„ã¨ã¾ãšã„ãŸã‚ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¿ã‚¹ã‚¯ã«ã™ã‚‹ã€‚ãã‚ŒãŒå‹•ã„ã¦ã„ã‚Œã°ä»–ã®ã‚¿ã‚¹ã‚¯ã¯æ°¸ä¹…ã«ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã•ã‚Œãªã„ã€‚\n`SCHED_OTHER` ãƒãƒªã‚·ãƒ¼ : ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒãƒªã‚·ãƒ¼\n`SCHED_FIFO` ãƒãƒªã‚·ãƒ¼ : ã‚¿ã‚¤ãƒ ã‚¹ãƒ©ã‚¤ã‚¹ãªã—\n`SCHED_RR` ãƒãƒªã‚·ãƒ¼ : ã‚¿ã‚¤ãƒ ã‚¹ãƒ©ã‚¤ã‚¹ã‚ã‚Š\n\n### $O(1)$ ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ© (v2.6.0~2.6.22)\nv2.6ç³»ã¯ $O(1)$ ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã‚’ç”¨ã„ã¦ç®¡ç†ã—ã¦ã„ãŸã€‚\nãƒ©ãƒ³ã‚­ãƒ¥ãƒ¼ã¯ active ã‚­ãƒ¥ãƒ¼ã¨ expired ã‚­ãƒ¥ãƒ¼ã«åˆ†ã‘ã‚‰ã‚Œã€active ã‚­ãƒ¥ãƒ¼ã®å…ˆé ­ã®ã‚¿ã‚¹ã‚¯ã‚’å–ã‚Šã€ã‚¿ã‚¤ãƒ ã‚¹ãƒ©ã‚¤ã‚¹ã‚’ä½¿ã„åˆ‡ã£ãŸã‚‰ expired ã‚­ãƒ¥ãƒ¼ã«æŒ¿å…¥ã™ã‚‹ã®ã‚’ç¹°ã‚Šè¿”ã™ã€‚\nnice å€¤ã”ã¨ã«ã‚­ãƒ¥ãƒ¼åˆ†ã‘ã‚‹ã‚ˆã†ã«ãªã£ã¦ã€å„ªå…ˆåº¦ãŒé«˜ã„ã‚­ãƒ¥ãƒ¼ã‹ã‚‰ active ã‚­ãƒ¥ãƒ¼ã‚’ç©ºã«ã•ã›ã¾ã™ã€‚\nã“ã‚Œã§ LCPU å½“ãŸã‚Š $40\\times 2$ æœ¬ã®ã‚­ãƒ¥ãƒ¼ãŒã‚ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\n\n#### ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µãƒ¼\nLCPU ã”ã¨ã«ã‚­ãƒ¥ãƒ¼ã‚’ã‚‚ã¤ã‚ˆã†ã«ãªã£ãŸã®ã§ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µãƒ¼ãŒå¿…è¦ã«ãªã‚Šã¾ã—ãŸã€‚\nNUMAã‚·ã‚¹ãƒ†ãƒ ã®å ´åˆã¯ 2 éšå±¤ã®ãƒãƒ©ãƒ³ã‚¹å‡¦ç†ãŒå‹•ä½œã—ã¾ã™ã€‚\n\n1. NUMAãƒãƒ¼ãƒ‰é–“ã®ãƒãƒ©ãƒ³ã‚¹\n2. ãƒãƒ¼ãƒ‰é–“LCPUé–“ã®ãƒãƒ©ãƒ³ã‚¹\n\nNUMAãƒãƒ¼ãƒ‰ã®ä¸­ã§è² è·ã®åã‚Šã‚’æ¤œå‡ºã—ã€è² è·ãŒé«˜ã„ãƒãƒ¼ãƒ‰ã®ä¸€ç•ªè² è·ã®é«˜ã„ LCPU ã‹ã‚‰è² è·ã®ä½ã„ãƒãƒ¼ãƒ‰ã®ä¸€ç•ªè² è·ã®ä½ã„ LCPU ã¸ã‚¿ã‚¹ã‚¯ã‚’ç§»å‹•ã•ã›ã‚‹ã€‚\n\néšå±¤ãŒè¤‡é›‘ã«ãªã‚‹ã¨ç‰©ç†CPU \u003e ãƒ€ã‚¤ \u003e CCX \u003e ã‚³ã‚¢ \u003e ã‚¹ãƒ¬ãƒƒãƒ‰ã®ãã‚Œãã‚Œã§ãƒãƒ©ãƒ³ã‚¹ã™ã‚‹ã€‚\n\nç§»å‹•ã‚’è¨±ã™ LCPU ã‚’åˆ¶é™ã™ã‚‹ CPU affinity ãŒã‚ã‚‹ã€‚ã‚¿ã‚¹ã‚¯ãŒå‹•ä½œå¯èƒ½ãªLCPUã®é›†åˆã‚’æ±ºã‚ã‚‰ã‚Œã‚‹ã€‚`sched_setaffinity()`ã‚·ã‚¹ãƒ†ãƒ ã‚³ãƒ¼ãƒ«ã‚„`taskset`ã‚³ãƒãƒ³ãƒ‰ã«ã‚ˆã£ã¦è¨­å®šã§ãã‚‹ã€‚\n\n### å¯¾è©±å‹ã‚¿ã‚¹ã‚¯ã®å„ªå…ˆå‹•ä½œ\nbash ã‚„ X Window System ãªã©ã®ã€äººé–“ãŒç›´æ¥ã‚„ã‚Šã¨ã‚Šã™ã‚‹ã€å¿œç­”æ€§ãŒé‡è¦–ã•ã‚Œã‚‹ã‚¿ã‚¹ã‚¯æŒ‡ã™ã€‚\n\n- å˜ä½æ™‚é–“ã‚ãŸã‚Šã«ã‚¹ãƒªãƒ¼ãƒ—ã—ã¦ã„ã‚‹ç‡ãŒé«˜ã„ãƒ—ãƒ­ã‚»ã‚¹ã‚’å¯¾è©±å‹ã‚¿ã‚¹ã‚¯ã¨ã¿ãªã™ã€‚\n- å¯¾è©±å‹ã‚¿ã‚¹ã‚¯ã«æ¬¡ã®ã‚ˆã†ãªå„ªé‡æªç½®ã‚’ã¨ã‚‹\n\t- ã‚¿ã‚¤ãƒ ã‚¹ãƒ©ã‚¤ã‚¹ãŒåˆ‡ã‚Œã‚‹ã¨ expired ã‚­ãƒ¥ãƒ¼ã§ã¯ãªã active ã‚­ãƒ¥ãƒ¼ã«ç§»ã™ã€‚\n\t- nice å€¤ç›¸å½“ã®å„ªå…ˆåº¦ã‚’ä¸Šã’ã‚‹ã€‚ã‚¿ã‚¤ãƒ ã‚¹ãƒ©ã‚¤ã‚¹ã¯å¤‰åŒ–ã—ãªã„ã€‚\n\t- ãã®ä¸€æ–¹ã€ãšã£ã¨å®Ÿè¡Œå¯èƒ½ãªã‚¿ã‚¹ã‚¯ã¯å„ªå…ˆåº¦ã‚’ä¸‹ã’ã‚‹ã€‚\n\n\n### $O(1)$ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã®å•é¡Œç‚¹\n- å¯¾è©±å‹ã‚¿ã‚¹ã‚¯ã«ã‚ˆã‚‹ãƒãƒ³ã‚°\n1. å¯¾è©±å‹ã‚¿ã‚¹ã‚¯ã¯å„ªå…ˆåº¦ãŒä¸ŠãŒã‚Šã€ active ã‚­ãƒ¥ãƒ¼ã«å†æŒ¿å…¥ã•ã‚Œã‚‹ã€‚\n2. ä»–ã®ã‚¿ã‚¹ã‚¯ã¯ãã‚‚ãã‚‚å‹•ã‘ãªã„ã‹ã‚‰å„ªå…ˆåº¦ãŒä¸ŠãŒã‚‰ãªã„ã€‚\n3. å°‘æ•°ã®é«˜å„ªå…ˆåº¦ã‚¿ã‚¹ã‚¯ãŒé•·æ™‚é–“å‹•ãç¶šã‘ã‚‹ã€‚\n- å®Ÿè¡Œå¯èƒ½ã‚¿ã‚¹ã‚¯ãŒå¤šã„ã¨ã€ãªã‹ãªã‹CPUæ™‚é–“ãŒå›ã£ã¦ã“ãªã„ã€‚å…¸å‹çš„ã«ã¯ã€å®Ÿè¡Œå¯èƒ½ãªã‚¿ã‚¹ã‚¯æ•° Ã— 100ms å¾…ãŸã•ã‚Œã‚‹ã€‚\n- ã‚¿ã‚¤ãƒ ã‚¹ãƒ©ã‚¤ã‚¹ã®ç²’åº¦ãŒè’ã„ãŸã‚ã€fair share scheduling ã‚„ CFS bandwidth controllerãªã©ã®ã‚ˆã†ãªç´°ã‹ã„åˆ¶å¾¡ãŒã§ããªã„ã€‚\n\t- ç²’åº¦ã‚’å°ã•ãã™ã‚‹ã«ã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒ«ã‚¿ã‚¤ãƒãƒ¼ã®å‰²ã‚Šè¾¼ã¿é »åº¦ã‚’å¢—ã‚„ã›ã°ã‚ˆã„ã€‚\n\t- å‰²ã‚Šè¾¼ã¿å›æ•°ãŒå¢—ãˆã‚‹ã¨å‰²ã‚Šè¾¼ã¿ãƒãƒ³ãƒ‰ãƒ©ãŒå‹•ä½œã™ã‚‹æ™‚é–“ãŒå¢—ãˆã‚‹ãŸã‚ã€ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆãŒä¸‹ãŒã‚‹ã€‚\n\n### Completely Fair Scheduler (v2.6.23~)\nv2.6.23 ã‹ã‚‰å…¥ã£ãŸ Completely Fair Scheduler: CFS\nèµ¤é»’æœ¨ä¸Šã§è‘‰ãƒãƒ¼ãƒ‰ã«å€‹ã€…ã®ã‚¿ã‚¹ã‚¯ã€ã‚­ãƒ¼ã¯ã‚¿ã‚¹ã‚¯ã”ã¨ã«å­˜åœ¨ã™ã‚‹vruntimeã¨ã„ã†å€¤ã€‚\næ¤œç´¢ã‚³ã‚¹ãƒˆ $O(\\log n)$ ã«æœ€é©åŒ–(vruntime æœ€å°ã®ã‚¿ã‚¹ã‚¯ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãªã©)ã‚’åŠ ãˆã¦ã‚ˆã„ã€‚\n\nãƒ¯ãƒ³ã‚·ãƒ§ãƒƒãƒˆã®é«˜ç²¾åº¦ã‚¿ã‚¤ãƒãƒ¼ã‚’ç”¨ã„ã‚‹ã“ã¨ã§ã‚¿ã‚¤ãƒ ã‚¹ãƒ©ã‚¤ã‚¹ãŒåˆ‡ã‚Œã‚‹ã¨ãã ã‘å‰²ã‚Šè¾¼ã‚€ã®ã§å‰²ã‚Šè¾¼ã¿è² è·ã‚’æ¸›ã‚‰ã—ã€CFSãŒå®Ÿç¾ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã€‚\nãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ æ•°msï½æ•°åms ã‚’å„ã‚¿ã‚¹ã‚¯ã«å‡ç­‰ã«å‰²ã‚Šå½“ã¦ã‚‹ã€‚\nnice å€¤ãŒ1ä½ã„ã¨1.25å€å¤šãã‚¿ã‚¤ãƒ ã‚¹ãƒ©ã‚¤ã‚¹ãŒä¸ãˆã‚‰ã‚Œã‚‹ã€‚\n\nã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãŒãƒ—ãƒ©ã‚¬ãƒ–ãƒ«ã«ãªã£ãŸã€‚ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ã‚¯ãƒ©ã‚¹ã¨ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã‚’ç”¨æ„ã™ã‚Œã°OKã€‚\n\nfair group scheduling(v2.6.24): cgroup ã§ã‚°ãƒ«ãƒ¼ãƒ—ã”ã¨ã«ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚¹ã™ã‚‹ã€‚ãƒ¡ãƒ¢ãƒªåˆ¶é™ã—ãŸã‚Šã‚‚ã§ãã‚‹ã€‚\nRealtime group scheduling(v2.6.25): ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¿ã‚¹ã‚¯ãŒæš´èµ°ã™ã‚‹ã¨é€šå¸¸ã®ã‚¿ã‚¹ã‚¯ã¯ä¸€åˆ‡å‹•ã‘ãªã„ãŸã‚ã€1å‰²ç¨‹åº¦ä»–ã®ã‚¿ã‚¹ã‚¯ã«æ¸¡ã™ã€‚\nCFS bandwidth controller(v3.2.2): å€‹ã€…ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«CPUæ™‚é–“ã®åˆ¶é™ã‚’ä¸ãˆã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ã§ã‚ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãƒªã‚½ãƒ¼ã‚¹ãŒå æœ‰ã•ã‚Œãªã„ã‚ˆã†ã«ã‚ã‚‹cgroup å†…ã®ã‚¿ã‚¹ã‚¯ãŒperiodã¨å‘¼ã°ã‚Œã‚‹æ‰€å®šæ™‚é–“å†…ã«runtimeã¨å‘¼ã°ã‚Œã‚‹æ™‚é–“ã®ã¿å‹•ã‘ã‚‹ã‚ˆã†ã«åˆ¶é™ã™ã‚‹ã€‚\ndeadline scheduling class(v3.14): ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¿ã‚¹ã‚¯ã®å¤šæ§˜æ€§ã‚’æŒãŸã›ã‚‹ã€‚\nEnergy-aware scheduling(v5.0): ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ãªã©ã§ä½¿ã‚ã‚Œã‚‹big.LITTLE processingè€ƒãˆæ–¹ã‚’æ¡ç”¨ã—ãŸCPUã®ç‚ºã®ã‚‚ã®ã€‚\n- å‡¦ç†æ€§èƒ½ãŒé«˜ã„ãŒæ¶ˆè²»é›»åŠ›ãŒå¤§ãã„CPU\n- å‡¦ç†æ€§èƒ½ãŒä½ã„ãŒæ¶ˆè²»é›»åŠ›ãŒå°ã•ã„CPU\né‡ã„ã‚¿ã‚¹ã‚¯ã¯å‰è€…ã«ã€è»½ã„ã‚¿ã‚¹ã‚¯ã¯å¾Œè€…ã«å®Ÿè¡Œã•ã›ã‚‹ã€‚é‡ã„ã‚¿ã‚¹ã‚¯ãŒãªã‘ã‚Œã°å…¨å°„ã®ã‚³ã‚¢ã®å‹•ä½œå‘¨æ³¢æ•°ã‚’ä¸‹ã’ãŸã‚Šã€é›»æºã‚’åˆ‡ã£ãŸã‚Šã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦æ¶ˆè²»é›»åŠ›ã‚’å°‘ãªãã™ã‚‹ã®ãŒç‹™ã„ã€‚\n\n[A journey into the Linux scheduler | Maxgio's blog](https://blog.maxgio.me/posts/linux-scheduler-journey/)","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/OS/abbreviation":{"title":"ç•¥èª","content":"\nLinux ç•¥èªå¤šã„ã®ã§ã¾ã¨ã‚ã¦ã¿ã‚‹.\n\n## ä¸€èˆ¬\n\n| ç•¥èª | æ­£å¼åç§° |\n|:-:|:-:|\n| d | daemon |\n| f | file |\n| g | group |\n| h | header |\n| i | interval/interrupt |\n| l | link/library |\n| m | memory |\n| n | NULL |\n| p | process/program |\n| s | signal/section |\n| u | user |\n| v | virtual/vector |\n\n### å‹•è©\n\n| ç•¥èª | æ­£å¼åç§° |\n|:-:|:-:|\n| adj | adjust |\n| brk | break |\n| dup | duplicate |\n| dump | dump |\n| exec | execute |\n| mk | make |\n| rm | remove |\n| snd | send |\n| rcv | receive |\n| rq | request |\n| ret | return |\n\n| ç•¥èª | æ­£å¼åç§° |\n|:-:|:-:|\n| glibc | GNU C Library |\n| dir | directory |\n| sys | system |\n| sym | symbolic |\n| sched | schedule |\n| msg | message |\n| reg | register |\n| info | information |\n| io | Input/Output |\n| fs | File System |\n| fmt | format |\n| cpy | copy |\n| elf | Executable and Linking Format |\n| stat | statistics |\n| param | parameter |\n| desc | descriptor/description |\n\n## å‰²ã‚Šè¾¼ã¿\n\n| ç•¥èª | æ­£å¼åç§° |\n|:-:|:-:|\n| IRQ | interrupt request |\n| chmod | change mode |\n| cwd | Change Working Directory |\n| kstat |  |\n| gtod | gettimeofday |\n\n## ã‚·ã‚¹ãƒ†ãƒ ã‚³ãƒ¼ãƒ«\n\n| ç•¥èª | æ­£å¼åç§° |\n|:-:|:-:|\n| GDT | Global Descriptor Table |\n| TSS | Task State Segment |\n","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Processor/Architecture":{"title":"","content":"\n## x86-64ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n### ãƒ¬ã‚¸ã‚¹ã‚¿\n64bitæ±ç”¨ãƒ¬ã‚¸ã‚¹ã‚¿\n| 64bitãƒ¬ã‚¸ã‚¹ã‚¿ | 32bitãƒ¬ã‚¸ã‚¹ã‚¿ | 16bitãƒ¬ã‚¸ã‚¹ã‚¿ | 8bitãƒ¬ã‚¸ã‚¹ã‚¿ |\n|--|--|--|--|\n| RSP | ESP |  SP | SPL |\n| RBP | EBP |  BP | BPL |\n| RAX | EAX |  AX |  AL |\n| RBX | EBX |  BX |  BL |\n| RDI | EDI |  DI | DIL |\n| RSI | ESI |  SI | SIL |\n| RDX | EDX |  DX |  DL |\n| RCX | ECX |  CX |  CL |\n| R8  | R8D | R8W | R8B |\n| R9  | R9D | R9W | R9B |\n| R10 | R10D | R10W | R10B |\n| R11 | R11D | R11W | R11B |\n| R12 | R12D | R12W | R12B |\n| R13 | R13D | R13W | R13B |\n| R14 | R14D | R14W | R14B |\n| R15 | R15D | R15W | R15B |\n\nãƒ•ãƒ©ã‚°ãƒ¬ã‚¸ã‚¹ã‚¿\n| 64bitãƒ¬ã‚¸ã‚¹ã‚¿ | 32bitãƒ¬ã‚¸ã‚¹ã‚¿ | 16bitãƒ¬ã‚¸ã‚¹ã‚¿ |\n| ------------- | ------------- | ------------- |\n| RFLAGS        | EFLAGS        | FLAGS         |\n\n| bit | ãƒ‹ãƒ¼ãƒ¢ãƒ‹ãƒƒã‚¯ | èª¬æ˜ | ç”¨é€” | 1ã¨ãªã‚‹æ¡ä»¶ |\n|--|--|--|--|--|\n| 11 | OF |        Overflow Flag | ç¬¦å·ä»˜ãæ•´æ•°æ¼”ç®—ã®çµæœã®æœ€ä¸Šä½bitãŒæœ¬æ¥ã¨ç•°ãªã‚‹ |\n| 10 | DF |       Direction Flag | æ–‡å­—åˆ—æ“ä½œã®ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ã‚¿ãŒæ¸›ã‚‹å‘ã |\n|  7 | SF |            Sign Flag | ç®—è¡“æ¼”ç®—ã®çµæœãŒè²  |\n|  6 | ZF |            Zero Flag | ç®—è¡“æ¼”ç®—ã®çµæœãŒ0 |\n|  4 | AF | Auxiliary Carry Flag |  |\n|  2 | PF |          Parity Flag | æ¼”ç®—ã®çµæœã®æœ€ä¸‹ä½byte |\n|  0 | CF |           Carry Flag | åŠ ç®—/æ¸›ç®—å‘½ä»¤ã§æœ€ä¸Šä½bitã§ç¹°ã‚Šä¸ŠãŒã‚Š/ç¹°ã‚Šä¸‹ãŒã‚ŠãŒç™ºç”Ÿ |\n\n### ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«\n### ã‚¢ãƒ‰ãƒ¬ãƒƒã‚·ãƒ³ã‚°\n### å‘½ä»¤ã‚»ãƒƒãƒˆ\n## X86ã‚¢ã‚»ãƒ³ãƒ–ãƒªè¨€èª\n### AT\u0026Tè¨˜æ³•ã¨Intelè¨˜æ³•\n\n## System V ABI(Application Binary Interface)","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Processor/FPGA":{"title":"","content":"\nHDL; Hardware Description Language\n- Verilog\n- Chisel\n\n## è‡ªä½œCPU\n","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Processor/HIEE/DRM":{"title":"DRM","content":"\n# DRMã®ä»•çµ„ã¿ã¨å®Ÿè£…ã‚’ç†è§£ã™ã‚‹\n\n## ãƒ¡ãƒ¢\n\nDRM(Digital Rights Management)ã¨ã¯\n\u003e Digital rights management (DRM) is the management of legal access to digital content. Various tools or technological protection measures (TPM)[1] such as access control technologies can restrict the use of proprietary hardware and copyrighted works.[2] DRM technologies govern the use, modification, and distribution of copyrighted works (such as software and multimedia content), as well as systems that enforce these policies within devices.[3]\n\n1. ãƒãƒã‚¿ã‚¤ã‚ºã®ãŸã‚ã«å„ç¨®assetã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã—ãŸã„\n2. ç‰©ç†assetã¯ç‰©ç†çš„æŸç¸›ãŒã‚ã‚‹ã‹ã‚‰ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã—ã‚„ã™ã„\n3. degital assetã¯ã©ã†ã—ã‚ˆã†ã­\n4. **DRM**ï¼ˆã«é–¢ã™ã‚‹å„ç¨®æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ï¼‰\n    - https://en.wikipedia.org/wiki/Digital_rights_management\n    - DRMã¯encryption/decryption keysã‚’secureã«store/deliverã™ã‚‹æŠ€è¡“ï¼ˆï¼Ÿï¼‰\n        - DRM protectedãªæ›¸ç±ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã§ããªã„ã®ã¨ã‹ã¯ã©ã†è§£é‡ˆã§ãã‚‹ã®ã‹ï¼Ÿ\n        - deliverã•ã‚ŒãŸkeyã«consumerãŒç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ï¼ˆã¯ãšï¼‰\n\n\u003e ã€ãƒãƒã‚¿ã‚¤ã‚ºã€‘\n\u003e For example, you could set rules to,\n\u003e - block people from certain countries,\n\u003e - allow access to the content for a certain period,\n\u003e - prevent a user from casting the movie onto a screen,\n\u003e - block free users from accessing premium content,\n\u003e - block playback on specific devices,\n\u003e - etc.\n\nã€ã‚³ã‚¢ã€‘\nencryptã—ãŸã„äºº(creator side)ã¨decryptã—ãŸã„äºº(consumer)ãŒã„ã‚‹\nç¬¬ä¸‰è€…(store)ãŒkeyã‚’å®‰å…¨ã‹ã¤é©åˆ‡ãªãƒ«ãƒ¼ãƒ«ã«åŸºã¥ã„ã¦é…å¸ƒã™ã‚‹\n![](https://md.trap.jp/uploads/upload_5feb762e9db1d37f5cb1159f2012a9e5.png)\nã€ã“ã“ã¾ã§ã§å®Ÿç¾ã§ãã¦ã„ã‚‹ã“ã¨ã€‘\n- a high-security level through daily renewal and code rotation\n- authentication and rights management (read, write permissions)\n    - èª­ã¿æ›¸ãã®æ¨©é™ã‚’åˆ†ã‘ã‚‹\n    - è¤‡æ•°äººãŒèª­ã‚€ã“ã¨ã‚‚å¯èƒ½\n    - ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¸ã®æ®µéšçš„ãªã‚¢ã‚¯ã‚»ã‚¹\n    - æœŸé™ä»˜ãã®éµ\n        - encryptã™ã‚‹éµã‚’ã©ã‚“ã©ã‚“æ›´æ–°ã—ã¦ã„ã‘ã°æœ€æ–°ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒè¦‹ã‚Œãªããªã‚‹ã¿ãŸã„ãªã®ã¯ç†è§£ã§ãã‚‹\n        - ç”»é¢ã®ç›´æ’®ã‚Šã¨ã‹ã¯è€ƒãˆãªã„ã«ã—ã¦ã‚‚encrypted+keyã‚’å¾—ãŸæ™‚ç‚¹ã§decryptedãŒå¾—ã‚‰ã‚Œãã†ã ã‘ã©ã©ã†ã‚„ã£ã¦é˜²ã„ã§ã‚‹ã‚“ã ã‚ã†ï¼ˆå˜ç´”ã«æ‰‹é–“ã«ãªã‚‹ã‚ˆã†ã«å®Ÿè£…ã•ã‚Œã¦ã‚‹ã‹ã‚‰ã ã‚Œã‚‚ã‚„ã£ã¦ãªã„ã ã‘ï¼Ÿï¼‰\n        - å°‚ç”¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¿ãŸã„ãªã®ãŒã‚ã‚‹ã‚ã‘ã ã‘ã©ãã®ã¸ã‚“ã®å®Ÿè£…ã«è¸ã¿è¾¼ã¾ãªã„ã¨åˆ†ã‹ã‚‰ãªã•ãã†ï¼Ÿ\n    - etc\n- a well-defined pricing model\nã€æ›´ã«å®Ÿç¾ã—ãŸã„ã“ã¨ã€‘\n- ã‚³ãƒ”ãƒ¼é˜²æ­¢\n- ã‚­ãƒ£ãƒ—ãƒãƒ£é˜²æ­¢\n\n---\n\n- building blocks\n    - EME(Encrypted Media Extensions)\n        - https://www.w3.org/2017/07/EME-backgrounder.html\n        - OS / ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¬ãƒ™ãƒ«ã§CDMã¨ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«ãªã£ã¦ã„ã‚‹\n        - å¾©å·åŒ–ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ãŒæ‰±ã‚ã‚Œã‚‹ã“ã¨ã¯ãªã„ (CDMã®ã¿ãŒæ‰±ã†)\n        - https://bitmovin.com/digital-rights-management-everything-to-know/\n    - CDM(Content Decryption Module)\n    - AES(Advanced Encryption Standard)\n        - ã¿ã‚“ãªçŸ¥ã£ã¦ã‚‹ã‚¢ãƒ¬\n    - å‹•ç”»å›ºæœ‰\n        - ABR(Adaptive Bitrate Streaming)\n            - å„ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®å¸¯åŸŸå¹…ã«å¿œã˜ã¦é©åˆ‡ãªè¤‡æ•°bitrateã§é…ä¿¡ã—ãŸã„\n            - https://ottverse.com/what-is-abr-video-streaming/\n        - CMAF(Common Media Format)\n            - \u003e which said that videos can be stored in the fragmented mp4 container format (fmp4). With support from both MPEG-DASH and HLS, you can now create only one set of videos, store it in fmp4 format, and use a common set of files for both protocols.\n            - https://mpeg.chiariglione.org/standards/mpeg-a/common-media-application-format\n    - CENC(Common Encryption)\n        - storeãŒé•ã†æš—å·åŒ–æ–¹å¼ã‚’æ¡ç”¨ã—ã¦ã‚‹ã¨creatorãŒãƒ€ãƒ«ã„ã®ã§å…±é€šåŒ–ã—ã‚ˆã†ã¨è¨€ã†ãƒ¢ãƒãƒ™\n        - \u003e specifying that videos can be encrypted using either cenc (AES-128 CTR) or cbcs (AES-128 CBC). CTR stands for Counter; and CBC stands for Cipher Block Chaining.\n    - Keys \u0026 Key Servers.\n        - keyã¨encrypted contentã¯KeyIDã§ç´ã¥ã\n        - KeyIDã¯manifestã«ã®ã£ã¦ã‚‹\n\n![](https://md.trap.jp/uploads/upload_09363d2df17afc60ec315fde1b1a9fb5.png)\n\nç¾å®Ÿã®ã‚«ã‚¹ãƒã‚¤ãƒ³ãƒˆ\n\u003e Well, CENC might sound like a magic wand for DRM-unification, but it is not.\n\u003e \n\u003e There are three primary DRM technologies in the market â€“ Apple FairPlay, Google Widevine, and Microsoft PlayReady.\n\u003e \n\u003e Apple FairPlay supports only AES-CBC cbcs mode.\nHLS supports only AES-CBC cbcs mode (irrespective of CMAF)\nWidevine and PlayReady support both AES-128 CTR cenc or AES-128 CBC cbcs modes.\nMPEG-DASH with CMAF supports both AES-128 CTR cenc or AES-128 CBC cbcs modes.\nMPEG-DASH without CMAF supports only AES-128 CTR cenc mode.\nAs you can see, the CMAF and CENC specs have lead to confusion and fragmentation in the streaming space.\n\u003e \n\u003e A possible convergence point is the universal use of CMAF and AES-CBC cbcs mode, but, how will these impact legacy devices that support only CTR or only MPEG-TS?\n\u003e \n\u003e Thatâ€™s a discussion for another time.\n\n\n---\nåˆ†ã‹ã‚Šãªç–‘å•\n\u003e Weâ€™ve described a simple scheme, but there are many problems (technical and commercial) with our scheme. Here are some problems right off the bat.\n\u003e \n\u003e Weâ€™ve described a prototypical â€œplayerâ€ that sends a request for the decryption keys to the DRM License Server. But,\nHow does the license server know if the player is trustworthy?\nAnd, what if the decryption software in the player exposes the key and the decrypted content?\nAlso, if you are a video player developer, do you have to develop decryption modules for every DRM technology? And, do you have to update it each time they make a change to their interfaces?\nFurthermore, the sequence of events at the player (client-side) looks something like this â€“\n\u003e \n\u003e 1. obtain the movie \u0026 its manifest from the CDN\n\u003e 1. extract the KeyID from the manifest\n\u003e 1. create the license request\n\u003e 1. send the license request to the license server\n\u003e 1. wait, listen, and receive the response from the license server.\n\u003e 1. use the decryption key from the server to decrypt the content\n\u003e 1. decode the decrypted content\n\u003e 1. display the decoded movie\n\u003e \n\u003e A single program or entity should NOT do all of the above.\n\nä»¥ä¸‹ã®2ã¤ã«åˆ†ã‘ã‚Œã°ã„ã„ã‚‰ã—ã„\n\n- Player\n    - 1, 2, 4, 5, (8 display ã“ã‚Œå®‰å…¨ã˜ã‚ƒãªã•ãã†)\n- CDM\n    - 3(create Licence request), (understand the key), 6(decrypt), 7(decode)\n\n### CDM(ã“ã‚Œå¤§äº‹)\n\u003e Every DRM provider provides its own\n\u003e 1. mechanism to create a license request (using the KeyID, device identifier, signing the request, etc.)\n\u003e 1. mechanism to understand the license response received from the DRM License Server (the response is encrypted too) and extract the decryption key.\n\u003e 1. rules around storing the license locally on the client, license renewal, expiry, etc.\n\n==browserã«build-inã§closed-source==\n\n### EME\n![](https://md.trap.jp/uploads/upload_d6d10fe763ae69624a5057f9b1f37e00.png)\n\n---\n\nQ. æ‰‹å…ƒã«ã‚ã‚‹éµã¯ãšã£ã¨ä½¿ãˆãã†ã ã‘ã©...ï¼Ÿï¼ˆã€ŒæœŸé™ãŒåˆ‡ã‚ŒãŸã‚‰è‡ªåˆ†ã®ã‚‚ã®ã§ãªããªã‚‹ã€ã¨ã„ã†ã®ã‚’ã„ã‹ã«å®Ÿç¾ã—ã¦ã„ã‚‹ã‹ï¼Ÿï¼‰\nA. ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã®ä»•çµ„ã¿\nãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ã£ã¦éµã®æœ‰åŠ¹æ€§ã‚’æ±ºã‚ãŸã„ã€‚æ™®é€šã®æ–¹æ³•ã§ã¯å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚·ã‚¹ãƒ†ãƒ ã®è„†å¼±æ€§ã ã£ãŸã‚ŠTEEã®è„†å¼±æ€§ãŒã‚ã‚‹ã¨ãã‚Œã‚’ä½¿ã£ã¦æœ‰åŠ¹ã«ã•ã›ã‚‹ã“ã¨ãŒã§ãã¦ã—ã¾ã†ã€‚ãã“ã§ãƒ—ãƒ­ã‚»ã‚¹ãŒèµ·å‹•ã™ã‚‹å‰ã«ãƒ‡ãƒã‚¤ã‚¹ãƒ–ãƒ¼ãƒˆãƒ­ãƒ¼ãƒ€ãƒ¼ãŒãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã‚’TEEä¸Šã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢æ ¼ç´å‹æš—å·ã‚µãƒ¼ãƒ“ã‚¹ã«æ¸¡ã—ã€éµã‚’ç”Ÿæˆã™ã‚‹ã€‚ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰å¾Œã¯ç„¡åŠ¹åŒ–ã™ã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚androidã®è¨˜äº‹ã‚ˆã‚Š\nã‚­ãƒ¼ã‚¹ãƒˆã‚¢=DRM Serverã§ã‚ã‚‹ï¼Ÿ\nä»–äººãŒæ”»æ’ƒã™ã‚‹ã¨ãã¯å®Œå…¨ã«é˜²ã’ã‚‹ã‘ã©è‡ªåˆ†ã®ã¯ãƒ–ãƒ¼ãƒˆãƒ­ãƒ¼ãƒ€ãƒ¼ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ã§æ”»æ’ƒã™ã‚Œã°ã„ã„è©±ã§ã¯ï¼ˆã€Œæ­£ã—ãã€å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ãªã‚“ã‚‰ã‹ã®æ–¹æ³•ã§è¨¼æ˜ã§ãã‚Œã°å¬‰ã—ãã†ã€‚ã—ã‚‰ã‚“ã‘ã©ï¼‰\nï¼ˆTODO: å¯èƒ½ã¨ã„ã†ã“ã¨ã¯åˆ†ã‹ã£ãŸãŒã€éµã®æœ‰åŠ¹ç„¡åŠ¹ã¨ã„ã†æ¦‚å¿µãŒã‚ã‚“ã¾ã‚Šç†è§£ã§ãã¦ãŠã‚‰ãšï¼‰\n\nQ. ãã‚‚ãã‚‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã£ã¦ä½•ï¼Ÿãªã«ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼Ÿ\nä»Šå›ã ã¨ãƒ‡ãƒã‚¤ã‚¹ã¨OSã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚‰ã—ã„??â†’OSç­‰ã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ãªã‘ã‚Œã°ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¦‹ç¶šã‘ã‚‰ã‚Œã‚‹...ï¼Ÿï¼ˆè¬ãã†)\n\nQ.æœ‰åŠ¹ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§decryptedã‚’ä¿å­˜ã™ã‚‹ã¨ã‹ã‚’é˜²ãã®ã¯åˆ¥ã®ä»•çµ„ã¿ï¼Ÿ\nA. :hi_UD::naruhodo:\nencrypted+key(ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’è¦‹ã‚Œã°ã„ã„ã‹ã‚‰ã“ã“ã¯å–ã‚Œã‚‹ã€‚ã¯ãš)-\u003e(ã“ã“ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä»‹å…¥ã§ããªã„ã‚ˆã†ã«ã™ã‚‹ä»•çµ„ã¿ãŒå¿…è¦)-\u003eview\n\n---\n:eyes:\n![](https://www.w3.org/TR/encrypted-media/stack_overview.svg)\nhttps://www.w3.org/TR/encrypted-media/\n\n### ã©ã†ã§ã‚‚ã„ã„è©±\nstreaming protocols\n- https://linuxhit.com/rtmp-vs-hls-vs-dash-streaming-protocols/\n- https://youtube-eng.googleblog.com/2018/04/making-high-quality-video-efficient.html\n- https://en.wikipedia.org/wiki/Adaptive_bitrate_streaming\n    - https://ottverse.com/what-is-abr-video-streaming/\n    - https://gist.github.com/voluntas/dd3af733825c7ae64505a1fd1bd0d684\n\n## TODO\næš—å·åŒ–ã‚„ç½²åå‘¨ã‚Šã®å…·ä½“çš„ãªå®Ÿè£…ï¼ˆç†è«–ï¼‰\nDRM Providerå„ç¤¾ã®ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ \n\n## refs\n- https://source.android.com/security/keystore\n- https://developers.google.com/widevine/drm/overview\n- https://ottverse.com/eme-cenc-cdm-aes-keys-drm-digital-rights-management/\n","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Processor/HIEE/TEE":{"title":"TEE","content":"\nTrusted Execution Environment: TEE ã¨ã¯ãƒ—ãƒ­ã‚»ãƒƒã‚µä¸Šã«éš”é›¢ã•ã‚ŒãŸå®Ÿè¡Œç’°å¢ƒã‚’ç”¨æ„ã™ã‚‹ã“ã¨ã§ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’é«˜ã‚ã‚‹æŠ€è¡“ã§ã™ã€‚\nã‚ˆã‚Šåºƒç¾©ã«HIEE: Hardware-assisted Isolated Execution Environment\n- Normal Mode\n- Secure Mode\n\n[IntelÂ® Trust Domain Extensions](https://www.intel.com/content/www/us/en/developer/articles/technical/intel-trust-domain-extensions.html)Â (IntelÂ® TDX)\n\nTEE ã®æ©Ÿèƒ½\n- OSã‚„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ”¹ç«„ã‚’æ¤œçŸ¥\n- å…¬é–‹éµè¨¼æ˜æ›¸ã«ã‚ˆã‚‹ç«¯æœ«è­˜åˆ¥ï¼Œèªè¨¼\n- ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒ‡ãƒ¼ã‚¿ã®å®‰å…¨ãªæš—å·åŒ–\n- ã»ã¼ã»ã¼æš—å·åŒ–å‡¦ç†ã‚’ã™ã‚‹ãŸã‚, ç§˜å¯†éµã‚’ãã“ã«ppm\n\n## Intel SGX\nEnclave ã§ã¯ Ring 3 ã§ã—ã‹å‹•ä½œã—ãªã„, ã¤ã¾ã‚Š syscall ãŒä½¿ãˆãªã„\n\n![[Pasted image 20220927024448.png]]\n\n- [Intel SGXå…¥é–€ - SGXåŸºç¤çŸ¥è­˜ç·¨ - Qiita](https://qiita.com/Cliffford/items/2f155f40a1c3eec288cf)\n\n### Remote Attestation\nECDH\n- [Intel SGX - Remote Attestationæ¦‚èª¬ - Qiita](https://qiita.com/Cliffford/items/095b1df450583b4803f2)\n\n### Foreshadow\nCVE-2018-3615 - L1 Terminal Fault: SGX\nCVE-2018-3620 - L1 Terminal Fault: OS/SMMã€CVE-2018-3646 - L1 Terminal Fault: VMM\nL1ãƒ‡ãƒ¼ã‚¿ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«å­˜åœ¨ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ãªã‚‰ãªã‚“ã§ã‚‚èª­ã¿å–ã‚‹ã“ã¨ãŒå¯èƒ½\n\n### AEPIC Leak\næœ€åˆã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ç”±æ¥ã®CPUã®ãƒã‚°. ã‚¤ãƒ³ãƒ†ãƒ«è£½10~12ä¸–ä»£ã®CPUã®è„†å¼±æ€§ã‚’åˆ©ç”¨ã—ã¦, ãƒ—ãƒ­ã‚»ãƒƒã‚µæœ¬ä½“ã‹ã‚‰æ©Ÿå¯†æƒ…å ±ã‚’æ¼æ´©ã•ã›ã‚‹ã€‚APIC MMIOã§ã®æœªå®šç¾©ç¯„å›²ã®ã‚¢ã‚¯ã‚»ã‚¹ã«ã‚ˆã‚Šã‚­ãƒ£ãƒƒã‚·ãƒ¥éšå±¤ã‹ã‚‰å¤ã„ãƒ‡ãƒ¼ã‚¿ã‚’å‚ç…§ã§ãã‚‹ã€‚APIC MMIOã®ã‚¢ã‚¯ã‚»ã‚¹ã«ã¯ç®¡ç†è€…æ¨©é™ãŒå¿…è¦ã§ã‚ã‚‹ã‹ã‚‰å®‰å…¨ã§ã‚ã‚‹ãŒ, Intel SGXã®ã‚ˆã†ãªç®¡ç†è€…æ¨©é™ã‚’æŒã¤æ”»æ’ƒè€…ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å®ˆã‚‹ã‚ˆã†ãªã‚·ã‚¹ãƒ†ãƒ ã¯ãƒªã‚¹ã‚¯ã¨ãªã‚‹ã€‚\næœªåˆæœŸåŒ–ãƒ¡ãƒ¢ãƒªã®èª­ã¿å–ã‚Šã®ã‚ˆã†ãªã‚‚ã®\n- [å…ƒè«–æ–‡](https://aepicleak.com/aepicleak.pdf)\n- https://github.com/IAIK/AEPIC\n\n### Graphene-SGX\n- [Graphene-SGX](https://www.usenix.org/system/files/conference/atc17/atc17-tsai.pdf)\n\n## ARM TrustZone\nCortex-A ã‚·ãƒªãƒ¼ã‚ºã®æ‹¡å¼µæ©Ÿèƒ½\nãƒãƒ¼ãƒãƒ«ãƒ¯ãƒ¼ãƒ«ãƒ‰ã¨ã‚»ã‚­ãƒ¥ã‚¢ãƒ¯ãƒ¼ãƒ«ãƒ‰ãã‚Œãã‚Œã«ç‰¹æ¨©/éç‰¹æ¨©ãƒ¢ãƒ¼ãƒ‰\n- [Boomerang](https://github.com/ucsb-seclab/boomerang/)\n- [Abusing Trust: Mobile Kernel Subversion via TrustZone Rootkits](https://security.inso.tuwien.ac.at/pdfs/woot22-preprint.pdf)\n- [SoK: Understanding the Prevailing Security Vulnerabilities in TrustZone-assisted TEE Systems | IEEE Conference Publication | IEEE Xplore](https://ieeexplore.ieee.org/document/9152801)\n- [Project Zero: Trust Issues: Exploiting TrustZone TEEs (googleprojectzero.blogspot.com)](https://googleprojectzero.blogspot.com/2017/07/trust-issues-exploiting-trustzone-tees.html)\nProject Zeroã¯Spectreè¦‹ã¤ã‘ãŸ\n- [ARM TrustZone ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ã‚¤ãƒˆå…¥é–€ - Speaker Deck](https://speakerdeck.com/rkx1209/arm-trustzone-ekusupuroitoru-men)\n\n### Android KeyStore\nAndroid ã® SoC ã«ã¯ ARM TrustZone ãŒã‚ã‚Šã€ãã®ä¸Šã§ KeyStore ã‚’å‹•ã‹ã—ã¦ã„ã‚‹.\nAndroid ã® Full Disk Encryption ã‚’ TEE ã‚’ä»‹ã•ãšã« Decrypt.  FBIã§ã‚‚ã§ããªã‹ã£ãŸ\n- [Bits, Please!: Extracting Qualcomm's KeyMaster Keys - Breaking Android Full Disk Encryption (bits-please.blogspot.com)](http://bits-please.blogspot.com/2016/06/extracting-qualcomms-keymaster-keys.html)\n\n### Apple iOS Secure Enclave\n\n## RISC-V Keystone\n- BOOM\n- Speculative Attack\n- [Keystone: An Open Framework for Architecting Trusted Execution Environments (ethz.ch)](https://n.ethz.ch/~sshivaji/publications/keystone_eurosys20.pdf)\n\n## OP-TEE\n- [OP-TEE/optee_os: Trusted side of the TEE (github.com)](https://github.com/OP-TEE/optee_os)\n- [OP-TEE Documentation â€” OP-TEE documentation documentation (optee.readthedocs.io)](https://optee.readthedocs.io/en/latest/)\n\né ˆå´å…ˆç”ŸãŒã‚ˆãçŸ¥ã£ã¦ã‚‹\n\n","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Processor/HIEE/TPM":{"title":"TPM","content":"\nTPM 2.0\nTPM (Trusted Platform Module)\n\næš—å·åŒ–ç”¨ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚¨ãƒ³ã‚¸ãƒ³ã€ãƒãƒƒã‚·ãƒ¥ã‚¨ãƒ³ã‚¸ãƒ³ã€éµç”Ÿæˆå™¨ã€ä¹±æ•°ç”Ÿæˆå™¨ã€ä¸æ®ç™ºæ€§ãƒ¡ãƒ¢ãƒª(éµãªã©ã‚’ä¿ç®¡)ãªã©ã‚’å‚™ãˆãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã€TPMå†…ã¸ã®æš—å·ã‚­ãƒ¼ã®ä½œæˆã‚„ä½¿ç”¨åˆ¶é™ã‚’ã™ã‚‹ãŸã‚ã«åˆ©ç”¨ã•ã‚Œã‚‹ã€‚\n\nTPM (Trust) ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã¨ã—ã¦é–‹ç™º\n- Windows BitLocker\n\t- TPM ã‚’åˆ©ç”¨ã—ã¦ãƒ‡ã‚£ã‚¹ã‚¯å…¨ä½“ã‚’æš—å·åŒ–ã‚’è¡Œã†.\n- [A Bad Dream](https://www.usenix.org/system/files/conference/usenixsecurity18/sec18-han.pdf)\n\n[TPM 2.0 Library](https://trustedcomputinggroup.org/resource/tpm-library-specification/)\n\n## å‚è€ƒæ–‡çŒ®\n[ã€ç‰¹é›†ã€‘Windows 11ã§å¿…é ˆã«ãªã£ãŸã€ŒTPM 2.0ã€ã£ã¦ä½•ï¼ŸTPMã®å½¹å‰²ã‚„ç¢ºèªæ–¹æ³•ã‚’ç´¹ä»‹ - PC Watch (impress.co.jp)](https://pc.watch.impress.co.jp/docs/topic/feature/1334277.html)","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Processor/LSI":{"title":"LSI","content":"\n## LSIè‡ªä½œ\n- [OpenMPWå…¥é–€ æ”¹è¨‚ç‰ˆ (vlsi.jp)](https://vlsi.jp/OpenMPW.html)\n- [ç¦å²¡IST å…¬é–‹ç”¨ - Google ã‚¹ãƒ©ã‚¤ãƒ‰](https://docs.google.com/presentation/d/1rkpSEsxGbYurqHZDW3vPpKmPjOWm5pDi7h8AhsjY_Go/edit#slide=id.p)\n- [jacaranda_8_ISA_draft Â· cpu-dev/cpu-dev.github.io Wiki](https://github.com/cpu-dev/cpu-dev.github.io/wiki/jacaranda_8_ISA_draft)\n","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Processor/Processor":{"title":"ãƒ—ãƒ­ã‚»ãƒƒã‚µ","content":"\n## ãƒ—ãƒ­ã‚»ãƒƒã‚µã®ç¨®é¡\n- CPU\n\t- LGA\n\t- BGA\n\t- QFP\n- GPU\n\t- iGPU(internal) CPUå†…ã«ã‚ã‚‹ã‚°ãƒ©ãƒœ\n\t- dGPU(discrete) NVMe/SATA/PCIeãªã©ã§æ¥ç¶šã™ã‚‹å¤–ä»˜ã‘ã®ã‚°ãƒ©ãƒœ\n\t- eGPU(external) Thunderbolt 3/4ãªã©ã§æ¥ç¶šã™ã‚‹å¤–ä»˜ã‘ã®ã‚°ãƒ©ãƒœ\n- TPU è¡Œåˆ—ç©æ¼”ç®—\n- FPU\n\næœªåˆ†é¡\n- [æšã’ã¦ç‚™ã£ã¦ã‚ã‹ã‚‹ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®ã—ãã¿ | ç§‹ç”° ç´”ä¸€ |æœ¬ | é€šè²© | Amazon](https://www.amazon.co.jp/%E6%8F%9A%E3%81%92%E3%81%A6%E7%82%99%E3%81%A3%E3%81%A6%E3%82%8F%E3%81%8B%E3%82%8B%E3%82%B3%E3%83%B3%E3%83%94%E3%83%A5%E3%83%BC%E3%82%BF%E3%81%AE%E3%81%97%E3%81%8F%E3%81%BF-%E7%A7%8B%E7%94%B0-%E7%B4%94%E4%B8%80/dp/4297116014)\n- Qualcomm Snapdragon 6 Gen 1\n- å¯Œå²³\n\t- OS IHK/McKernel\n- Read/Write\n- big.LITTLE processing\n\n## CPUæ©Ÿèƒ½\n- [ARM immediate value encoding (mcdiarmid.org)](https://alisdair.mcdiarmid.org/arm-immediate-value-encoding/)\n- RTDSC å‘½ä»¤\n\t- [How to Benchmark Code Execution Times on Intel IA-32 and IA-64 Instruction Set Architectures White Paper](https://www.intel.com/content/dam/www/public/us/en/documents/white-papers/ia-32-ia-64-benchmark-code-execution-paper.pdf)\n- ABI\n- System V AMD64\n- [x86_64-abi-0.99.pdf (linuxbase.org)](https://refspecs.linuxbase.org/elf/x86_64-abi-0.99.pdf)\n\n## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\nå‘½ä»¤ã‚»ãƒƒãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ (ISA; Instruction Set Architecture)\n- CISC\n\t- x86\n\t\t- IA-32\n\t\t- x64 (AMD64)\n\t- IA-64\n- RISC\n\t- ARM\n\t- RISC-V\n\t- PowerPC\n\t- MIPS\n\nãƒã‚¤ã‚¯ãƒ­ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n\n## å›è·¯\nå…¨åŠ ç®—å™¨\nDeep Learning ã‚’ç”¨ã„ãŸå›è·¯è¨­è¨ˆã‚‚è¡Œã‚ã‚Œã¦ã„ã‚‹.\n- [Designing Arithmetic Circuits with Deep Reinforcement Learning | NVIDIA Technical Blog](https://developer.nvidia.com/blog/designing-arithmetic-circuits-with-deep-reinforcement-learning/)\n\n## å¿œç”¨\n- GPGPU\n\n## è„†å¼±æ€§\nIntel ã® CPU ã®è„†å¼±æ€§ã‚’è¦‹ã¤ã‘ãŸã‚‰ [Project Circuit Breaker](https://www.projectcircuitbreaker.com/) ã«å ±å‘Šã™ã‚‹ã¨ã‚ˆã„\n\n- PACMAN\n\t- Apple M1 CPUã®ãƒã‚¤ãƒ³ã‚¿ãƒ¼\n\t- [PACMAN (pacmanattack.com)](https://pacmanattack.com/)\n- Spectre\n\t- Branch Target Buffer: BPB\n\t- å±é™ºæ€§\n\t- Mitigation\n\t\t- Spectre-v1 SWAPGS\n\t\t\t- kernel parameter `nospectre_v1`\n\t\t- Spectre-v2 Retpoline\n\t\t\t- LFENCE/JMP\n\t\t\t- kernel parameter `nospectre_v2`\n\t\t- Spectre-v3 KPTI\n\t\t\t- kernel parameter\n\t\t\t\t- `pti=off`\n\t\t\t\t- `nopti`\n\t\t\t\t- `noibrs`\n\t\t\t\t- `noibpb`\n\t\t\t\t- `nospec_store_bypass_disable`\n\t- [KB4073119: Windows client guidance for IT Pros to protect against silicon-based microarchitectural and speculative execution side-channel vulnerabilities (microsoft.com)](https://support.microsoft.com/en-us/topic/kb4073119-windows-client-guidance-for-it-pros-to-protect-against-silicon-based-microarchitectural-and-speculative-execution-side-channel-vulnerabilities-35820a8a-ae13-1299-88cc-357f104f5b11)\n- MDS/Zombieload\n\t- https://www.kernel.org/doc/html/latest/admin-guide/hw-vuln/mds.html\n- TSX Asynchronous Abort\n\t- https://www.kernel.org/doc/html/latest/admin-guide/hw-vuln/tsx_async_abort.html\n- iTLB multihit\n","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Processor/rootkit":{"title":"Root kit","content":"\nNorth bridge\n[dsn2021.pdf (xgao-work.github.io)](https://xgao-work.github.io/paper/dsn2021.pdf)\n\n\n## PCI Rootkit\n[Implementing and Detecting a PCI Rootkit](https://www.blackhat.com/presentations/bh-dc-07/Heasman/Paper/bh-dc-07-Heasman-WP.pdf)\n\nPeripheral Component Interconnect: PCI ã¯ãƒã‚¶ãƒ¼ãƒœãƒ¼ãƒ‰\n\n","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Profiler/perf":{"title":"","content":"\n[perfã‹ã‚‰èª­ã¿è§£ããƒ—ãƒ­ã‚»ãƒƒã‚µãƒˆãƒ¬ãƒ¼ã‚¹ã®ä»•çµ„ã¿ (perf + Intel PT/ARM CoreSight) - Qiita](https://qiita.com/RKX1209/items/41758b6dcac6fb2fcee6)\n\n#Loki ","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Programming/Editor":{"title":"","content":"## Vim\n\n## VSCode\n\n## è‡ªä½œã‚¨ãƒ‡ã‚£ã‚¿\n","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Programming/LLVM":{"title":"LLVM","content":"\n[LLVMã®æ–°ã—ã„ä¸­é–“è¨€èªè¡¨ç¾ MLIRã‚’è©¦ã™(1. Getting Started) - FPGAé–‹ç™ºæ—¥è¨˜ (hatenablog.com)](https://msyksphinz.hatenablog.com/entry/2020/05/30/040000)","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Programming/Programming":{"title":"ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª","content":"\n# ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªå…¥é–€\n\nä»»æ„ã®å®Ÿè¡Œã¯ãƒ‡ãƒ¼ã‚¿ã¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã§æ§‹æˆã•ã‚Œã¦ã„ã‚‹ã€‚\nãã‚Œã‚’äººé–“ã«ã¨ã£ã¦ã‚ã‹ã‚Šã‚„ã™ãæ›¸ãã‚„ã™ã„å½¢ã«ã™ã‚‹ãŒãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªãŒå¿…è¦ã¨ã•ã‚Œã‚‹ç†ç”±ã§ã‚ã‚Šã€ãƒ‡ãƒ¼ã‚¿ã¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®é–¢ä¿‚æ€§ã«ãŠã‘ã‚‹å¤šæ§˜ãªãƒ‡ã‚¶ã‚¤ãƒ³ãŒãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã®å¤šæ§˜æ€§ã®ç†ç”±ã§ã‚ã‚‹ã€‚\n\nãƒ‡ãƒ¼ã‚¿ã¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®é–¢ä¿‚æ€§ã¯ãƒ­ã‚¸ãƒƒã‚¯ã‚„éšå±¤æ§‹é€ ã«ã‚ˆã£ã¦è¡¨ç¾ã•ã‚Œã‚‹ã€‚\nãã—ã¦è¨ˆç®—ãƒ¢ãƒ‡ãƒ«ã«æ„å‘³ã‚’ä¸ãˆã‚‹æ„å‘³è«–çš„ãªè§£é‡ˆã‚’å–ã‚Šè¾¼ã¿ã¤ã¤è§£èª¬ã™ã‚‹ã€‚\n\næœ€åˆã¯æŠ½è±¡çš„ã§ç°¡å˜ãªã¨ã“ã‚ã‹ã‚‰å§‹ã¾ã‚Šã€å…·ä½“çš„ã§é›£ã—ã„å•é¡Œã«ç«‹ã¡å‘ã‹ã†ã€‚\nå¯¾è±¡è€…\n- ä»»æ„ã®è¨€èªã‚’ç´ æ—©ãç¿’å¾—ã—ãŸã„æ–¹\n- åŸºç¤ã‹ã‚‰ç†è§£ã—ã¦å®‰å¿ƒã—ãŸã„æ–¹\n- æ–°ã—ã„è¨€èªã‚’å®Ÿè£…ã—ãŸã„æ–¹\n\næƒ…å ±ã«è¸Šã‚‰ã•ã‚Œãšã¡ã‚ƒã‚“ã¨è»¸ã‚’æŒã¤ã«ã¯è«–ç†ã§æƒ…å ±ã‚’ä½œã‚Šå‡ºã•ãªã„ã¨ã„ã‘ãªã„ã€‚\n\n## ç¬¬ä¸€ç«  å‹\n\nTODO: ãªãœã“ã“ã§å‹ã‚’èª¬æ˜ã™ã‚‹ã®ã‹\né¦´æŸ“ã¿æ·±ã„ã‹ã‚‰ï¼Ÿå‰æçŸ¥è­˜ã¨ã—ã¦æŒã£ã¦ã„ãªã„ã¨æŠ½è±¡è«–ã‚’å±•é–‹ã§ããªã„ã‹ã‚‰ï¼Ÿã‚ã„ã¾ã„ãªå®šç¾©ã‚„åŒç¾©ãªè¨€è‘‰ãŒå„è¨€èªã«ã‚ã‚‹ã®ã§ã¾ã¨ã‚ã¦æ‰±ã†ç‚ºã«ä¸€å›å¿…è¦\n\nã“ã“ã§ã¯å…¬ç†çš„ã«è¨ˆç®—ã™ã‚‹ã¨ã“ã‚ã¯ã¤ã¾ã‚‰ã‚“ã®ã§çœã„ã¦ã€ãªã‚‹ã¹ãå®Ÿè·µçš„ã€ã‚¢ã‚¤ãƒ‡ã‚¢ãŒå¾—ã‚‰ã‚Œã‚‹ç‚¹ã‚’ç´¹ä»‹ã™ã‚‹ã€‚ä½•æ•…ã‹ã¨ã„ã†ã¨ç§ã¯è¨ˆç®—ã‚ˆã‚ŠæŠ½è±¡çš„ãªã“ã¨ã®æ–¹ãŒå¥½ãã ã‹ã‚‰ã§ã™ã€‚(æ­£ç›´, å‹ç†è«–ã®è©±ã¯æµ·å¤–å¤§ã®è¬›ç¾©è³‡æ–™ã¨è«–æ–‡ä»¥å¤–ã¯ãƒŠãƒ³ã‚»ãƒ³ã‚¹ãªè­°è«–ã—ã‹ã—ãªã„è³‡æ–™ãŒè±Šå¯Œã«ã‚ã£ã¦ï½“)ä¸è¶³åˆ†ã«ã¤ã„ã¦ã¯å‹ç†è«–ã®æ–¹ã§èª¬æ˜ã—ã¾ã™ã€‚($\\lambda, \\pi, \\mu$ è¨ˆç®—, Boehm-Berarducci encodingãªã©)\n\n### ãƒ‡ãƒ¼ã‚¿ã®è¡¨ç¾æ–¹æ³•\n- ç›´ç©å‹ $A_1\\times A_2$\n\t- ç›´åˆ—ã«ãƒ‡ãƒ¼ã‚¿ã‚’ç¹‹ã’ã‚‹.\n\t- ex.) æ§‹é€ ä½“, ãƒ¡ã‚½ãƒƒãƒ‰ã®ãªã„ã‚¯ãƒ©ã‚¹, é…åˆ—, Vectorãªã©\n\t- Intersection Type ã‚’ç”¨ã„ã¦ã‚‚æ§‹æˆã§ãã‚‹.\n\t- ç›´ç©å‹ã®ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†è§£ã—ã¦å„è¦ç´ ã‚’å–ã‚Šå‡ºã™æ©Ÿèƒ½\n\t\t- æ§‹é€ åŒ–æŸç¸› (Structured Bindings, C++)\n\t\t- å¤šé‡ä»£å…¥ (Multiple assignment, Pythonã‚„Ruby)\n\t\t- åˆ†å‰²ä»£å…¥ (Destructuring assignment, JavaScript)\n- ç›´å’Œå‹ $A_1+A_2$\n\t- è­˜åˆ¥å­ã¨å„å‹ã®ãƒ‡ãƒ¼ã‚¿é•·ã®æœ€å¤§å€¤ã‚’ç¢ºä¿ã—ã¦æ ¼ç´ã™ã‚‹.\n\t- ex.) Rustã®enum\n- ãƒ¦ãƒ‹ã‚ªãƒ³å‹ $A_1\\cup A_2$\n\t- ç›´å’Œå‹ã¨ã»ã¼åŒã˜ã§ã‚ã‚‹ãŒã€åä¾‹ã¨ã—ã¦ã™ã¹ã¦ã®å‹ã« null ã‚„ undefined ãªã©ãŒã‚ã‚‹ TypeScript ã¯ç›´å’Œå‹ã¨åŒå€¤ã§ã¯ãªã„ã€‚\n\t- ex.) Cã®union, ã‚¿ã‚°ä»˜ãå…±ç”¨ä½“, variant\n- ç¯©å‹ (refinement types) $\\lbrace x\\in A\\mid P(x)\\rbrace$\n\t- ãƒ‡ãƒ¼ã‚¿ã«åˆ¶ç´„ã‚’æŒãŸã›ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚\n\t- å®Ÿè£…ã‚’ç¯©å‹ã«åˆ†ã‘ä¸ãˆã¦ã‚·ãƒ³ãƒ—ãƒ«ã«å‡ºæ¥ã‚‹\n\t- ex.) Liquid Haskell\n\nãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒ\n- ç›´ç©å‹ã‚„ç›´å’Œå‹ã®ã¿ãªã‚‰ãšã‚¯ãƒ©ã‚¹ã®ç¶™æ‰¿é–¢ä¿‚ã€ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã‚’ç”¨ã„ã¦ç°¡æ½”ã«æ›¸ã‘ã‚‹ã€‚\n- [ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æŠ€æ³•: ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒ (zenn.dev)](https://zenn.dev/blackenedgold/books/compiling-pattern-matching)\n\n### ãƒ­ã‚¸ãƒƒã‚¯ã®è¡¨ç¾æ–¹æ³•\n- é–¢æ•°å‹ $f\\colon A_1\\to A_2 \\to\\ldots\\to A_n \\to R$\n\t- ã‚«ãƒªãƒ¼åŒ–\n\t- optionalå¼•æ•°ã‚’è€ƒãˆã‚‹ã¨ã‚«ãƒªãƒ¼åŒ–ã¯ç­‹ãŒè‰¯ããªã„.\n- ã‚¯ãƒ©ã‚¹ $(A, f_1,\\ldots,f_n) \\text{s.t.} f_i\\colon A\\to\\ldots\\to R$\n\n### å‹ã®é †åº\né †åºã€æ•°ã§ã„ã†ä¸ç­‰å·ã‚’å‹ã«ä¸ãˆã¾ã™ã€‚\n\ntrait\n- $(f)$ $f$ ã§ç”Ÿæˆã•ã‚Œã‚‹trait\n- ex.) Rust: trait, Swift: protocol, extension, Go: interface\n\néƒ¨åˆ†å‹\n- é–¢æ•°ã¨å‹ã®é›†åˆã®éƒ¨åˆ†é›†åˆã¨ã—ã¦å®šç¾©ã§ãã‚‹\n- $A_1 \\subset A_1\\cup A_2$\n- $A_1 \\subset A_1\\times A_2$\n- $(f_1, f_2) \\subset (f_1)$\n\néƒ¨åˆ†å‹ã®æ€§è³ª\n- å…±å¤‰æ€§ (covariant)\n\t- $A_1 \\subset A_2 \\implies I[A_1] \\subset I[A_2]$\n- åå¤‰æ€§ (contravariant)\n\t- $A_1 \\subset A_2 \\implies I[A_1] \\supset I[A_2]$\n\t- é–¢æ•°ã®å¼•æ•° $A_1 \\subset A_2 \\implies A_1\\to R \\supset A_2\\to R$\n- åŒå¤‰æ€§ (bivariant)\n\t- å…±å¤‰ã‹ã¤åå¤‰\n\t- $A_1 \\subset A_2 \\implies I[A_1] = I[A_2]$\n- éå¤‰æ€§ (nonvariant)\n\t- å…±å¤‰ã§ã‚‚åå¤‰ã§ã‚‚ãªã„\n\n### å‹ã®æ§‹æˆã¨åˆ†é¡\n- ä¾å­˜å‹ $\\Pi_{x\\colon A}B(x)$\n- ä¾å­˜å’Œå‹ $\\sum_{x\\colon A}B(x)$\n- å…¨ç§°é‡åŒ– $\\forall$\n- å­˜åœ¨é‡åŒ– $\\exists$\n- å¸°ç´çš„å‹\n\t- å®‡å®™ã¨ä¾å­˜ç©ä»¥å¤–ã®ã»ã¨ã‚“ã©ã®å‹ã¯å¸°ç´çš„å‹ã¨ã—ã¦å®šç¾©ã•ã‚Œã‚‹.\n\t- æ§‹æˆè¦å‰‡, æ§‹æˆå­, é™¤å»å­, è¨ˆç®—è¦å‰‡\n- å‹æ¼”ç®—å­\n\t- å¤šç›¸ã‚«ã‚¤ãƒ³ãƒ‰ã®æŠ½è±¡åŒ–\n- å‹ã‚¯ãƒ©ã‚¹ trait $\\lbrace A\\in\\mathcal{U}\\mid f_1,\\ldots,f_n \\in A\\rbrace$\n- Row Type\n\n### ã‚ˆã‚Šé«˜åº¦ãªå‹\n- åœæ­¢æ€§\n- å‚ç…§é€éæ€§\n\n### å‹ã®æ„å‘³ã‚’æ‰ãˆã‚‹\n- ãƒ¢ãƒŠãƒ‰/ã‚³ãƒ¢ãƒŠãƒ‰\n\t- ç°¡æ½”ãªçŠ¶æ…‹é·ç§»ãŒã§ãã‚‹\n\nå‹ãƒ¬ãƒ™ãƒ«â—‹â—‹\n- å‹ã‚’ç”¨ã„ã¦ã‚ã‚‹ä»£æ•°ã¨åŒå€¤ãªå‹ã‚’å®šç¾©ã™ã‚‹ã“ã¨\n- å‹ãƒ¬ãƒ™ãƒ«è‡ªç„¶æ•°\n\t- ä¾‹ãˆã° $A_0 = A$, $A_{n+1}=A_0\\times \\ldots\\times A_n$ ã¨å®šç¾©ã™ã‚‹ã¨åŠ ç®—ã€æ¸›ç®—ã€ä¹—ç®—ã€é †åºãªã©ã‚’åŸ‹ã‚è¾¼ã‚€ã“ã¨ãŒã§ãã€è‡ªç„¶æ•°ã¨åŒå‹ãªä»£æ•°ã¨ãªã‚‹ã€‚\n- å‹ãƒ¬ãƒ™ãƒ«æ–‡å­—åˆ—\n\t- TypeScript ã«ã¯ã‚‚ã¨ã‚‚ã¨ã‚ã‚‹\n\n### å‹æ¨è«–\nä¾‹ãˆã°æœ€ã‚‚åŸºç¤çš„ãªå‹ã‚·ã‚¹ãƒ†ãƒ ã®ä¸€ã¤ã§ã‚ã‚‹æ§‹é€ çš„å‹ã‚·ã‚¹ãƒ†ãƒ  [Substructural Type Systems](https://www.cs.cmu.edu/~janh/courses/ra19/assets/pdf/lect04.pdf) ã¯æ¬¡ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã‚‹. å¤‰æ•°ãŒä½¿ãˆã‚‹å›æ•°ã¨ä½¿ã†é †ç•ªã«ã¤ã„ã¦åˆ¶ç´„ã®ã‚ã‚‹å‹ã‚·ã‚¹ãƒ†ãƒ ã§ã‚ã‚‹.\n\n| å‹ã‚·ã‚¹ãƒ†ãƒ             | 0å› (Weakening) | 1å› (Base) | 2å›ä»¥ä¸Š (Contraction) | é †åºã®å¯æ›æ€§ (Exchange) | ç”¨é€”                          |\n| --------------------- |:---------------:|:----------:|:---------------------:|:-----------------------:| ----------------------------- |\n| Ordered Type Systems  |        X        |     O      |           X           |            X            | stack-based memory allocation |\n| Linear Type Systems   |        X        |     O      |           X           |            O            | mutable reference             |\n| Affine Type Systems   |        O        |     O      |           X           |            O            |                               |\n| Relevant Type Systems |        X        |     O      |           O           |            O            |                               |\n| Normal Type Systems   |        O        |     O      |           O           |            O            | ä¸€èˆ¬ã®å‹ã‚·ã‚¹ãƒ†ãƒ               |\n\n(ç·šå½¢å‹ã‚„ã‚¢ãƒ•ã‚£ãƒ³å‹ãªã©ã¯å®Ÿéš›ã«Idris 2ã§æ•°é‡çš„å‹ã¨ã—ã¦ã€Haskellã§Multiplicity Polymorphismã¨ã—ã¦å°å…¥ã•ã‚Œã€å¤šç›¸å‹ã®è¡¨ç¾ã‚’ã‚ˆã‚Šè‰¯ãã™ã‚‹ãŸã‚ã«ä½¿ã‚ã‚Œã¦ã„ã¾ã™ã€‚)\n\nã‚‚ã†å°‘ã—æœ¬æ ¼çš„ãªå‹ç†è«–ã ã¨å¤šç›¸å‹ãŒå°å…¥ã•ã‚Œã¦é«˜ç´šæ„ŸãŒã‚ã‚Šã¾ã™. æ¬¡ã®ã‚ˆã†ãªå‹ç†è«–ãŒä»£è¡¨çš„ã§ã™.\n[ã€Œå‹ã®ç†è«–ã€ã¨è¨¼æ˜æ”¯æ´ã‚·ã‚¹ãƒ†ãƒ  -- COQã®ä¸–ç•Œ](https://www.slideshare.net/maruyama097/coq-31970579)\n\n- ãƒ•ãƒ­ãƒ¼çš„ãªå‹æ¨è«–\n\t- ã“ã®ä¸­ã§æœ€ã‚‚ç°¡å˜ã§åŸºç¤çš„ãªå‹æ¨è«–. C++, Java, TypeScript ãªã©ã§ä½¿ã‚ã‚Œã¦ã„ã¾ã™.\n\t- åˆæœŸåŒ–æ™‚ã«ä»£å…¥æ¼”ç®—å­ `=` ã®ä¸¡è¾ºã®å‹ãŒä¸€è‡´ã™ã‚‹ã“ã¨ã‚’åˆ©ç”¨ã—ã¦å‹æ¨è«–ã™ã‚‹.\n- Martin-LÃ¶f å‹ç†è«–\n\t- ãƒãƒ«ãƒ†ã‚£ãƒ³=ãƒ¬ãƒ¼ãƒ•ã¨èª­ã¿ã¾ã™.\n- Hindley-Milner å‹ç†è«–\n\t- å¼·åŠ›ãªå‹ç†è«–ã§ã™. Haskell, Rust, SML, OCaml ãªã©ã§ä½¿ã‚ã‚Œã¦ã„ã¾ã™.\n\t- é€£ç«‹æ–¹ç¨‹å¼ã‚’è§£ãã‚ˆã†ã«å¤‰æ•°ã®å‹ã‚’æ±ºå®šã—ã¦ã„ã, æ±ºå®šã§ããªã‘ã‚Œã°å¤šç›¸æ€§ã‚’æŒãŸã›ã‚‹ã“ã¨ã§å¿…ãšæ­£å½“ã«å‹æ¨è«–ã§ãã‚‹ã¨ã„ã†æ–¹æ³•ãŒã‚ã‚Š, Hindley-Milner å‹ç†è«–ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ  W ã¨å‘¼ã°ã‚Œã¦ã„ã¾ã™.\n- Homotopy Type Theory (HoTT)\n\t- Martin-LÃ¶f å‹ç†è«–ã®æ‹¡å¼µã§ç›´æ„Ÿä¸»ç¾©çš„å‹ç†è«–ã‚’è§£æ±ºã•ã›ãŸç†è«–ã‚‰ã—ã„. ã„ã¤ã‹ç†è§£ã—ãŸã„.\n\n## ç¬¬äºŒç«  å†…éƒ¨å®Ÿè£…\nã‚³ãƒ¼ãƒ‰è§£æãªã©ã§è§£æ±ºã™ã‚‹å•é¡Œã¯ã‚ˆãNPå®Œå…¨ãªå•é¡Œã§ã‚ã‚‹ã“ã¨ãŒå¤šã„ã€‚ã—ã‹ã—ä½•ãŒNPå®Œå…¨ã§ä½•ãŒãã†ã§ã¯ãªã„ã‹åŒºåˆ¥ã™ã‚‹æŠ€è¡“ã‚’æŒã¤äººã¯å°‘ãªã„ã¨æ€ã†ã€‚\nã¾ãŸå†…éƒ¨å®Ÿè£…ã‚’ç†è§£ã™ã‚Œã°ã€ã‚ˆã‚Šã‚ˆã„è¨€èªã¨ã„ã†ã®ãŒåˆ†ã‹ã£ã¦ãã‚‹ã ã‚ã†ã€‚\n\nã‚ˆã‚Šã‚ˆã„è¨€èªã‚’çŸ¥ã‚‹ç‚ºã ã‘ã«å¿…è¦ãªå†…éƒ¨å®Ÿè£…ã¨ã¯ã©ã“ã¾ã§ãªã®ã‹ï¼Ÿãã‚Œã«ã¯ä»Šã¾ã§ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã®æ­´å²ãªã—ã§è€ƒãˆã‚‹ã“ã¨ã¯ã§ããªã„ã€‚ç§ã¯ä½ãƒ¬ã‚¤ãƒ¤ã‚’æŠ½è±¡åŒ–ã—, ãƒ­ã‚¸ãƒƒã‚¯ã«æ³¨ç›®ã§ãã‚‹ã‚ˆã†ã«æ”¹å–„ã•ã‚Œã¦ããŸã¨è€ƒãˆã¦ã„ã‚‹ã€‚ãã®ç‚º, ã‚¼ãƒ­ã‚³ã‚¹ãƒˆæŠ½è±¡åŒ–ãŒã§ãã‚‹ã‹ã©ã†ã‹ã®å¢ƒç•Œã‹ã‚‰ãŒèª¬æ˜ã‚’ä¸ãˆã‚‹ã®ã«å¦¥å½“ã§ã‚ã‚ã†ã€‚\n\nã“ã“ã§å˜èªã®å®šç¾©ã‚’è¡Œã†.\n- é™çš„ $\\iff$ ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚\n- å‹•çš„ $\\iff$ å®Ÿè¡Œæ™‚\n- é™çš„å‹ä»˜ã‘è¨€èª $\\iff$ ã€Œå‹ã‚·ã‚¹ãƒ†ãƒ ã‚’åˆ©ç”¨ã™ã‚‹ã€ã‹ã¤ã€Œã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚’åˆ©ç”¨ã™ã‚‹ã€è¨€èª\n- å‹•çš„å‹ä»˜ã‘è¨€èª $\\iff$ ã€Œå‹ã‚·ã‚¹ãƒ†ãƒ ã‚’åˆ©ç”¨ã—ãªã„ã€ã¾ãŸã¯ã€Œã‚¤ãƒ³ã‚¿ãƒ—ãƒªã‚¿ã‚’åˆ©ç”¨ã™ã‚‹ã€è¨€èª\n\næ³¨æ„ã¨ã—ã¦ã¯å‹•çš„ã«å‹ãŒæ±ºå®šã•ã‚Œã‚‹å ´åˆã‚‚é™çš„å‹ä»˜ã‘è¨€èªã¨å‘¼ã‚“ã§ã„ã‚‹ç‚¹ã§ã™. ä¾‹ãˆã°\n\n### ãƒ¡ãƒ¢ãƒªé ˜åŸŸ\nãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æ¸¡ã•ã‚Œã‚‹ãƒ¡ãƒ¢ãƒªã¯ãƒ­ãƒ¼ãƒ€ã«ã‚ˆã£ã¦ä»¥ä¸‹ã®ã‚ˆã†ã«åˆ†ã‘ã‚‰ã‚Œã¦ã„ã‚‹ã€‚\n- ãƒ‡ãƒ¼ã‚¿é ˜åŸŸ\n\t- æ–‡å­—åˆ—ãªã©é™çš„ã«æ±ºå®šã—ãŸã‚‚ã®ãŒæ ¼ç´ã•ã‚Œã‚‹\n\t- åå‰ç©ºé–“, ãƒãƒ³ã‚°ãƒªãƒ³ã‚°\n- ã‚¹ã‚¿ãƒƒã‚¯é ˜åŸŸ\n\t- push/popã®ã‚ˆã†ã«LIFOã§ãƒ¡ãƒ¢ãƒªã‚’ç®¡ç†ã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ã‚µã‚¤ã‚ºãŒç¢ºå®šã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n- ãƒ’ãƒ¼ãƒ—é ˜åŸŸ\n\t- malloc/freeã§ä»»æ„ã‚µã‚¤ã‚ºã®ãƒ¡ãƒ¢ãƒªè³‡æºã‚’O(1)ã§é…ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚\n\t- double free, dangling pointer\n- ãƒ†ã‚­ã‚¹ãƒˆé ˜åŸŸ\n\t- ã‚³ãƒ¼ãƒ‰ãŒæ ¼ç´ã•ã‚Œã‚‹ã€‚\n- Thread Local Storage\n\n### é–¢æ•°\nã“ã“ã§ã®é–¢æ•°ã¯ã‚ã‚‹ RIP ã«æ„å‘³ã‚’ä¸ãˆã‚‹æ“ä½œã¨å®šç¾©ã™ã‚‹. ã™ã‚‹ã¨é–¢æ•°ã¯å„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã§å‘¼ã°ã‚Œã¦ã„ã‚‹åå‰ã§è¡¨ã™ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã‚‹.\n- é–¢æ•°\n- generator\n- ç¶™ç¶š\n\t- Continuation-Passing Style: CPSå¤‰æ›\n\t- call/cc\n\t- shift/reset\n\t- control/prompt\n\n### å¤šç›¸æ€§ (Polymorphism)\nå…·ä½“çš„ã«ä¾å­˜å‹ã‚’å®Ÿè£…ã™ã‚‹å¤šç›¸æ€§ã‚’ç´¹ä»‹ã™ã‚‹ã€‚\n- ã‚¢ãƒ‰ãƒ›ãƒƒã‚¯å¤šç›¸ (ad hoc polymorphism)\n- ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å¤šç›¸ (parametric polymorphism)\n- ã‚µãƒ–ã‚¿ã‚¤ãƒ”ãƒ³ã‚°å¤šç›¸ (subtyping polymorphism)\n\n**ã‚¢ãƒ‰ãƒ›ãƒƒã‚¯å¤šç›¸**\n\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¼•æ•°\n- ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰\n- ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰\n- å‹ã‚¯ãƒ©ã‚¹ (Haskell)\n- ãƒˆãƒ¬ã‚¤ãƒˆ (Rust)\n- ãƒ—ãƒ­ãƒˆã‚³ãƒ« (Swift)\n- implicit (Scala)\n\n**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å¤šç›¸**\n\n- ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹\n\t- ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ (Java)\n\t- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ (C++)\n\t- letå¤šç›¸ (MLç³»è¨€èª)\n\nã“ã‚Œã‚‰ã®å®Ÿè£…ã«ã¯ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒã‚’ç”¨ã„ã‚‹\n- äº‹å‰ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°\n\t- é™çš„ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒ\n\t\t- é™çš„ã«å‘¼ã³å‡ºã•ã‚ŒãŸé–¢æ•°ã®å¼•æ•°ã®å‹ã‚’è§£æã—ã¦è‡ªå‹•ã§å®Ÿè£…ã™ã‚‹.\n- é…å»¶ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°\n\t- å‹•çš„ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒ\n\t\t- vtable\n\t- å¤šé‡ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒ\n\nã“ã‚Œèª¬æ˜ã™ã‚‹ãªã‚‰C++ã‚„Rustã ã‘ã§ã¯ãªãHaskellã‚„Scalaã®å†…éƒ¨å®Ÿè£…ã‚’è¦‹ã¦ãŠããŸã„.\n\n**ã‚µãƒ–ã‚¿ã‚¤ãƒ”ãƒ³ã‚°å¤šç›¸**\n\néƒ¨åˆ†å‹ã®åˆ¤å®š\n- å…¬ç§°çš„éƒ¨åˆ†å‹ (Nominal subtyping)\n\t- éƒ¨åˆ†å‹ã¨ã—ã¦å®šç¾©ã—ãŸã‚‚ã®ã®ã¿éƒ¨åˆ†å‹ã¨ã¿ãªã™.\n\t- å¤šæ§˜ãªé™çš„è§£æãŒã§ãã‚‹.\n\t- ex.) C++, Java, Rust\n- æ§‹é€ çš„éƒ¨åˆ†å‹ (Structual subtyping)\n\t- ã™ã¹ã¦ã®è¦ç´ ãŒåŒ…æ‹¬ã•ã‚Œã¦ã„ã‚Œã°éƒ¨åˆ†å‹ã¨ã¿ãªã™.\n\t- æ„å‘³çš„ã«ã¯éƒ¨åˆ†å‹ã§ã¯ãªã„ã‚‚ã®ã‚‚æ§‹é€ çš„ã«éƒ¨åˆ†å‹ã§ã‚ã‚‹ã¨è¦‹ãªã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹.\n\t- ex.) TypeScript, Haskell, OCaml, Elm\n- ãƒ€ãƒƒã‚¯ã‚¿ã‚¤ãƒ”ãƒ³ã‚° (Duck typing)\n\t- éƒ¨åˆ†å‹ã®æ¦‚å¿µã¯ãªã, å‘¼ã³å‡ºã—æ™‚ã«åŒä¸€ã®è¦ç´ ãŒã‚ã‚‹ã‹æ¤œæŸ»ã™ã‚‹.\n\t- ãƒ€ãƒƒã‚¯ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ãŒå®Ÿè£…ã•ã‚Œã‚‹ã®ã¯å‹•çš„å‹ä»˜ã‘è¨€èªãŒå¤šã, ãã®ã¨ã, å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ãŒæ¤œå‡ºã•ã‚Œãš, é‹ç”¨æ™‚ã«è„†å¼±æ€§ã¨ã—ã¦ç™ºè¦‹ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹.\n\t- ex.) Ruby, Python\n\n| æ–¹æ³• |\tè¨˜è¿°æ³• | è¤‡æ•°æŒ‡å®š | é–¢æ•°ã®ã‚ªãƒ¼ãƒãƒ©ã‚¤ãƒ‰ |\n| -------- | -------- | -------- | ------- |\n|é€šå¸¸ã®ç¶™æ‰¿ï¼ˆextendsï¼‰\t|class B extends A {}\t|âœ–\t|é©å®œå¿…è¦ãªé–¢æ•°ã®ã¿\n|abstractã‚’åˆ©ç”¨ã—ãŸç¶™æ‰¿ï¼ˆextendsï¼‰|\tclass B extends A {}â€»Aã¯åŸºæœ¬çš„ã«abstractã‚¯ãƒ©ã‚¹|\tâœ–\t|å…¨é–¢æ•°å¿…é ˆ\n|Interfaceã¨ã¯ï¼ˆimplementsï¼‰|\tclass B implements A {}\t|â—‹\t|å…¨é–¢æ•°å¿…é ˆ|\n|Mixinsï¼ˆwithï¼‰|\tclass B with A {}â€»Aã¯åŸºæœ¬çš„ã«mixinã‚¯ãƒ©ã‚¹|\tâ—‹|\té©å®œå¿…è¦ãªé–¢æ•°ã®ã¿\n\n- [ã€Dartã€‘abstract,mixin,extends,implements,withç­‰ã®ä½¿ã„æ–¹åŸºç¤ (zenn.dev)](https://zenn.dev/iwaku/articles/2020-12-16-iwaku)\n- [C++ã¨ 4 ã¤ã®ã‚­ãƒ£ã‚¹ãƒˆæ¼”ç®— | yunabe.jp](https://www.yunabe.jp/docs/cpp_casts.html)\n\nä»®æƒ³é–¢æ•°\n- ç¶™æ‰¿å…ˆã§åˆ¥ã€…ã®å‡¦ç†ã‚’ã™ã‚‹ã‘ã‚Œã©ã‚‚è¦ªã‚¯ãƒ©ã‚¹ã‹ã‚‰ã¯åŒã˜é–¢æ•°ã¨ã—ã¦å‘¼ã³ãŸã„ã¨ã„ã†æŠ½è±¡åŒ–ã‚’è¡Œã†ã¨ãã«ä½¿ã„ã¾ã™ã€‚ã“ã®å‡¦ç†ã®è£ã§ã¯é–¢æ•°ãŒå‘¼ã°ã‚Œã‚‹ã¨vtable(ä»®æƒ³é–¢æ•°ãƒ†ãƒ¼ãƒ–ãƒ«: å‹ã¨é–¢æ•°ã®å¯¾å¿œè¡¨)ã‚’è¦‹ã¦ã€çš„ç¢ºãªé–¢æ•°ã¸é£›ã°ã™ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚’å‹•çš„ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒã¾ãŸã¯å‹•çš„ãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ ã¨å‘¼ã³ã¾ã™ã€‚ã“ã‚Œã¯vtableã‚’çµŒç”±ã™ã‚‹ã®ã§æ¯”è¼ƒçš„é…ã„ã§ã™ã€‚(ãƒ¡ãƒ¢ãƒªã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’èª­ã‚“ã§ãã“ã¸ã‚¸ãƒ£ãƒ³ãƒ—ã™ã‚‹ã“ã¨ã¯åˆ†å²äºˆæ¸¬ãŒåŠ¹ãã«ãã„ã‹ã‚‰ã€TODO:æœ¬å½“ã«åŠ¹ãã«ãã„ï¼Ÿ)\n\n### æœ€é©åŒ– (Optimization)\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒè¡Œã†æœ€é©åŒ–å‡¦ç†ã¯ä½ãƒ¬ã‚¤ãƒ¤ã«ä¾å­˜ã™ã‚‹ã‚‚ã®ãŒå¤šã„ã§ã™. ãã®ç‚¹, ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®æŠ½è±¡åŒ–ã¨ã‚‚è¨€ãˆã¾ã™. ãã‚Œã‚ˆã‚Šã‚³ãƒ¼ãƒ‰ã®èª­ã¿ã‚„ã™ã•ã¨é«˜é€ŸåŒ–ã«ã¯ç›¸åã™ã‚‹å ´åˆãŒã‚ˆãã‚ã‚Šã¾ã™. ãã‚Œã‚‰ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒæœ€é©åŒ–ã—, ãã®ä¸¡ç«‹ã‚’ç›®æŒ‡ã—ã¾ã™.\n\nå˜ã«æœ€é©åŒ–ã¨è¨€ã£ãŸã¨ã, 3ã¤ã®æœ€é©åŒ–ã®ã©ã‚Œã‹ã¾ãŸã¯ã™ã¹ã¦ã‚’æŒ‡ã—ã¦ã„ã¾ã™.\n- å®Ÿè¡Œé€Ÿåº¦æœ€é©åŒ–\n- ãƒ¡ãƒ¢ãƒªæœ€é©åŒ–\n- ã‚³ãƒ¼ãƒ‰ã‚µã‚¤ã‚ºæœ€é©åŒ–\n\nSSAå½¢å¼ã«è½ã¨ã—è¾¼ã‚€ã¨CFGã¨å˜ç´”ãªåŒå€¤é–¢ä¿‚ã«ãªã‚Š, ã‚°ãƒ©ãƒ•ç†è«–ã‚’æŒã¡è¾¼ã‚“ã§ã‚ˆã‚Šæ·±ã„æœ€é©åŒ–ã‚’è€ƒãˆã‚‰ã‚Œã¾ã™.\n\nç¾ä»£ã®ä¸»è¦ãªã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®æœ€é©åŒ–ã¯å·¨å¤§ã¨ãªã£ã¦ã„ã‚‹ãŒ, æœ€ã‚‚ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãª8ã¤ã®æœ€é©åŒ–ã•ãˆå®Ÿè£…ã™ã‚Œã°æœ€å¤§80%ã®æ€§èƒ½ã¾ã§å‘ä¸Šã—ã¾ã™.\n\n- ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³å±•é–‹\n\t- ã‚ã‚‹é–¢æ•°ãŒé »ç¹ã«å‘¼ã³å‡ºã•ã‚Œã‚‹ã¨ã, é–¢æ•°ã®ã‚³ãƒ¼ãƒ‰ã‚’å±•é–‹ã—, é–¢æ•°å‘¼ã³å‡ºã—ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ã‚’æ¸›ã‚‰ã™.\n- ãƒ«ãƒ¼ãƒ—å±•é–‹, ãƒ™ã‚¯ãƒˆãƒ«åŒ–\n\t- å‘½ä»¤ãƒ¬ãƒ™ãƒ«ã®ä¸¦åˆ—åŒ–ã‚’è¡Œã†ç‚ºã«ãƒ«ãƒ¼ãƒ—ã‚’å±•é–‹ã™ã‚‹.\n\t- ãƒ«ãƒ¼ãƒ—æ¯ã®åˆ†å²ã¯æ¸›ã‚‹ãŒ, ãƒ«ãƒ¼ãƒ—å†…ã«è¤‡é›‘ãªåˆ¶å¾¡ãƒ•ãƒ­ãƒ¼ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã¨åˆ†å²äºˆæ¸¬ãŒå½“ãŸã‚Šã¥ã‚‰ããªã‚‹.\n\t- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒŸã‚¹ãŒå¢—åŠ ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹.\n- å…±é€šéƒ¨åˆ†å¼é™¤å» (CSE; Common Subexpression Elimination)\n- ãƒ‡ãƒƒãƒ‰ã‚³ãƒ¼ãƒ‰é™¤å» (DCE; Dead Code Elimination)\n\t- ã‚ˆãå®šæ•°ç•³ã¿è¾¼ã¿ã‚’ã™ã‚‹ã¨å‘½ä»¤åˆ—ãŒ\"æ­»ã¬\"ã“ã¨ãŒã‚ã‚‹. å®Ÿè¡Œæ™‚ã«1åº¦ã‚‚åˆ°é”ã§ããªã„ã‚³ãƒ¼ãƒ‰ã‚’ãƒ‡ãƒƒãƒ‰ã‚³ãƒ¼ãƒ‰ã¨å‘¼ã³, ãã‚Œã‚‰ã¯å‰Šé™¤ã§ãã‚‹.\n- ã‚³ãƒ¼ãƒ‰ç§»å‹•\n- å®šæ•°ç•³ã¿è¾¼ã¿, å®šæ•°ä¼æ’­ (Constant Fold, Constant Propagation)\n\t- ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«å®šæ•°ã®è¨ˆç®—ã‚’ã™ã‚‹.\n\t- å®šæ•°ä¼æ¬ constexpr, å®šæ•°ç•³ã¿è¾¼ã¿ consteval\n- Peepholeæœ€é©åŒ–\n\nãã®ä»–ã®æœ€é©åŒ–\n- æœ«å°¾å‘¼ã³å‡ºã—æœ€é©åŒ–\n- Profile-Guided Optimization\n\t- å®Ÿè¡Œã—ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã—ãŸãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã„ã¦ã‚ˆã‚Šè‰¯ã„æœ€é©åŒ–ã‚’è¡Œã†\n\t- [ã‚¬ã‚¤ãƒ‰ä»˜ãæœ€é©åŒ–ã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ« | Microsoft Learn](https://learn.microsoft.com/ja-jp/cpp/build/profile-guided-optimizations?view=msvc-170)\n\t- BOLT (Facebook)\n\t- llvm-propeller (Google)\n- Copy On Write\n\t- ã‚ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹æ™‚, èª­ã¿å–ã‚Šæ™‚ã¯å‰ãƒ‡ãƒ¼ã‚¿ã‚’å‚ç…§ã™ã‚Œã°ã‚ˆã, æ›¸ãè¾¼ã¿æ™‚ã¾ã§ã‚³ãƒ”ãƒ¼ã‚’é…å»¶ã•ã›ã‚Œã°ã‚ˆã„ã§ã™.\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥å±€æ‰€åŒ–\n- Strength Reduction\n\t- ã‚³ã‚¹ãƒˆã®é«˜ã„æ¼”ç®—ã‚’ä½ã„æ¼”ç®—ã«ç½®ãæ›ãˆã‚‹æœ€é©åŒ–\n\nè³‡æ–™\n- [CompilerTalkFinal (venge.net)](http://venge.net/graydon/talks/CompilerTalk-2019.pdf)\n- [A Catalogue of Optimizing Transformations (rice.edu)](https://www.clear.rice.edu/comp512/Lectures/Papers/1971-allen-catalog.pdf)\n\nJIT (Just In Time Compiler)\n- å®Ÿè¡Œæ™‚ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦æœ€é©åŒ–ã‚’è¡Œã†.\n- method JIT\n- tracing JIT\n- YJIT\n\nVM (Virtual Machine)\n- YARV\n\t- [YARV Maniacs ã€ç¬¬ 1 å›ã€‘ ã€Ruby ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰å®Œå…¨è§£èª¬ã€ä¸å®Œå…¨è§£èª¬ (rubyist.net)](https://magazine.rubyist.net/articles/0006/0006-YarvManiacs.html)\n- HHVM Hac\n- ErlangVM\n\nRAII; Resource Acquisition Is Initialization\n- ãƒªã‚½ãƒ¼ã‚¹ã®ç¢ºä¿(Acquisition)ã¨è§£æ”¾ã‚’å¤‰æ•°ã®åˆæœŸåŒ–(Initialization)ã¨ç ´æ£„ã«ç´ä»˜ã‘ã‚‹ã¨ã„ã†è€ƒãˆæ–¹ã‚’æŒ‡ã™è¨€è‘‰ã§ã™.\n- ç”Ÿå­˜æœŸé–“ã¯ã‚¹ã‚³ãƒ¼ãƒ—å†…\n- è§£æ”¾ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ãŒã‚¹ã‚³ãƒ¼ãƒ—ã‚’æŠœã‘ã‚‹ã¨ã\n- ã©ã‚“ãªãƒªã‚½ãƒ¼ã‚¹ã§ã‚‚å¯¾å¿œã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã‚‹ã ã‘\n- è§£æ”¾å‡¦ç†ã‚’æ‰‹ã§æ›¸ã‹ãªãã¦ã‚‚å‹æ‰‹ã«è§£æ”¾ã—ã¦ãã‚Œã‚‹\n- è§£æ”¾ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ãŒæ˜ç¢º\n- ä¾‹å¤–é€å‡ºæ™‚ã‚‚ã¡ã‚ƒã‚“ã¨å¯¾å¿œ\n- è§£æ”¾å‡¦ç†ã®å¤±æ•—ã‚’ãƒˆãƒ©ãƒƒãƒ—ã—ãŸã„å ´åˆã«ã¯ã©ã†ã—ã‚ˆã†ã‚‚ãªãä½¿ã„ã«ãã„\n\nLifetime\n\nGC (Gabage Collection)\n- å‚ç…§ã‚«ã‚¦ãƒ³ãƒˆãŒ0ã«ãªã£ãŸã‚‚ã®ã‚’è‡ªå‹•çš„ã«è§£æ”¾ã™ã‚‹\n- Mark and Sweep\n- Copy GC\n- Stop the World\n- [Project Zero: The quantum state of Linux kernel garbage collection CVE-2021-0920 (Part I) (googleprojectzero.blogspot.com)](https://googleprojectzero.blogspot.com/2022/08/the-quantum-state-of-linux-kernel.html)\n\nãƒ ãƒ¼ãƒ–ã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹\n- mutable reference ã¯ Linear type ã‚’æ ¹æ‹ ã«ã—ã¦ã„ã‚‹.\n- ãƒ€ãƒ³ã‚°ãƒªãƒ³ã‚°ãƒã‚¤ãƒ³ã‚¿ã‚’ç„¡ãã™\n- smart pointer\n- miracle pointer\n\t- è„†å¼±æ€§ã®1ã¤, Use after free ã‚’ç”¨ã„ã‚‹ã“ã¨ã§æ§˜ã€…ãª exploit ãŒã§ãã‚‹ç‚º, ã§ãã‚‹é™ã‚Šç„¡ãã—ãŸã„\n\t- [Google Online Security Blog: Use-after-freedom: MiraclePtr (googleblog.com)](https://security.googleblog.com/2022/09/use-after-freedom-miracleptr.html)\n- [ã¯ã˜ã‚ã« - Rustã§ç‹¬è‡ªã®ã‚¹ãƒ©ã‚¤ã‚¹å‹ã‚’å®šç¾©ã™ã‚‹æœ¬ (lo48576.gitlab.io)](https://lo48576.gitlab.io/rust-custom-slice-book/introduction.html)\n- [Rust ã§å˜æ–¹å‘ LinkedList ã‚’å®Ÿè£…ã™ã‚‹ | 53ningen.com](https://53ningen.com/linkedlist-in-rust)\n\nã‚¨ãƒ©ãƒ¼å‡¦ç†\n- try-catch (Java, JavaScript)\n- Result (TypeScript, Rust), Opaque Result Type (Swift)\n\n### ãƒ©ã‚¤ãƒ–ãƒ©ãƒª (Library)\nä¸‹ã®ã“ã¨ã‚’æ°—ã«ã—ãªã„ã§é–‹ç™ºã§ãã‚‹.\n- é™çš„ãƒ©ã‚¤ãƒ–ãƒ©ãƒª\n- å‹•çš„ãƒ©ã‚¤ãƒ–ãƒ©ãƒª\n\t- glibc\n\n## ç¬¬ä¸‰ç«  é–‹ç™ºä½“é¨“\næ€æƒ³ãŒæ··ã˜ã‚Šã‚„ã™ã„è©±é¡Œãªã®ã§æ¥µåŠ›æ§˜ã€…ãªæ„è¦‹ã‚’å–ã‚Šè¾¼ã‚€ã¹ã\n\né–‹ç™ºä½“é¨“ãŒè‰¯ã„çŠ¶æ…‹ã¨ã¯, çŸ­æœŸçš„ã«ã‚‚é•·æœŸçš„ã«ã‚‚æœ€çŸ­æ™‚é–“ã§ã‚³ãƒ¼ãƒ‰ã‚’èª­ã¿, æ›¸ãã“ã¨ãŒã§ãã‚‹ã“ã¨ã¨ã™ã‚‹. ã“ã‚Œã«ã¯2ã¤ã®è»¸ã§è€ƒãˆã‚‹.\n\n- ã‚ã‹ã‚Šã‚„ã™ã•\n- ãƒ•ã‚§ã‚¤ãƒ«ã‚»ãƒ¼ãƒ•\n\nã“ã‚Œã«å¯¾ã—ã¦ä»¥ä¸‹ã®ã‚ˆã†ãªå•é¡Œã‚’è€ƒãˆã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹.\n\n- Abstraction leak\n\t- ã†ã¾ãæŠ½è±¡åŒ–ã—ãŸã¤ã‚‚ã‚Šã§ã‚‚ã€ã©ã“ã‹ã«å¿…ãšæ¼ã‚ŒãŒå‡ºã¦ãã¦ã—ã¾ã†\n- å¹¾ä½•çš„, ç·¨é›†è·é›¢\n- ãƒã‚°\n\nã“ã‚Œã‚’è§£æ±ºã™ã‚‹ã«ã¯æ¬¡ã®ã‚ˆã†ãªæ–¹æ³•ãŒã‚ã‚‹.\n\n- éšå±¤æ§‹é€ \n\t- import classã®ç¶™æ‰¿\n- æƒ…å ±éš è”½\n\t- ã‚«ãƒ—ã‚»ãƒ«åŒ– private public\n- ä¾å­˜æ€§æ³¨å…¥\n- æƒ…å ±ã®ç²—å¯†\n- å…·ä½“çš„ã§æ­£ç¢ºã§ç°¡æ½”ãªæ–‡ç« \n- 1åº¦ã«1ã¤ã®æƒ…å ±, æƒ…å ±ã®ç‹¬ç«‹æ€§\n- ä¸€è²«æ€§\n- ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ \n- ãƒ‘ã‚¿ãƒ¼ãƒ³\n- Immutable\n\n### ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘\nã‚«ãƒ—ã‚»ãƒ«åŒ– getter/setter\næœ¬æ¥ã¯ã€å€¤å¼•ãåˆ¤å®šã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’ã©ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«é…ã™ã‚‹ã‹ã‚’æ±ºã‚ã‚‹ã«ã‚ãŸã£ã¦ã€ã©ã®ã‚ˆã†ãªçŸ¥è­˜ã‚’éš è”½ã™ã¹ãã‹ã€ã‚ã‚‹ã„ã¯è£è¿”ã—ã¦è¨€ãˆã°ã€ã©ã®ã‚ˆã†ãªçŸ¥è­˜ã¯é–‹ç¤ºã—ã¦æ§‹ã‚ãªã„ã‹ã¨ã„ã†ç‚¹ã«æ€ã„ã‚’ã‚ãã‚‰ã™ã¹ãã§ã—ãŸã€‚\nè§£æ±ºç­–ã¯ã€ã€Œãƒ‡ãƒ¼ã‚¿ã¨ãƒ­ã‚¸ãƒƒã‚¯ã‚’ä¸€ä½“ã«ã€ã¨ã„ã†ã€ã©ã¡ã‚‰ã‹ã¨ã„ã†ã¨ã‚²ãƒ¼ãƒ ã®ãƒ«ãƒ¼ãƒ«ã®ã‚ˆã†ãªå…·ä½“çš„ã§å˜ç´”ãªãƒ«ãƒ¼ãƒ«ã‹ã‚‰è¦–ç‚¹ã‚’å¼•ãä¸Šã’ã€ã€Œæƒ…å ±éš è”½ï¼ˆï¼çŸ¥è­˜éš è”½ï¼‰ã€ã®ã‚ˆã†ãªã€ã‚ˆã‚Šæœ¬è³ªçš„ãªã€ç›®çš„å¿—å‘çš„ãªè¨­è¨ˆåŸå‰‡ã«ç«‹ã¡å¸°ã£ã¦è€ƒãˆã‚‹ã“ã¨ã§ã™ã€‚\nä½•ã‚’éš è”½ã—ã¦ä½•ã‚’è¡¨ã«å‡ºã™ã®ã‹ã¨ã„ã†è¨­è¨ˆåˆ¤æ–­\nå¼•æ•°ã«é–¢æ•°ã‚’å…¥ã‚Œã‚‹ã“ã¨ã‚‚ã§ãã‚‹ã€‚ã“ã®ã‚ˆã†ãªç‰¹æ€§ã‚’æŒã¤è¨€èªã‚’é–¢æ•°å‹è¨€èªã¨å‘¼ã¶ã€‚\nVisitorãƒ‘ã‚¿ãƒ¼ãƒ³\n\n### é–¢æ•°å‹è¨€èª\né…å»¶å‡¦ç†\n- æ¼”ç®—è‡ªä½“ã‚’thunkã¨ã„ã†ã‚‚ã®ã§åŒ…ã¿ã€è©•ä¾¡ã—ã‚ã¨è¨€ã‚ã‚Œã‚‹ã¾ã§ã¯ãã®çŠ¶æ…‹ã§ä¿æŒã—ã¦ãŠãã¾ã™ã€‚ãã—ã¦è©•ä¾¡ã™ã‚‹ã¨ãªã£ãŸã¨ãã«ãã‚Œã‚’åºƒã’ã¦æ¼”ç®—ã—ã¾ã™ã€‚  \n- thunkã§åŒ…ã‚€åˆ†æ™‚é–“ãŒã‹ã‹ã‚‹ã€‚\n\n### Clean Architecture\n\n### ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ \n- é™çš„è§£æ\n\t- LSP (è£œå®Œ, ãƒã‚¤ãƒ©ã‚¤ãƒˆ, å®šç¾©ã‚¸ãƒ£ãƒ³ãƒ—, å‹ãƒ’ãƒ³ãƒˆ (inlay hints, etc...) ãªã©)\n\t- type checker\n\t- formatter, linter\n\t- ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ\n\t- è„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³\n\t- ã‚³ãƒ¼ãƒ«ã‚°ãƒ©ãƒ•\n- å‹•çš„è§£æ\n\t- ãƒ‡ãƒãƒƒã‚¬\n\t- ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ©\n\t- fuzzer\n\t- Concolic Execution\n- ãƒ†ã‚¹ãƒˆ\n\t- CI/CD\n- VSCodeæ‹¡å¼µæ©Ÿèƒ½\n- ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£\n- ãƒ©ãƒ³ã‚¿ã‚¤ãƒ \n- FFI\n- ãƒ©ã‚¤ãƒ–ãƒ©ãƒª\n\n## ç¬¬å››ç«  Concurrency\n\nãƒ—ãƒ­ã‚»ã‚¹ã¯1ã¤ä»¥ä¸Šã®ã‚¹ãƒ¬ãƒƒãƒ‰ã‚’æŒã¤.\n\nConcurrency\n- coroutine\n- future/Promise\n- async/await ä¸¦è¡Œ\n\t- Golang event loop è¤‡æ•°ã®process\n- Actor\n- atomic\n\t- compare and swap\n- Semaphore\n\nãã‚Œãã‚Œã®æ‰‹æ³•\n- CPSå¤‰æ›, ã‚¹ãƒ†ãƒ¼ãƒˆãƒã‚·ãƒ³ã‚’æ›¸ã\n\t- ã¨ã¦ã‚‚é¢å€’\n- è¨€èªã«ã‚ˆã‚‹ã‚°ãƒªãƒ¼ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰\n\t- node\n\t\t- æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’éåŒæœŸã®ã¿ã«ã—ãŸ\n\t\t- single thread ãª event loop ä¸Šã§ä¸¦åˆ—å‡¦ç†ã‚’å®Ÿç¾ã—ã¦ã„ã‚‹.\n\t- coroutine\n\t\t- è»½é‡ã‚¹ãƒ¬ãƒƒãƒ‰\n\t\t- Go (goroutines)\n\t- Erlang, Haskell\n\t\t- ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§IOãŒãƒ–ãƒ­ãƒƒã‚¯ã—ãªã„ä»•çµ„ã¿\n\t\t- Erlang (ErlangVM)\n\t- Algebraic Effects and Handlers\n\t\t- IOã§ãƒ–ãƒ­ãƒƒã‚¯ã™ã‚‹/ã—ãªã„ã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§åˆ¶å¾¡ã§ãã‚‹ã—ã€IOã¯2ç³»çµ±ã«åˆ†ã‹ã‚Œãªã„ã—ã€ã‚¿ã‚¹ã‚¯ã‚’ä¸­æ–­ã—ãŸã‚Šå†é–‹ã—ãŸã‚Šã™ã‚‹ä»•çµ„ã¿ã‚‚è‡ªå‹•ã§ã¤ã„ã¦ãã¾ã™ã€‚\n- ä¾¿åˆ©æ§‹æ–‡ã®ã‚µãƒãƒ¼ãƒˆ\n\t- async/await\n\t\t- é«˜éšé–¢æ•°ã¨ã®è¦ªå’Œæ€§ãŒã‚ˆããªã„\n- (é™å®š)ç¶™ç¶š\n\nasync/await $\\iff$ goroutine\n- async $\\iff$ goroutineä½œã£ã¦channelæ¸¡ã—ã¦\n- await $\\iff$ channelå¾…ã¤\n- eventloop ã® queue $\\iff$ channel ã®queue\n\nasync iterator\n- Arc/Rc\n- [Rustã® `Arc` ã‚’èª­ã‚€(1): Arc/Rcã®åŸºæœ¬ - Qiita](https://qiita.com/qnighy/items/4bbbb20e71cf4ae527b9)\n\næ„å‘³è«–\n- happens-before å®Ÿè¡Œé †åº\n- read-modify-write\n- data race free\n- sequentially consistent atomics(ç´ ç›´ãªatomics)\n\t- Java (volatile), C++ (default atomics), Go (sync/atomic), JavaScript\n\n- pthread_spinlock_t\n- [Rustã® std::sync::RwLock ã¯Linuxã§writer starvationå•é¡Œã‚’èµ·ã“ã™ (macOSãªã‚‰å¹³æ°—) | ä¿ºã¨ãŠå‰ã¨laysakura](https://laysakura.github.io/2022/03/30/rust-RwLock-writer-starvation/)\n## ãã®ä»–\n\næœªå®šç¾©å‹•ä½œ\n- [C è¨€èªã¨ãã®æœªå®šç¾©å‹•ä½œã‚’ç¤¾ä¼šè¨€èªå­¦çš„è¦–ç‚¹ã‹ã‚‰ã‚‚è¦‹ã‚‹ - Google ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.google.com/document/d/1gpw9bbTC-8lhLBlK7QtQQQURxyoqoQAbvL9nQtGlM_k/edit)\n- [Cover - Effective Rust (lurklurk.org)](https://lurklurk.org/effective-rust/)\n","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Programming/Shell":{"title":"ã‚·ã‚§ãƒ«","content":"\nShell\n\nã‚·ã‚§ãƒ«å…¥é–€\n- [é›°å›²æ°—ã§ã‚·ã‚§ãƒ«ã‚’ä½¿ã£ã¦ã„ã‚‹äººã®ãŸã‚ã®ã‚·ã‚§ãƒ«å…¥é–€ | Îºeenã®Happy HacÎºing Blog (keens.github.io)](https://keens.github.io/blog/2017/10/17/fun_ikideshieruwotsukatteiruninnotamenoshierunyuumon/)\n- [bash tips - ã‚‚ã‚‚ã„ã‚ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ (hatenablog.com)](https://inaz2.hatenablog.com/entry/2014/12/14/013234)\n\n`/dev/ttyS0`\n\nShell Shock (CVE-2014-6271)\n- [bash ã®è„†å¼±æ€§ \"Shell Shock\" ã®ã‚ã£ã¡ã‚ƒç´°ã‹ã„è©± (CVE-2014-6271) - ã‚‚ã‚ãš blog (hatenablog.com)](https://moro-archive.hatenablog.com/entry/2014/09/27/200553)\n\n\nã‚³ãƒãƒ³ãƒ‰\n- sftp\n- scp\n- rsync\n- shopt\n- [gum ã‚’ä½¿ã£ã¦ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®è¡¨ç¤ºã‚’ã‚«ãƒƒã‚³ã‚ˆãã™ã‚‹ (zenn.dev)](https://zenn.dev/kou_pg_0131/articles/gum-introduction)\n\n## Makefile\n- [A Tutorial on Portable Makefiles (nullprogram.com)](https://nullprogram.com/blog/2017/08/20/)\n\n## å†ªç­‰æ€§ (idempotency)\n- Ansible\n- Terraform\n\n## ã‚·ã‚§ãƒ«èŠ¸\n\n## æ–°ã—ã„ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆ\nå…ƒã‹ã‚‰ã¹ãç­‰æ€§ã‚’æ‹…ä¿ã—ã¦ã¦ãƒ‘ã‚¤ãƒ—ãŒãƒ¢ãƒŠãƒ‰ã§ã‚ã‚‹å‹ã‚·ã‚¹ãƒ†ãƒ ã‚’æŒã¤ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚ã£ãŸã‚‰å¬‰ã—ã„ã®ã‹ãª?\nã“ã‚Œã€ã¹ãç­‰æ€§ã‚’æ‹…ä¿ã—ãŸã‚³ãƒãƒ³ãƒ‰ã‚’ä½œã‚‹ã®ã¨ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒé•ã†.\n\né€†ã«ã¹ãç­‰æ€§ã«ã—ã¦ã»ã—ããªã„ã“ã¨ã¨ã¯\n- Aã‚’è¿½åŠ ã™ã‚‹ã¨ã, AãŒæ—¢ã«ã‚ã‚‹ã¨ãã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã»ã—ã„\n- Aã‚’å‰Šé™¤ã™ã‚‹ã¨ã, AãŒæ—¢ã«ãªã„ã¨ãã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã»ã—ã„\n- Aã‚’è¡¨ç¤ºã™ã‚‹ã¨ã, AãŒä¸€ã¤ã‚‚ãªã„ã¨ãã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã»ã—ã„\n\nã‚¨ãƒ©ãƒ¼å‹ãŒåŒã˜ã«ãªã‚‹ã‚ˆã†ã«ã™ã‚‹ã¹ã\n\n$$\n\\begin{aligned}\n\\tau \u0026:= (\\tau\\to\\tau/\\tau) \\mid p\\to\\tau \\mid \\mathrm{result} \\tau \\tau \\\\\ne \u0026:= \\mathrm{do} x e; e \\mid \\mathrm{return}\\ e \\mid (e\\mid e) \\mid e\\ \\mathrm{2\\\u0026\u003e1} \\mid c\\ a \\mid \\ldots \\\\\n\n\\end{aligned}\n$$","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Programming/Type":{"title":"å‹ç†è«–","content":"\n# å‹ç†è«–\n\nå‹ã¯ã‚°ãƒ­ã‚¿ãƒ³ãƒ‡ã‚£ãƒ¼ã‚¯å®‡å®™ã®ä¸­ã§ã‚ã‚‹ã“ã¨ã‚’æ–­ã£ã¦ãŠãã€‚\n\n### è«–ç†\næœ€å°è¿°èªè«–ç†+çŸ›ç›¾å¾‹ = ç›´è¦³ä¸»ç¾©è«–ç†\nç›´è¦³ä¸»ç¾©è«–ç†+æ’ä¸­å¾‹ = å¤å…¸è«–ç†: ã‚²ãƒ³ãƒ„ã‚§ãƒ³ã®è‡ªç„¶æ¼”ç¹¹(NK)\n\n\n### å‹ç„¡ã—ãƒ©ãƒ ãƒ€è¨ˆç®—\nÎ±-å¤‰æ› : æŸç¸›å¤‰æ•°ã®åå‰ã¯é‡è¦ã§ã¯ãªã„\nÎ²-ç°¡ç´„ : é–¢æ•°é©ç”¨\nÎ·-å¤‰æ› : 2ã¤ã®é–¢æ•°ã«ã¤ã„ã¦ä»»æ„ã®å¼•æ•°ã‚’é–¢æ•°é©ç”¨ã—ãŸå€¤ãŒç­‰ã—ã„ãªã‚‰ã°ã€2ã¤ã®é–¢æ•°ã¯ç­‰ã—ã„\n\né ˜åŸŸç†è«–\n\n[SKIã‚³ãƒ³ãƒ“ãƒãƒ¼ã‚¿ã§éŠã‚“ã§ã¿ã‚ˆã† - Qiita](https://qiita.com/Anko_9801/items/74af196cce123550001a)\n\n### å‹ä»˜ããƒ©ãƒ ãƒ€è¨ˆç®—\nå‹ãƒã‚§ãƒƒã‚¯ãŒå®Ÿè¡Œå‰ã«ä¸€åº¦ã ã‘è¡Œã†ã“ã¨\n\n#### ãƒ©ãƒ ãƒ€ãƒ»ã‚­ãƒ¥ãƒ¼ãƒ–\n\n![[Pasted image 20220925021333.png]]\n\n- $\\lambda\\to$: å˜ç´”å‹ä»˜ããƒ©ãƒ ãƒ€è¨ˆç®—\n- $\\lambda 2$: äºŒéšå‘½é¡Œè«–ç† (System F)\nãƒ‘ãƒ©ãƒ¡ãƒˆãƒªãƒƒã‚¯å¤šç›¸, å…¨ç§°å‹\n- $\\lambda\\underline{\\omega}$: å¼±æ€§é«˜éšå‘½é¡Œè«–ç†\nå‹æ¼”ç®—å­\nç›´ç©å‹ã‚„å¤šç›¸ã‚«ã‚¤ãƒ³ãƒ‰ã¯å‹æ¼”ç®—å­ã®1ã¤\n- $\\lambda P$: ä¸€éšè¿°èªè«–ç†\nä¾å­˜å‹\nä¾å­˜å‹ã¯ã›ã„ãœã„array bound checkãã‚‰ã„ã«ã—ã‹ä½¿ãˆãªã„ã ã‚ã†\n- $F_{\u003c:}$:\nã‚µãƒ–ã‚¿ã‚¤ãƒ—\n- $\\lambda C$: Culculus of Constructions\n\n### Curry-Howard åŒå‹å¯¾å¿œ\n\n$p:_PP$ ãŒã€Œ$p$ ãŒå‘½é¡Œ $P$ ã®è¨¼æ˜ã§ã‚ã‚‹ã€\n$p:_TP$ ãŒã€Œ$p$ ãŒå‹ $P$ ã®è¦ç´ ã§ã‚ã‚‹ã€\n\n|è«–ç†|ãƒ—ãƒ­ã‚°ãƒ©ãƒ |\n|---|---|\n|è¨¼æ˜|å‹ã‚’æ§‹æˆã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ |\n|è«–ç†å¼|å‹|\n|ãªã‚‰ã°$\\implies$|å‹ $P\\to Q$|\n|å¦å®š $\\lnot$|å‹ $P\\to\\bot$|\n|ã‹ã¤ $\\land$|å‹ $P\\times Q$|\n|ã¾ãŸã¯ $\\lor$|å‹ $P+Q$|\n|ãƒ¢ãƒ¼ãƒ€ã‚¹ãƒãƒãƒ³ã‚¹|é–¢æ•°é©ç”¨ $(a \\to b) \\to a \\to b$|\n|ä¸‰æ®µè«–æ³•|é–¢æ•°åˆæˆ $(a \\to b) \\to (b \\to c) \\to (a \\to c)$ |\n|å¯¾å¶|$(a\\to b)\\to(b\\to\\bot)\\to(a\\to\\bot)$|\n|ç›´è¦³ä¸»ç¾©è«–ç†|Calculus of Constructions|\n|äºŒéšç›´è¦³ä¸»ç¾©è«–ç†|System F|\n|ã‚²ãƒ³ãƒ„ã‚§ãƒ³ã®è‡ªç„¶æ¼”ç¹¹(NK)|å‹ä»˜ããƒ©ãƒ ãƒ€è¨ˆç®—|\n|ãƒ‘ãƒ¼ã‚¹ã®æ³•å‰‡$((Pâ†’Q)â†’P)â†’P$|call/cc|\n|å¦å®šç¿»è¨³|CPSå¤‰æ›|\n\nGATsã¯ãƒ‡ãƒ¼ã‚¿ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã«ã‚ˆã£ã¦å‹ã‚’æŸ”è»Ÿã«æŒ‡å®šå‡ºæ¥ã‚‹æ©Ÿèƒ½ã§ã™ã€‚\ncall/cc\n\n## å‹ç†è«–\nMartin-Lof å‹ç†è«–\nHomotopy å‹ç†è«–\nCubical å‹ç†è«–","lastmodified":"2022-12-30T07:57:21.479263765Z","tags":null},"/other/Programming/meta_programming":{"title":"ãƒ¡ã‚¿ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°","content":"\nC++\n- constexpr\n- [ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ä¸­ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã€Œã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚Cã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã€ã‚’ã¤ãã£ãŸè©± - kw-udonã®æ—¥è¨˜ (hatenablog.com)](https://kw-udon.hatenablog.com/entry/2016/12/03/201722)\n\nruby\n- method_missing()\n- [[Ruby] method_missing()ã‚’å®Ÿç”¨ãƒ¬ãƒ™ãƒ«ã§ç†è§£ã™ã‚‹ - Qiita](https://qiita.com/kidach1/items/75ae4a29c99a79816384)","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/other/Programming/tips/go_gc":{"title":"","content":"# Go GC Pacer Redesign\n###### tags:`weekly tiken`\n\n## ãƒ¡ãƒ¢\nGoã®GCã«è©³ã—ããªã„äººå‘ã‘: https://deepu.tech/memory-management-in-golang/\n- ã“ã‚Œã¾ã§\n    - heap sizeãŒã—ãã„å€¤ï¼ˆ`freshly allocated / remaining memory \u003e GOGC/100`ï¼‰ã‚’è¶…ãˆã‚‹(or ä¸€å®šæ™‚é–“çµŒéâ†æ€ªã—ã„ã€å¿˜ã‚ŒãŸ)ã¨æ¬¡ã®ã‚µã‚¤ã‚¯ãƒ«ã‚’å®Ÿè¡Œ\n    - https://docs.google.com/document/d/1wmjrocXIWTr1JxU-3EQBI6BK6KgtiFArkG47XK73xIQ/edit\n\n\u003e The GOGC variable sets the initial garbage collection target percentage. A collection is triggered when the ratio of freshly allocated data to live data remaining after the previous collection reaches this percentage. The default is GOGC=100. Setting GOGC=off disables the garbage collector entirely. The runtime/debug package's SetGCPercent function allows changing this percentage at run time. See https://golang.org/pkg/runtime/debug/#SetGCPercent.\n\n- ã“ã‚Œã‹ã‚‰\n    - è‰²ã€…åŠ å‘³ã™ã‚‹\n\u003e 1. Including all non-heap sources of GC work (stacks, globals) in pacing decisions.\n\u003e â†’ will resolve long-standing issues with small heap sizes, allowing the Go garbage collector to scale down and act more predictably in general.\n\u003e 2. Reframing the pacing problem as a search problem, \"solved\" by a proportional-integral controller,\n\u003e â†’ will eliminate offset error present in the current design, will allow turning off mark-assist almost entirely outside of exceptional cases, improving allocation latency, and will enable clearer designs for setting memory limits on Go applications.\n\u003e 3. Extending the hard heap goal to the worst-case heap goal of the next GC,\n\u003e â†’ will enable smooth and consistent response to large changes in the live heap size with large GOGC values.\n\nGCã®å‡¦ç†è‡ªä½“ã¯RCã¨æ¯”ã¹ã¦é‡ã„ã®ã§ã€é©å®œã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’è¦‹è¨ˆã‚‰ã£ã¦å®Ÿè¡Œã•ã‚Œã‚‹ã€‚\n- ãƒ’ãƒ¼ãƒ—ã‚µã‚¤ã‚ºãŒå¤§ãããªã£ãŸã¨ã\n- ã‚·ã‚¹ãƒ†ãƒ ãŒæš‡ãªã¨ã\n- ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‹ã‚‰æ˜ç¤ºçš„ã«å‘¼ã³å‡ºã•ã‚ŒãŸã¨ã\n\nãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³: https://github.com/golang/go/issues/42430\n\nJavaã¨ã‹ã¯ã©ã†ãªã£ã¦ã‚“ã®ï¼Ÿ\nä¾‹: https://wiki.openjdk.java.net/display/shenandoah/Main#Main-ImplementationOverview\nåŸºæœ¬ã¯heap sizeè¦‹ã¦ã‚‹ã‘ã©Heuristicsã®ã¨ã“ã«ãƒ¢ãƒ¼ãƒ‰ã¨ãã®èª¬æ˜ãŒã‚ã‚‹ã€‚\n\nGC PaceãŒãªãœå¤§äº‹ã‹\n\u003e These two goals are tightly related. If a garbage collection cycle starts too late, for instance, it may consume more CPU to avoid missing its target. If a cycle begins too early, it may end too early, resulting in GC cycles happening more often than expected.\n\n==CPU Utilization: 30% (GC 25%, assist 5%)==\n\u003e the steady-state is implicitly defined as: constant allocation rate, constant heap size, and constant heap composition (hence, constant mark rate). The pacer expects the application to settle on some average global behavior across GC cycles.\n\nbut still robust for transcient state, and this is acomplished by finding new steady-state. The GC makes allocating goroutines donate their time to assist the garbage collector, proportionally to the amount of memory that they allocate. \n\nwhat is propotional controller?\n\nwhat is assist system?\n\u003e The GC assist system operates by dynamically computing an assist ratio. The assist ratio is the slope of a curve in the space of allocation time and GC work time, a curve that the application is required to stay under. This assist ratio is then used as a conversion factor between the amount a goroutine has allocated, and how much GC assist work it should do. Meanwhile, GC workers generate assist credit from the work that they do and place it in a global pool that allocating goroutines may steal from to avoid having to assist.\n\nmeta-issues: https://github.com/golang/go/issues/42430\n\n## TODO\n- ä»¥å‰ã®ãƒšãƒ¼ã‚µãƒ¼ã®ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°\n    - https://cs.opensource.google/go/go/+/master:src/runtime/mgcpacer.go\n- assist systemã®å®Ÿè£…ï¼ˆGorutineã®global pool?ï¼‰\n- ç¾åœ¨ã®ãƒšãƒ¼ã‚µãƒ¼ãŒã©ã®ã‚ˆã†ã«åŠ å‘³ã™ã‚‹ã‚ˆã†ã«ãªã£ãŸã‹å®Ÿè£…ã‚’ç¢ºèª\n\n## refs\n- https://github.com/golang/go/issues/44167\n- https://github.com/golang/proposal/blob/master/design/44167-gc-pacer-redesign.md\n- https://github.com/golang/go/commit/a108b280bc724779ebaa6656d35f0fb307fb2a9b\n- https://github.com/golang/go/issues/14951\n- https://eng.uber.com/how-we-saved-70k-cores-across-30-mission-critical-services/\n- https://concertio.com/blog/optimizing-the-go-garbage-collector-and-concurrency/","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/other/Programming/tips/tips":{"title":"","content":"`inline` ã¯å‘¼ã³å‡ºã—åœ°ç‚¹ã§é–¢æ•°ã®ã‚³ãƒ¼ãƒ‰ã‚’å±•é–‹ã™ã‚‹.\n`constexpr` ã¯å‘¼ã³å‡ºã—åœ°ç‚¹ã§é™çš„ã«è¨ˆç®—ã—, å®šæ•°ã¨ã—ã¦ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³å±•é–‹ã•ã‚Œã‚‹.\n### ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®æœ€é©åŒ–æ‰‹æ³•: å®šæ•°ä¼æ¬ã§ååˆ†ã§ã¯ãªã„ã‹ï¼Ÿã¾ãŸãã‚Œã«ä»»ã›ã‚‹ã“ã¨ã¯ã§ããªã„ã®ã‹?\n- é–¢æ•°ã®å½¢ã ã¨å®šæ•°ä¼æ¬ã§ãã‚‹ã¨ã“ã‚ã‚‚ã§ããªã„ã®ã§æœ€é©åŒ–ã§ããªã„.\n- å®šæ•°ä¼æ¬å¯èƒ½é–¢æ•°ã¨åŒå€¤ãªæ€§è³ª\n- æŠ½è±¡åŒ–ã•ã‚ŒãŸæ©Ÿèƒ½ã‚’ä½¿ã†ã‚ˆã‚ŠæŠ½è±¡åŒ–ã•ã‚Œã¦ãªã„æ©Ÿèƒ½ã®æ–¹ãŒã‚ˆã„ã¨ã„ã†ã®ã¯æ”¹å–„ã™ã¹ã.\n\n- åœæ­¢æ€§å•é¡Œ(æ±ºã‚ã‚‰ã‚Œã‚‹æ€§è³ªã‚’eBPFã‚„)\n\né™çš„ã«è¨ˆç®—ã™ã‚‹ã«ã¯ã„ãã¤ã‹æ¡ä»¶ãŒå¿…è¦ã¨ãªã‚‹ãŒ C++ ã§ã¯æ¬¡ã®ã‚ˆã†ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹. constexpråˆ¶ç´„\n- constexprå¤‰æ•°ã¯åˆæœŸåŒ–æ™‚, constexpré–¢æ•°ã¯å‘¼ã³å‡ºã—æ™‚ã«é™çš„ã«æ¤œæŸ»ã™ã‚‹.\n- constexprå¤‰æ•°ã¯primitiveãªå€¤/æ¼”ç®—, constexprã‹ã¤é™çš„ã«æ±ºå®šå¯èƒ½ãªå¤‰æ•°/é–¢æ•°ã«ã‚ˆã£ã¦åˆæœŸåŒ–ã•ã‚Œã‚‹ã“ã¨.\n- constexpré–¢æ•°ã¯. ã¤ã¾ã‚Šã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¯èƒ½ã‹ã¯å‘¼ã³å‡ºã—æ™‚ã®å¼•æ•°ã«ä¾å­˜ã™ã‚‹.\n- constexpré–¢æ•°ã®å¼•æ•°ã«ã¯å®Ÿè¡Œæ™‚ã«ã—ã‹æ±ºã¾ã‚‰ãªã„å€¤(æ¨™æº–å…¥åŠ›, ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰èª­ã‚“ã å€¤, ä¹±æ•°ãªã©)ã‚’æ¸¡ã™ã“ã¨ãŒã§ãã‚‹.\n- constexpr ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé–¢æ•°ãŒã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¯èƒ½ã‹ã¯å‘¼ã³å‡ºã—æ™‚ã«ä¾å­˜ã™ã‚‹\n```cpp\ninline constexpr Type funcname() noexcept { }\n```\n`const` ã‚„ `private, public` ãªã©ã®ã‚¢ã‚¯ã‚»ã‚¹ä¿®é£¾å­, åå‰ç©ºé–“ãªã©ã®ã‚¹ã‚³ãƒ¼ãƒ—ã¯é™çš„ã«æ¤œæŸ»ã™ã‚‹ã“ã¨ã§æ€§è³ªã‚’ä¿è¨¼ã—, ãã®ä¿è¨¼ã‚’åˆ©ç”¨ã—ã¦ã‚³ãƒ¼ãƒ‰ã®è¦‹é€šã—ã‚’ã‚ˆãã—ãŸã‚Š, ãƒã‚°ã‚’é˜²ã’ã‚‹.\n`const` ã¯åˆæœŸåŒ–å¾Œã«äºŒåº¦ã¨å¤‰æ›´ã•ã‚Œãªã„å¤‰æ•°ã‚„é–¢æ•°ã§ã‚ã‚‹.\n\n\nC++20 `\u003cconcepts\u003e`\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/other/Programming/toolchain":{"title":"ãƒ„ãƒ¼ãƒ«ãƒã‚§ãƒ¼ãƒ³","content":"\n# toolchain\n\nãƒ„ãƒ¼ãƒ«ãƒã‚§ãƒ¼ãƒ³ã¨ã¯ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ä¸€é€£ã®å‡¦ç†ã«å¿…è¦ãªã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®ã“ã¨ã€‚è¦ã¯ã©ã‚“ãªé–‹ç™ºã«ã‚‚å¿…è¦ãªãƒ„ãƒ¼ãƒ«ã‚»ãƒƒãƒˆã§ã‚ã‚‹ã€‚\n\n![[toolchain.svg]]\n\n## ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©\n\n![[compiler.svg]]\n\n- glibc\n- [musl libc](https://musl.libc.org/)\n\n- [ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ä¸­ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã€Œã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚Cã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã€ã‚’ã¤ãã£ãŸè©± - kw-udonã®æ—¥è¨˜ (hatenablog.com)](https://kw-udon.hatenablog.com/entry/2016/12/03/201722)\n- [keiichiw/constexpr-8cc: Compile-time C Compiler implemented as C++14 constant expressions (github.com)](https://github.com/keiichiw/constexpr-8cc) \n- [ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚Brainfuckã‚³ãƒ³ãƒ‘ã‚¤ãƒ© â€•â€•C++14 constexpr ã®é€²æ­©ã¨é™ç•Œâ€•â€• - ãƒœãƒ¬ãƒ­æ‘ä¸Š - ENiyGmaA Code (hateblo.jp)](https://boleros.hateblo.jp/entry/2014/12/24/065155)\n- [go/compile.go at master Â· golang/go (github.com)](https://github.com/golang/go/blob/master/src/cmd/compile/internal/ssa/compile.go#L331)\n\n## disassembler\n\n## decompiler\n\nãƒã‚¤ãƒŠãƒªã‚’å…¥ã‚Œã¦LLVM IR ã«å¤‰æ›å¾Œ, æœ€é©åŒ–ã™ã‚‹\n[facebookincubator/BOLT: Binary Optimization and Layout Tool - A linux command-line utility used for optimizing performance of binaries (github.com)](https://github.com/facebookincubator/BOLT)\n\n\n## è‡ªä½œè¨€èª\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/other/Quantum/Quantum":{"title":"é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿","content":"\n## å¯¾è±¡èª­è€…\n- ã¨ã«ã‹ãé‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦ã¿ãŸã„\n\n## 1. åˆã‚ã«\n\n2019å¹´10æœˆ23æ—¥ã€Googleã®é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ãŒä»Šã¾ã§ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã‚ˆã‚Šé€Ÿãè¨ˆç®—å‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã£ãŸï¼ã¨ã„ã†äº‹ãŒã‚ã‚Šã¾ã—ãŸã­ã€‚æ™®æ®µä½¿ã£ã¦ã„ã‚‹æš—å·ãŒè§£èª­ã•ã‚Œæ‚ªç”¨ã•ã‚Œã‚‹ã‹ã‚‚ï¼ã‘ã©é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã¨ã‹é‡å­ã‚¢ãƒ‹ãƒ¼ãƒªãƒ³ã‚°ã€åå‰ã¯çŸ¥ã£ã¦ã‚‹ã‘ã©ä¸­ã§ä½•ã‚„ã£ã¦ã‚‹ã®ã‹ã•ã£ã±ã‚Šã‚ã‹ã‚‰ã‚“ã€œã¨ã„ã†äººã‚’è¦‹ã‹ã‘ã¾ã™ã€‚ãã“ã§ã“ã“ã§ã¯é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã‚’ä½“æ„Ÿã—ã¤ã¤ã€ä»•çµ„ã¿ã‚’ç†è§£ã—ã¦ã“ã†ã¨æ€ã„ã¾ã™ã€‚é‡å­å›è·¯ã‚’çµ„ã‚€éš›ã«é«˜æ ¡æ•°å­¦ã®çŸ¥è­˜ã¯å¿…è¦ã§ã™ãŒã€å‡ºæ¥ã‚‹ã ã‘ç°¡å˜ã«èª¬æ˜ã™ã‚‹ã®ã§ãã‚Œä»¥ä¸Šã®é‡å­åŠ›å­¦ãªã©ã®çŸ¥è­˜ã¯ç„¡ãã¦ã‚‚ã‚ã‹ã‚‹ã¨æ€ã„ã¾ã™ã€‚\n\n## 2. é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã£ã¦ãªã«ï¼Ÿ\n\nWikipediaã«ã‚ˆã‚‹ã¨\n\u003eé‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ ï¼ˆã‚Šã‚‡ã†ã—ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã€è‹±èªï¼šquantum computerï¼‰ ã¯ã€é‡å­åŠ›å­¦çš„ãªé‡ã­åˆã‚ã›ã‚’ç”¨ã„ã¦ä¸¦åˆ—æ€§ã‚’å®Ÿç¾ã™ã‚‹ã¨ã•ã‚Œã‚‹ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã€‚\né‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã¯ã€Œé‡å­ãƒ“ãƒƒãƒˆã€ (qubit; quantum bitã€ã‚­ãƒ¥ãƒ¼ãƒ“ãƒƒãƒˆ) ã«ã‚ˆã‚Šã€é‡ã­åˆã‚ã›çŠ¶æ…‹ã«ã‚ˆã£ã¦æƒ…å ±ã‚’æ‰±ã†ã€‚\nné‡å­ãƒ“ãƒƒãƒˆãŒã‚ã‚Œã°$2^n$ã®çŠ¶æ…‹ãŒåŒæ™‚ã«è¨ˆç®—ã•ã‚Œã€$2^n$å€‹ã®é‡ã­åˆã‚ã•ã‚ŒãŸçµæœãŒå¾—ã‚‰ã‚Œã‚‹ã€‚ã—ã‹ã—ã€é‡ã­åˆã‚ã•ã‚ŒãŸçµæœã‚’è¦³æ¸¬ã—ã¦ã‚‚ãƒ©ãƒ³ãƒ€ãƒ ã«é¸ã°ã‚ŒãŸçµæœãŒ1ã¤å¾—ã‚‰ã‚Œã‚‹ã ã‘ã§ã€å¤å…¸ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã«å¯¾ã™ã‚‹é«˜é€Ÿæ€§ã¯å¾—ã‚‰ã‚Œãªã„ã€‚(å¼•ç”¨å…ƒ:https://ja.wikipedia.org/wiki/é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿)\n\né‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã¨å¯¾æ¯”ã—ã¦ç¾åœ¨ä½¿ã‚ã‚Œã¦ã„ã‚‹ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚’å¤å…¸ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã¨ã—ã¾ã™ã€‚\n\n## 3. é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚’ä½¿ã†äº‹ã§å¬‰ã—ã„ã“ã¨ã¯ï¼Ÿ\n\n1994å¹´ã«ãƒ”ãƒ¼ã‚¿ãƒ¼ãƒ»ã‚·ãƒ§ã‚¢ï¼ˆPeter Shor)ã¯å¤å…¸ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã§ã¯è§£ãã“ã¨ãŒé›£ã—ã„å•é¡Œã§ã‚ã‚‹ç´ å› æ•°åˆ†è§£ã‚’é‡å­è¨ˆç®—ã«ã‚ˆã£ã¦å®¹æ˜“ãªå•é¡Œã«è½ã¨ã™ã‚·ãƒ§ãƒ¼ã‚¢ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨ã„ã†ã‚‚ã®ã‚’é–‹ç™ºã—ã¾ã—ãŸã€‚ãã‚Œã«ã‚ˆã£ã¦é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®ç ”ç©¶ã¯ã¨ã¦ã‚‚ç››ã‚“ã«ãªã‚Šã¾ã—ãŸã€‚ãªãœãªã‚‰æš—å·ã®ä¸­ã§ä»Šæœ€ã‚‚ã‚ˆãä½¿ã‚ã‚Œã¦ã„ã‚‹RSAæš—å·ã¯ç´ å› æ•°åˆ†è§£ã‚’ä½¿ã£ã¦æš—å·åŒ–ã—ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚ãã‚Œã‹ã‚‰è‰²ã€…ãªç ”ç©¶ãŒãªã•ã‚Œã€æ©Ÿæ¢°å­¦ç¿’ã‚’é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã§è¡Œã£ãŸã‚Š\n\n## 4. é‡å­ãƒ“ãƒƒãƒˆ\n\n### ãƒ–ãƒ©ã‚±ãƒƒãƒˆè¨˜æ³•\n\né‡å­åŠ›å­¦ã«ãŠã„ã¦é‡å­ã®çŠ¶æ…‹ã®è¨˜è¿°ã«å¿…è¦ãªã‚‚ã®ãŒãƒ–ãƒ©ã‚±ãƒƒãƒˆè¨˜æ³•ã§ã™ã€‚ãªã‚“ã‹ã‚ã£ã¡ã‚ƒé›£ã—ãã†ã¨æ€ã†ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã“ã‚Œã¯ãƒ™ã‚¯ãƒˆãƒ«ã‚’è¨€ã„æ›ãˆãŸã ã‘ã¨æ€ã£ã¦æ§‹ã‚ãªã„ã§ã™ã€‚å·¦ãŒã‚±ãƒƒãƒˆãƒ»ãƒ™ã‚¯ãƒˆãƒ«ã€å³ãŒãƒ–ãƒ©ãƒ»ãƒ™ã‚¯ãƒˆãƒ«ã¨å‘¼ã³ã¾ã™ã€‚ã“ã®è¨˜äº‹å†…ã§ã¯ã‚±ãƒƒãƒˆãƒ»ãƒ™ã‚¯ãƒˆãƒ«ã ã‘ã‚’ä½¿ã„ã¾ã™ã®ã§ãƒ–ãƒ©ã¨ã‚±ãƒƒãƒˆã‚’åŒºåˆ¥ã—ãªã„ã§ã€ã‚ããŸã ã®ãƒ™ã‚¯ãƒˆãƒ«ã­ã¨æ€ã£ã¦å¤§ä¸ˆå¤«ã§ã™ã€‚\n\n$$\n\\ket{\\psi} = \\begin{pmatrix} \na_0 \\\\\na_1 \\\\\n\\vdots \\\\\na_n \\\\\n\\vdots\n\\end{pmatrix}\n\\bra{\\psi}\n$$\n\n### é‡å­ãƒ“ãƒƒãƒˆ\nå¤å…¸ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã§æ‰±ã†ãƒ“ãƒƒãƒˆã¯0ã¨1ã¨ã„ã†æ•°å€¤ã‚’æ‰±ã„ã¾ã™ã€‚ã“ã‚Œã¯é›»åœ§ã®é«˜ä½ã«ã‚ˆã£ã¦è¡¨ç¾ã—ã¾ã™ã€‚ãã‚Œã«å¯¾ã—ã¦é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã¯æ•°å€¤ã§ã¯ãªãå›ºæœ‰ã®çŠ¶æ…‹ã‚’æŒã¡ã¾ã™ã€‚ã“ã‚Œã¯å¤å…¸ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®ãƒ“ãƒƒãƒˆã¨ã¯ã¨ã¦ã‚‚ã‹ã‘é›¢ã‚ŒãŸã‚‚ã®ã§ã‚ã‚‹ã®ã§é‡å­ãƒ“ãƒƒãƒˆãƒ»qubitã¨åŒºåˆ¥ã—ã¾ã™ã€‚ãã—ã¦å¤å…¸ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®ãƒ“ãƒƒãƒˆã¨å¯¾å¿œã™ã‚‹çŠ¶æ…‹ã‚’$\\ket{0}$ã¨$\\ket{1}$ã¨ã—ã¾ã™ã€‚$\\ket{0}$ã¨$\\ket{1}$ã¯ãã®çŠ¶æ…‹ãªã‚‰æ“ä½œã‚’ã—ãªã‘ã‚Œã°ãã®çŠ¶æ…‹ã®ã¾ã¾ã§ã€$\\ket{0}$ã¨$\\ket{1}$ä»¥å¤–ã®çŠ¶æ…‹ã«ã¯ãªã‚Šã¾ã›ã‚“ã€‚\n\n2é‡å­ãƒ“ãƒƒãƒˆã®å ´åˆã¯ãã‚Œãã‚ŒãŒç‹¬ç«‹ãªç‚ºãã‚Œã‚‰ã®çµ„ã¿åˆã‚ã›ã§è¡¨ç¾ã§ãã¾ã™ã€‚ã“ã‚Œã¯ç›´ç©ã‚’å–ã‚‹ã¨ã„ã„ã€2é‡å­ãƒ“ãƒƒãƒˆã®çŠ¶æ…‹ã¯$\\ket{0}\\otimes\\ket{1}$ã¨è¡¨ã—ã¾ã™ã€‚ã‚‚ã£ã¨å¢—ãˆã¦né‡å­ãƒ“ãƒƒãƒˆã®å ´åˆã‚‚ã“ã‚Œã§è¡¨ç¾ã§ãã¾ã™ãŒã€é¢å€’ãã•ã„ã®ã§\n$$ \\ket{011} = \\ket{0}\\otimes\\ket{1}\\otimes\\ket{1} $$\nã¨è¡¨ã™ã“ã¨ã«ã—ã¾ã™ã€‚\n\n### é‡ã­åˆã‚ã›ã®çŠ¶æ…‹\né‡å­ãƒ“ãƒƒãƒˆã¯$\\ket{0}$ã¨$\\ket{1}$ã ã‘ã§ã¯ãªãé‡ã­åˆã‚ã›ã®çŠ¶æ…‹ã‚’å–ã‚‹äº‹ãŒã§ãã€ã“ã®ã‚ˆã†ã«è¡¨ã—ã¾ã™ã€‚($c_0$ã¨$c_1$ã¯è¤‡ç´ æ•°)\n\n$$\n\\ket{\\psi} = c_0\\ket{0} + c_1\\ket{1}\\\\\n|c_0|^2 + |c_1|^2 = 1\n$$\n\nã“ã®ã‚ˆã†ã«$\\ket{0}$ã¨$\\ket{1}$ã«ãã‚Œãã‚Œè¤‡ç´ æ•°ã‚’æ›ã‘ãŸã‚‚ã®ã¨ãªã‚Šã¾ã™ã€‚ç¾å®Ÿä¸–ç•Œã«è¤‡ç´ æ•°ï¼Ÿã©ã†ã—ã¦ãã†ãªã‚‹ã®ï¼Ÿã¨è¨€ã‚ã‚Œã¦ã‚‚å®Ÿé¨“ã§ã®äº‹å®Ÿã¨çŸ›ç›¾ãŒèµ·ããªã„ã‹ã‚‰ã¨ã—ã‹è¨€ã„ã‚ˆã†ãŒã‚ã‚Šã¾ã›ã‚“ã€‚\n\né‡ã­åˆã‚ã›ã®çŠ¶æ…‹ã®ä¾‹ã¨ã—ã¦ã“ã®ã‚ˆã†ãªã‚‚ã®ã‚’è€ƒãˆã¾ã™ã€‚\n\n$$\n\\ket{\\psi} = \\frac{1}{\\sqrt{2}}\\ket{0}+\\frac{1}{\\sqrt{2}}\\ket{1}\n$$\n\n$\\ket{\\psi}$ã¨$\\ket{1}$ã®2é‡å­ãƒ“ãƒƒãƒˆã®æ™‚ã¯\n\n$$\n\\ket{\\psi} \\otimes \\ket{1} = \\frac{1}{\\sqrt{2}}\\ket{01}+\\frac{1}{\\sqrt{2}}\\ket{11}\n$$\n\nã¨è¡¨ã—ã€$\\ket{\\psi}$ãŒné‡å­ãƒ“ãƒƒãƒˆã‚ã£ãŸã‚‰\n\n$$\n\\begin{align}\n\\ket{\\psi}^n \u0026= \\frac{1}{\\sqrt{2^n}}(\\ket{0}+\\ket{1})^n \\\\\n\u0026= \\frac{1}{\\sqrt{2^n}}(\\ket{00\\cdots0}+\\ket{00\\cdots1}+\\cdots+\\ket{11\\cdots1})\n\\end{align}\n$$\n\nã¨ãªã‚Šã¾ã™ã€‚ä¸€èˆ¬ã«2é‡å­ãƒ“ãƒƒãƒˆã®é‡ã­åˆã‚ã›ã®çŠ¶æ…‹ã¯\n\n$$\n\\begin{align}\n\u0026(c_0\\ket{0} + c_1\\ket{1}) \\otimes (c_2\\ket{0} + c_3\\ket{1}) \\\\\n\u0026= c_0c_2\\ket{00} + c_0c_3\\ket{01} + c_1c_2\\ket{10} + c_1c_3\\ket{11}\n\\end{align}\n$$\n\nã¨ãªã‚Šã¾ã™ã€‚ã“ã®ã‚ˆã†ãªé‡ã­åˆã‚ã›ã®çŠ¶æ…‹ã«ã—ã€ãã®çŠ¶æ…‹ã®ã¾ã¾æ§˜ã€…ãªæ¼”ç®—ã‚’è¡Œã†äº‹ã§ä¸¦åˆ—å‡¦ç†ã‚’å¯èƒ½ã«ã—é‡å­è¨ˆç®—ã‚’è¡Œãˆã¾ã™ã€‚\n\n### ã©ã†ã‚„ã£ã¦ä½œã‚‰ã‚Œã¦ã„ã‚‹ã®ï¼Ÿ\n\nâ€»ã“ã“ã¯é€Ÿãå®Ÿéš›ã«å‹•ã‹ã—ã¦ã¿ãŸã„ã¨ã„ã†æ–¹ã¯é£›ã°ã—ã¦æ§‹ã‚ãªã„ã§ã™\nã“ã“ã¾ã§ã¯è¡¨è¨˜çš„ãªéƒ¨åˆ†ã«ã¤ã„ã¦è§¦ã‚Œã¦ãã¾ã—ãŸãŒã€ã“ã‚Œã¯ã©ã®ã‚ˆã†ã«ç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã®ã‹æ°—ã«ãªã‚Šã¾ã™ã€‚\n\nã“ã‚Œã¯ä¸»ã«2ã¤ã‚ã‚Šã¾ã™ã€‚\n\n- å…‰å­ã®åå…‰\n- ã‚¹ãƒ”ãƒ³\n\n#### å…‰å­ã®åå…‰\n\nEPRãƒ‘ãƒ©ãƒ‰ãƒƒã‚¯ã‚¹\nã‚¢ã‚¹ãƒšã®å®Ÿé¨“\nãƒ™ãƒ«ã®ä¸ç­‰å¼\n\n#### ã‚¹ãƒ”ãƒ³\n\nã‚·ãƒ¥ãƒ†ãƒ«ãƒ³ãƒ»ã‚²ãƒ«ãƒ©ãƒƒãƒã®å®Ÿé¨“\n\n## 5. é‡å­è«–ç†ã‚²ãƒ¼ãƒˆ\n\nå¤å…¸ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã§ã¯ANDã‚„ORã€NOTã€XORãªã©ã®å¤å…¸è«–ç†ã‚²ãƒ¼ãƒˆã®ã‚ˆã†ãªã‚‚ã®ã‚’ä½¿ã£ã¦è¨ˆç®—ã—ã¾ã™ã€‚å¯¾ã—ã¦é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã§ã¯é‡å­è«–ç†ã‚²ãƒ¼ãƒˆã‚’ç”¨ã„ã¦è¨ˆç®—ã—ã¾ã™ã€‚ãƒ¦ãƒ‹ã‚¿ãƒªå¤‰æ›ã§ã‚ã‚Šã»ã¨ã‚“ã©ã®æ¼”ç®—ãŒnå¯¾nå¯¾å¿œ\né‡å­è¨ˆç®—ã‚’ã™ã‚‹ãŸã‚ã«ã¯é‡å­è«–ç†ã‚²ãƒ¼ãƒˆã¯å¿…é ˆã®ã‚‚ã®ã¨ãªã‚Šã¾ã™ã€‚\n\n### 1. ãƒ‘ã‚¦ãƒªã‚²ãƒ¼ãƒˆ\nãƒ‘ã‚¦ãƒªã‚²ãƒ¼ãƒˆã¯3ç¨®é¡ã‚ã‚Šã€Xã‚²ãƒ¼ãƒˆã€Yã‚²ãƒ¼ãƒˆã€Zã‚²ãƒ¼ãƒˆãŒã‚ã‚Šã¾ã™ã€‚Xã‚²ãƒ¼ãƒˆã¯NOTã‚²ãƒ¼ãƒˆã€Zã‚²ãƒ¼ãƒˆã¯ä½ç›¸ã®NOTã‚²ãƒ¼ãƒˆã¨ã¿ã‚Œã¾ã™ã€‚X,Y,Zã‚²ãƒ¼ãƒˆã¯$\\ket{0}$ã€$\\ket{1}$ã©ã¡ã‚‰ã‚‚2å›ä½œç”¨ã™ã‚‹ã¨å…ƒã«æˆ»ã‚Šã¾ã™ã€‚ç¢ºã‹ã‚ã¦ã¿ã¦ãã ã•ã„ã€‚\n\n$$\n\\begin{align}\n\u0026X:\\ket{0} \\rightarrow \\ket{1}, \\quad \\ket{1} \\rightarrow \\ket{0} \\\\\n\u0026Y:\\ket{0} \\rightarrow i\\ket{1}, \\quad \\ket{1} \\rightarrow -i\\ket{0} \\\\\n\u0026Z:\\ket{0} \\rightarrow \\ket{0}, \\quad \\ket{1} \\rightarrow -\\ket{1}\n\\end{align}\n$$\n\n### 2. ã‚¢ãƒ€ãƒãƒ¼ãƒ«ã‚²ãƒ¼ãƒˆ\nã‚¢ãƒ€ãƒãƒ¼ãƒ«ã‚²ãƒ¼ãƒˆã¯é‡å­ãƒ“ãƒƒãƒˆã®å›è»¢ã‚’è¡¨ã—ã€$H$ã¨è¡¨è¨˜ã•ã‚Œã¾ã™ã€‚\n\n$$\n\\ket{0} \\rightarrow \\frac{1}{\\sqrt{2}}(\\ket{0} + \\ket{1}) \\\\\n\\ket{1} \\rightarrow \\frac{1}{\\sqrt{2}}(\\ket{0} - \\ket{1})\n$$\n\nã‚¢ãƒ€ãƒãƒ¼ãƒ«ã‚²ãƒ¼ãƒˆã‚‚2å›ä½œç”¨ã™ã‚‹ã¨å…ƒã«æˆ»ã‚‹ã¨ã„ã†æ€§è³ªãŒã‚ã‚Šã¾ã™ã€‚ãƒ‘ãƒƒã¨è¦‹åˆ†ã‹ã‚Šã¾ã›ã‚“ãŒã“ã®ã‚ˆã†ã«ã—ã¦åˆ†ã‹ã‚Šã¾ã™ã€‚ã“ã‚Œã¯$\\ket{0}$ã®å ´åˆã§ã™ãŒ$\\ket{1}$ã‚‚åŒæ§˜ã§ã™ã€‚\n\n$$\n\\begin{align}\nH(H(\\ket{0})) \u0026= H(\\frac{1}{\\sqrt{2}}(\\ket{0} + \\ket{1})) \\\\\n\u0026= \\frac{1}{\\sqrt{2}}(\\frac{1}{\\sqrt{2}}(\\ket{0} + \\ket{1})) + \\frac{1}{\\sqrt{2}}(\\frac{1}{\\sqrt{2}}(\\ket{0} - \\ket{1})) \\\\\n\u0026= \\frac{1}{2}\\ket{0} + \\frac{1}{2}\\ket{1} + \\frac{1}{2}\\ket{0} - \\frac{1}{2}\\ket{1} \\\\\n\u0026= \\ket{0}\n\\end{align}\n$$\n\n### ãƒ–ãƒ­ãƒƒãƒ›çƒ\n\n### 3. åˆ¶å¾¡ãƒ¦ãƒ‹ã‚¿ãƒªã‚²ãƒ¼ãƒˆãƒ»å¤å…¸åˆ¶å¾¡ã‚²ãƒ¼ãƒˆ\n\n#### åˆ¶å¾¡ãƒãƒƒãƒˆã‚²ãƒ¼ãƒˆ CNOTã‚²ãƒ¼ãƒˆ\nCNOTã‚²ãƒ¼ãƒˆã¯1ã¤ã®é‡å­ãƒ“ãƒƒãƒˆã®çŠ¶æ…‹ã«ã‚ˆã£ã¦ã€ã‚‚ã†1ã¤ã®é‡å­ãƒ“ãƒƒãƒˆã«NOTã‚²ãƒ¼ãƒˆã‚’ä½œç”¨ã•ã›ã‚‹ã‚²ãƒ¼ãƒˆã§ã™ã€‚ã“ã®çŠ¶æ…‹ã‚’åˆ¤æ–­ã™ã‚‹é‡å­ãƒ“ãƒƒãƒˆã‚’åˆ¶å¾¡ãƒ“ãƒƒãƒˆ(control qubit)ã€ä½œç”¨ã•ã›ã‚‹é‡å­ãƒ“ãƒƒãƒˆã‚’æ¨™çš„ãƒ“ãƒƒãƒˆ(target qubit)ã¨å‘¼ã³ã¾ã™ã€‚åˆ¶å¾¡ãƒ“ãƒƒãƒˆãŒ$\\ket{1}$ã§ã‚ã‚‹å ´åˆã®ã¿æ¨™çš„ãƒ“ãƒƒãƒˆã«ä½œç”¨ã•ã›ã¾ã™ã€‚å·¦ã¯åˆ¶å¾¡ãƒ“ãƒƒãƒˆã€å³ã¯æ¨™çš„ãƒ“ãƒƒãƒˆã§ã™ã€‚ä½œç”¨å¾Œã®æ¨™çš„ãƒ“ãƒƒãƒˆã¯åˆ¶å¾¡ãƒ“ãƒƒãƒˆã¨æ¨™çš„ãƒ“ãƒƒãƒˆã®æ’ä»–çš„è«–ç†å’Œã¨åŒå€¤ã¨åˆ†ã‹ã‚Šã¾ã™ã€‚\n\n$$\n\\begin{align}\n\u0026\\ket{00} \\rightarrow \\ket{00} \\\\\n\u0026\\ket{01} \\rightarrow \\ket{01} \\\\\n\u0026\\ket{10} \\rightarrow \\ket{11} \\\\\n\u0026\\ket{11} \\rightarrow \\ket{10}\n\\end{align}\n$$\n\nä¾‹ãˆã°ã€ä¸€èˆ¬ã®2é‡å­ãƒ“ãƒƒãƒˆãŒã‚ã‚Šã€ãã‚Œã«ã¤ã„ã¦CNOTã‚²ãƒ¼ãƒˆã‚’ä½œç”¨ã•ã›ã‚‹ã¨\n\n$$\n\\begin{align}\n\u0026(c_0\\ket{0} + c_1\\ket{1}) \\otimes (c_2\\ket{0} + c_3\\ket{1}) \\\\\n\u0026= c_0c_2\\ket{00} + c_0c_3\\ket{01} + c_1c_2\\ket{10} + c_1c_3\\ket{11} \\\\\n\u0026\\rightarrow c_0c_2\\ket{00} + c_0c_3\\ket{01} + c_1c_2\\ket{11} + c_1c_3\\ket{10}\n\\end{align}\n$$\n\n\n#### ãƒˆãƒ•ã‚©ãƒªã‚²ãƒ¼ãƒˆ\nãƒˆãƒ•ã‚©ãƒªã‚²ãƒ¼ãƒˆã¯CNOTã‚²ãƒ¼ãƒˆã®3ã¤ç‰ˆã§ã€2ã¤ã®é‡å­ãƒ“ãƒƒãƒˆã®çŠ¶æ…‹ãŒã©ã¡ã‚‰ã‚‚$\\ket{1}$ã®ã¨ãã€ã‚‚ã†1ã¤ã®é‡å­ãƒ“ãƒƒãƒˆã«NOTã‚²ãƒ¼ãƒˆã‚’é€šã™ã‚²ãƒ¼ãƒˆã§ã™ã€‚\n\n$$\n\\begin{align}\n\u0026\\ket{000} \\rightarrow \\ket{000} \\\\\n\u0026\\ket{010} \\rightarrow \\ket{010} \\\\\n\u0026\\ket{110} \\rightarrow \\ket{111}\n\\end{align}\n$$\n\n### è¦³æ¸¬\n\næœ€çµ‚çš„ã«é‡å­è«–ç†ã‚²ãƒ¼ãƒˆã«ã‚ˆã£ã¦ä½œã‚‰ã‚ŒãŸçŠ¶æ…‹ã‹ã‚‰ç¢ºç‡çš„ã«0ã‹1ã®å€¤ã‚’å–ã‚Šå‡ºã™ã‚²ãƒ¼ãƒˆã§ã™ã€‚ãã®ç¢ºç‡ã¯çŠ¶æ…‹ã«ä¾å­˜ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€$\\ket{0}$,$\\ket{1}$ã¯ãã‚Œãã‚Œçµ¶å¯¾çš„ã«0,1ã¨ãªã‚Šã€ $\\frac{1}{\\sqrt{2}}(\\ket{0} + \\ket{1})$,$\\frac{1}{\\sqrt{2}}(\\ket{0} - \\ket{1})$ã¯50%ã®ç¢ºç‡ã§0ã‹1ã¨ãªã‚Šã¾ã™ã€‚ã“ã®ã‚ˆã†ã«çŠ¶æ…‹ãŒç¢ºå®šã™ã‚‹äº‹ã‚’é‡å­åŠ›å­¦ã§ã¯ã€Œæ³¢æŸã®åæŸã€ã¨è¨€ã„ã¾ã™ã€‚æ³¢æŸã®åæŸã‚’ã™ã‚‹ã¨ãã®é‡å­ãƒ“ãƒƒãƒˆã¯å£Šã‚Œã€ã‚²ãƒ¼ãƒˆã‚’é€šã—ã¦ã‚‚å¤‰åŒ–ã¯èµ·ã“ã‚Šã¾ã›ã‚“ã€‚\n\nãã®ä»–ã®ã‚²ãƒ¼ãƒˆã¯[IBM Q Experience](https://quantum-computing.ibm.com/)ã‚„[OpenQASMã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª](https://github.com/Qiskit/openqasm/blob/master/examples/generic/qelib1.inc)ã§æ„Ÿã˜ã¨ã£ã¦ãã ã•ã„ã€‚\n\n#### IBM Q Experience\n\nIBM Q Experienceã¨ã¯ã‚¯ãƒ©ã‚¦ãƒ‰ä¸Šã§é‡å­å›è·¯ã‚’æ§‹ç¯‰ã—ã€ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚„å®Ÿéš›ã®é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã«è¨ˆç®—ã•ã›ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹IBMã®ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚å®Ÿéš›ã®é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚’ä½¿ã†æ™‚ã¯5é‡å­ãƒ“ãƒƒãƒˆã ã‘ã¨ã„ã†åˆ¶é™ã¯ã‚ã‚Šã¾ã™ãŒèª°ã§ã‚‚æ‰±ã†äº‹ãŒå‡ºæ¥ã¾ã™ï¼\n\næ¬¡ã¯å®Ÿéš›ã«é‡å­è«–ç†ã‚²ãƒ¼ãƒˆã‚’ä½¿ã£ã¦ç°¡å˜ãªé‡å­è¨ˆç®—ã‚’è¡Œã£ã¦ã¿ã¾ã™ã€‚[IBM Q Experience](https://quantum-computing.ibm.com/)ã¸é£›ã‚“ã§ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ã‚’ã™ã‚‹ã¨ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n\n#### ã‚¹ãƒ¯ãƒƒãƒ—ã‚²ãƒ¼ãƒˆ\n\né‡å­è¨ˆç®—ã®ç°¡å˜ãªä¾‹ã¨ã—ã¦ã‚¹ãƒ¯ãƒƒãƒ—ã‚²ãƒ¼ãƒˆãŒã‚ã‚Šã¾ã™ã€‚ã‚¹ãƒ¯ãƒƒãƒ—ã‚²ãƒ¼ãƒˆã¨ã¯2é‡å­ãƒ“ãƒƒãƒˆé–“ã«ãŠã„ã¦çŠ¶æ…‹ã‚’äº¤æ›ã™ã‚‹ã‚ˆã†ãªæ¼”ç®—ã§ã™ã€‚\n\n$$\n\\begin{align}\n\u0026\\ket{00} \\rightarrow \\ket{00} \\\\\n\u0026\\ket{01} \\rightarrow \\ket{10} \\\\\n\u0026\\ket{10} \\rightarrow \\ket{01} \\\\\n\u0026\\ket{11} \\rightarrow \\ket{11}\n\\end{align}\n$$\n\nã“ã®ã‚ˆã†ã«ãªã‚‹ã‚‚ã®ã‚’ä½œã‚Šã¾ã™ã€‚å…·ä½“çš„ã«ã¯CNOTã‚²ãƒ¼ãƒˆã‚’äº¤äº’ã«3ã¤ç½®ãã¨ä½œã‚Œã¾ã™ã€‚\n\n\u003cimg width=\"199\" alt=\"ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2019-11-03 22.56.10.png\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/227781/d7b318fb-0d9d-4312-5a62-2764aa3a891b.png\"\u003e\n\nã“ã‚Œã‚’IBM Qã«ç½®ãã¾ã™ã€‚åˆ¶å¾¡ãƒ“ãƒƒãƒˆã¨æ¨™çš„ãƒ“ãƒƒãƒˆã®é †ç•ªãŒé€†ã®å ´åˆã€ã‚²ãƒ¼ãƒˆã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ãƒãƒ„ãƒãƒ¼ã‚¯ã¨ãˆã‚“ã´ã¤ãƒãƒ¼ã‚¯ãŒå‡ºã‚‹ã®ã§ãˆã‚“ã´ã¤ãƒãƒ¼ã‚¯ã‚’æŠ¼ã—ã¦ã€ç¹‹ãŒã£ã¦ã„ã‚‹ç·šã‚’å…¥ã‚Œæ›¿ãˆã¾ã—ã‚‡ã†ã€‚ãã—ã¦ã€ã‚¹ãƒ¯ãƒƒãƒ—ã‚²ãƒ¼ãƒˆã®å‰å¾Œã«$\\ket{10}$(ä¸‹ã‹ã‚‰èª­ã¿ã¾ã™)ã®çŠ¶æ…‹ã‚’ä½œã‚‹ç‚ºã«Xã‚²ãƒ¼ãƒˆã€å€¤ã‚’å–ã‚Šå‡ºã™ç‚ºã«ãã‚Œãã‚Œã®é‡å­ãƒ“ãƒƒãƒˆã‚’è¦³æ¸¬ã—ã¾ã™ã€‚è¦³æ¸¬ã™ã‚‹éš›ã©ã®å¤å…¸ãƒ“ãƒƒãƒˆã«åŸ‹ã‚è¾¼ã‚€ã‹æŒ‡å®šã™ã‚‹ç‚ºã«å·¦ã®Circuit Editerã‹ã‚‰OpenQASMã®ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã—ã¾ã—ã‚‡ã†ã€‚ã™ã‚‹ã¨ã“ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n\n\u003cimg width=\"1440\" alt=\"ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2019-11-09 19.47.16.png\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/227781/5491aeff-888b-08fd-414d-b07176756ffb.png\"\u003e\n\nã“ã‚Œã‚’å³ä¸Šã®ãƒœã‚¿ãƒ³ã§ä¿å­˜ã—ã¦Runã—ã¦ã¿ã¾ã™...ï¼ã—ã°ã‚‰ãå¾…ã¡ã€Resultã‚’è¦‹ã¦ã¿ã‚‹ã¨...\n\n\u003cimg width=\"1257\" alt=\"ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2019-11-09 19.42.50.png\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/227781/b6fcb9b8-ad7c-ef86-512a-bb0e79d78fa1.png\"\u003e\n\nã“ã®ã‚ˆã†ã«çµæœãŒå‡ºã¾ã™ï¼100% $\\ket{01}$ã¨ã„ã†äº‹ã§æˆåŠŸã—ã¦ã¾ã™ã­ï¼ï¼ï¼ã‚„ã£ãŸï¼ï¼ï¼\n\n## ã‚¨ãƒ³ã‚¿ãƒ³ã‚°ãƒ«ãƒ¡ãƒ³ãƒˆ\n\né‡å­è¨ˆç®—ã®ä¸Šã§éå¸¸ã«é‡è¦ãªã‚‚ã®ã¨ã—ã¦ã‚¨ãƒ³ã‚¿ãƒ³ã‚°ãƒ«ãƒ¡ãƒ³ãƒˆã¨ã„ã†ã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚èª¬æ˜ã®å‰ã«ã¾ãšã¯ä¸‹ã®ã‚ˆã†ã«åˆ¶å¾¡ãƒ“ãƒƒãƒˆã¯$\\frac{1}{\\sqrt{2}}(\\ket{0} + \\ket{1})$ã€æ¨™çš„ãƒ“ãƒƒãƒˆã¯$\\ket{1}$ã®CNOTã‚²ãƒ¼ãƒˆã‚’ä½œç”¨ã•ã›ã¾ã™ã€‚\n\n$$\n\\begin{align}\n\u0026\\frac{1}{\\sqrt{2}}(\\ket{0} + \\ket{1}) \\otimes \\ket{1} \\\\\n\\rightarrow \u0026\\frac{1}{\\sqrt{2}}(\\ket{01} + \\ket{10})\n\\end{align}\n$$\n\nã“ã®æ™‚ã€CNOTã‚²ãƒ¼ãƒˆã‚’ä½œç”¨ã™ã‚‹å‰ã¾ã§ã¯é‡å­ãƒ“ãƒƒãƒˆã®ç©ã§è¡¨ã›ã‚‰ã‚Œã¦ã„ã¾ã—ãŸãŒã€ä½œç”¨ã—ãŸå¾Œã§ã¯ç©ã§è¡¨ã™äº‹ãŒå‡ºæ¥ãªããªã£ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã¤ã¾ã‚Šã€é‡å­ãƒ“ãƒƒãƒˆã®ä¸€æ–¹ãŒæ±ºã¾ã£ãŸæ™‚ã€ã‚‚ã†ä¸€æ–¹ã‚‚è‡ªç„¶ã¨æ±ºã¾ã£ã¦ã—ã¾ã†äº‹ã«ãªã‚Šã¾ã™ã€‚ã“ã®å ´åˆã ã¨ã€å·¦é‡å­ãƒ“ãƒƒãƒˆãŒ$\\ket{0}$ã¨è¦³æ¸¬ã•ã‚Œã‚‹ã¨ã‚‚ã†ä¸€æ–¹ã®é‡å­ãƒ“ãƒƒãƒˆã¯$\\ket{1}$ã¨ãªã‚Šã¾ã™ã€‚ãã®é€†ã‚‚ã¾ãŸç„¶ã‚Šã€‚\n\nã“ã®ã‚ˆã†ã«ã‚¨ãƒ³ã‚¿ãƒ³ã‚°ãƒ«ãƒ¡ãƒ³ãƒˆã¨ã¯è¤‡æ•°ã®é‡å­ãƒ“ãƒƒãƒˆãŒå­˜åœ¨ã—ã€ãã‚Œã‚‰ãŒå„ã€…ã®é‡å­ãƒ“ãƒƒãƒˆã®çŠ¶æ…‹ã®ç©ã§è¡¨ã›ãªã„çŠ¶æ…‹ã®äº‹ã‚’è¨€ã„ã¾ã™ã€‚æ—¥æœ¬èªã§ã¯é‡å­ã‚‚ã¤ã‚Œã€çµ¡ã¾ã£ãŸçŠ¶æ…‹ã¨è¨€ã„ã¾ã™ã€‚EPRãƒšã‚¢\n\n## é‡å­ã‚¯ãƒ­ãƒ¼ãƒ‹ãƒ³ã‚°ã®ä¸å¯èƒ½æ€§\n\n### é‡å­ãƒ†ãƒ¬ãƒãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³\n\né‡å­ã¯é€šå¸¸\n\né‡å­ã‚¯ãƒ­ãƒ¼ãƒ‹ãƒ³ã‚°ã®ä¸å¯èƒ½æ€§ã‚’ã©ã†ã‚„ã£ã¦ã‹ã„ããã£ã¦ã„ã‚‹ã®ã‹\n\nã‚¨ãƒ³ã‚¿ãƒ³ã‚°ãƒ«ãƒ¡ãƒ³ãƒˆã®å…·ä½“çš„ãªä¾‹ã¨ã—ã¦é‡å­ãƒ†ãƒ¬ãƒãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã„ã†ã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚é‡å­ãƒ†ãƒ¬ãƒãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã¯äºŒã¤ã®é‡å­ãŒé‡å­æƒ…å ±ã®ä¸–ç•Œã§ã¯æƒ…å ±ã®é€ã‚Šä¸»ã‚’ã‚¢ãƒªã‚¹ã€ãŠå±Šã‘å…ˆã‚’ãƒœãƒ–ã¨å‘¼ã³ã¾ã™ã€‚\n\n1. ã‚¢ãƒªã‚¹ã¯ãƒœãƒ–ã¸é‡å­æƒ…å ±ã‚’é€ã‚Šã¾ã™ã€‚\n2. ã‚¢ãƒªã‚¹ã¯è‡ªåˆ†ã®é‡å­ã‚’è¦³æ¸¬ã—ã€é‡å­çŠ¶æ…‹ã‚’çŸ¥ã‚Šã¾ã™ã€‚\n3. ãƒœãƒ–ã¯ã‚¢ãƒªã‚¹ãŒçŸ¥ã£ãŸé‡å­çŠ¶æ…‹ã‹ã‚‰åŒã˜é‡å­çŠ¶æ…‹ã«ã™ã‚‹äº‹ãŒå‡ºæ¥ã¾ã™ã€‚\n\nç²’å­ãŒç©ºé–“ã®åˆ¥ã®å ´æ‰€ã«ç¬é–“ç§»å‹•ã™ã‚‹ã‚‚ã®ã¨ã¯ç•°ãªã‚Šã¾ã™ã€‚\n\n\n\u003cimg width=\"450\" alt=\"ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2019-11-03 23.05.39.png\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/227781/2bb5ec39-5442-92af-660f-d06decafe44b.png\"\u003e\n\n\u003cimg width=\"1259\" alt=\"ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2019-11-09 21.35.02.png\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/227781/25c06381-512c-abe7-5d54-8f51b52f383b.png\"\u003e\n\n\n## ã‚·ãƒ§ã‚¢ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \n\nç´ å› æ•°åˆ†è§£ã‚’å¤å…¸ãƒ»é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚’ä½µç”¨ã™ã‚‹äº‹ã§ä»Šã¾ã§ã‚ˆã‚Šã‚‚æ—©ãè¡Œãˆã‚‹ã‚ˆã†ã«ãªã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã™ã€‚\n\n### é‡å­ãƒ•ãƒ¼ãƒªã‚¨å¤‰æ›\n\n$$\n\\ket{j} \\rightarrow \\frac{1}{\\sqrt{2^n}}\\sum_{k=0}^{2^n-1}exp(\\frac{i2\\pi jk}{2^n})\\ket{k}\n$$\n\n## é‡å­ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³\nã“ã‚Œã¯æ²¢å±±ç ”ç©¶ã•ã‚Œã¦ã„ã¦\n\n\nã¾ã ã¾ã ç ”ç©¶ã•ã‚Œã¦ã„ã‚‹ã‚ã‚Šã¾ã™ã€‚\n\n\n[Quantum Algorithm Zoo](https://quantumalgorithmzoo.org/)\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/other/Rendering/RayTracing":{"title":"ãƒ¬ã‚¤ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°, ãƒ‘ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°","content":"\n## èª¬æ˜\n\nãƒ¬ã‚¤ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°(Ray Tracing)ã¨ã¯CGã‚’ä½œæˆã™ã‚‹æŠ€è¡“ã®ä¸€ã¤ã€‚è¦–ç‚¹ã‹ã‚‰ãƒ¬ã‚¤(Ray)ã¨å‘¼ã°ã‚Œã‚‹ä»®æƒ³ã®å…‰ç·šã‚’é£›ã°ã—, åå°„ãƒ»å±ˆæŠ˜ã‚’ç¹°ã‚Šè¿”ã—ã¦, å…‰æºã«å½“ãŸã‚Œã°ãã“ã‹ã‚‰é€†ç®—ã—ã¦ç”»ç´ ã‚’è¡¨ç¤ºã™ã‚‹ä»•çµ„ã¿ã§ã™ã€‚\n\nã‚¬ãƒ³ãƒè£œæ­£ $(R^{2.2}, G^{2.2}, B^{2.2})$\n\nPPMç”»åƒã¨ã„ã†ASCIIã§ç”»ç´ ã‚’è¡¨ç¾ã™ã‚‹è¦æ ¼ã‚’ç”¨ã„ã‚‹ã¨æ¥½\n\n## ç‰©ç†ãƒ™ãƒ¼ã‚¹ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ç†è«–\nã‚ã‚‹æ³¢é•· $\\lambda$ ã®å…‰ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼\n$$e_\\lambda=\\frac{hc}{\\lambda}$$\nã‚¹ãƒšã‚¯ãƒˆãƒ«æ”¾å°„ã‚¨ãƒãƒ«ã‚®ãƒ¼\n$$\n\\begin{aligned}\nQ_\\lambda\u0026=ne_\\lambda \\\\\nQ\u0026=\\int_0^\\infty Q_\\lambda d\\lambda\n\\end{aligned}\n$$\nã‚¹ãƒšã‚¯ãƒˆãƒ«æ”¾å°„æŸ\n$$\n\\begin{aligned}\n\\Phi_\\lambda\u0026=\\frac{dQ_\\lambda}{dt} \\\\\n\\Phi\u0026=\\frac{dQ}{dt}\n\\end{aligned}\n$$\næ”¾å°„è¼åº¦\n$$L(x,\\vec\\omega)=\\frac{d^2\\Phi}{\\cos\\theta dAd\\vec\\omega}$$\n\nRGBãã‚Œãã‚Œã®ã‚¹ãƒšã‚¯ãƒˆãƒ«æ”¾å°„æŸã‚’ç”»åƒã«ã™ã‚Œã°ã‚ˆã„ã€‚\nç¾å®Ÿã¯å¯è¦–å…‰é ˜åŸŸå…¨ã¦ã®ã‚¹ãƒšã‚¯ãƒˆãƒ«ãªã®ã§ã“ã‚Œã¯æ–°äº•é‡‘æ²»ã§ã‚ã‚‹ã€‚\nå¯è¦–å…‰ã®å…¨æ³¢é•·è€ƒæ…®ã—ãŸãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’ãƒ•ãƒ«ã‚¹ãƒšã‚¯ãƒˆãƒ©ãƒ ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¨å‘¼ã³ã€ãƒ—ãƒªã‚ºãƒ ã®å…‰ã®åˆ†æ•£ãªã©ã§ä½¿ã‚ã‚Œã¾ã™ã€‚\n\nç©ºæ°—ãŒçœŸç©ºãªã‚‰å…‰ãŒé€²è¡Œã—ã¦ã‚‚æ”¾å°„è¼åº¦ã®å€¤ã¯å¤‰ã‚ã‚‰ãªã„ã€‚\nç¾å®Ÿã¯ç©ºæ°—ä¸­ã®å¾®ç²’å­ã¨ã®è¡çªã§å…‰ã®å¸åã€æ•£ä¹±ãªã©ã®ç¾è±¡ãŒèµ·ãã‚‹ã€‚\nã“ã‚Œã‚’å†ç¾ã—ãŸãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’ãƒœãƒªãƒ¥ãƒ¼ãƒ ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¨å‘¼ã³ã€ç…™ã‚„é›²ãªã©ã§ä½¿ã‚ã‚Œã¾ã™ã€‚\n\n### åŒæ–¹å‘åå°„ç‡åˆ†å¸ƒé–¢æ•° (BRDF)\nåå°„ãƒ»å±ˆæŠ˜ã‚’è¡¨ç¾ã™ã‚‹é–¢æ•° BRDF\n\n$$\nf(x,\\vec\\omega_i,\\vec\\omega_r) = \\frac{dL_r(x,\\vec\\omega_r)}{L_i(x,\\vec\\omega_i)\\cos\\theta d\\vec\\omega_i}\n$$\n\nBRDF ã‚’ç”¨ã„ã‚‹ã¨åŠçƒå…¨ä½“ $\\Omega$ ã‹ã‚‰ã‚ã‚‹ç‚¹ã«ããŸå…‰ãŒã€æ–¹å‘ $\\vec\\omega_r$ ã«åå°„ã•ã‚Œã‚‹æ”¾å°„è¼åº¦ã®å€¤ $L_r(x,\\vec\\omega_r)$ ã‚’è¨ˆç®—ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ã€‚\n\n$$\nL_r(x,\\vec\\omega_r) = \\int_\\Omega f(x,\\vec\\omega_i,\\vec\\omega_r)L_i(x,\\vec\\omega_i)\\cos\\theta d\\vec\\omega_i\n$$\n\nã“ã‚Œã‚’ $L_r(x,\\vec\\omega_r) = TL_i(x,\\omega_i)$ ã¨ç•¥ã™äº‹ã«ã™ã‚‹ã€‚\n- ç‰©ä½“è¡¨é¢ã®ã‚ã‚‹ç‚¹ $x$ ã‹ã‚‰æ–¹å‘ $\\vec\\omega_r$ ã¸å‡ºå°„ã™ã‚‹æ”¾å°„è¼åº¦ $L_o(x,\\vec\\omega_r)$\n- ç‚¹ $x$ ã«ãŠã„ã¦ç‰©ä½“ãŒç™ºå…‰ã—ã€$\\vec\\omega_r$ ã®æ–¹å‘ã¸å‡ºå°„ã™ã‚‹æ”¾å°„è¼åº¦ $L_e(x,\\vec\\omega_r)$\n- ç‚¹ $x$ ã‹ã‚‰ $\\vec\\omega_r$ ã«åå°„ã•ã‚Œã‚‹æ”¾å°„è¼åº¦ $L_r(x,\\vec\\omega_r)$\nã¨ã—ã¦æ¬¡ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ–¹ç¨‹å¼ãŒæˆã‚Šç«‹ã¤ã€‚\n\n$$\nL_o(x,\\vec\\omega_r) = L_e(x,\\vec\\omega_r) + L_r(x,\\vec\\omega_r)\n$$\n\nã¾ãŸ, ç‚¹ $x$ ã‹ã‚‰ $\\vec\\omega$ ã®æ–¹å‘ã¸é€²ã‚“ã ã¨ã, è¡çªã™ã‚‹ç‚¹ã‚’è¿”ã™é–¢æ•° $t(x,\\vec\\omega)$ ã‚’ç”¨ã„ã¦ $L_i(x,\\vec\\omega_i) = L_o(t(x,\\vec\\omega_i),\\vec\\omega_i)$ ã¨è¡¨ã›ã‚‰ã‚Œã‚‹ã€‚ã™ã‚‹ã¨ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ–¹ç¨‹å¼ã¯ä»¥ä¸‹ã®ç„¡é™ç´šæ•°ã§è¡¨ç¾ã§ãã‚‹ã€‚\n\n$$\n\\begin{aligned}\nL_o(x_0,\\vec\\omega_0) \u0026= L_e(x_0,\\vec\\omega_0) + L_r(x_0,\\vec\\omega_0) \\\\\n\u0026= L_e(x_0,\\vec\\omega_0)+TL_i(x_0,\\vec\\omega_1) \\\\\n\u0026= L_e(x_0,\\vec\\omega_0)+TL_o(t(x_0,\\vec\\omega_1),\\vec\\omega_1) \\\\\n\u0026= L_e(x_0,\\vec\\omega_0)+T(L_e(x_1,\\vec\\omega_1)+TL_o(x_2,\\vec\\omega_2)) \\\\\n\u0026= L_e(x_0,\\vec\\omega_0)+T(L_e(x_1,\\vec\\omega_1)+T(L_e(x_2,\\vec\\omega_2)+T(L_e(x_3,\\vec\\omega_3)+\\ldots))) \\\\\n\u0026= L_e(x_0,\\vec\\omega_0)+\\sum_{k=1}^\\infty T^kL_e(x_k,\\vec\\omega_k) \\\\\n\\end{aligned}\n$$\n\nãƒ¢ãƒ³ãƒ†ã‚«ãƒ«ãƒ­æ³•ã‚’ç”¨ã„ã‚‹ã“ã¨ã§ç©åˆ†ã‚’æ•°å€¤çš„è§£ãã“ã¨ãŒå‡ºæ¥ã‚‹ã€‚\n\n$$\n\\begin{aligned}\nL_o(x_0,\\vec\\omega_0) \u0026= L_e(x_0,\\vec\\omega_0)+\\sum_{k=1}^\\infty T^kL_e(x_k,\\vec\\omega_k) \\\\\n\u0026= L_e(x_0,\\vec\\omega_0)+\\sum_{k=1}^\\infty \\int_\\Omega f(x,\\vec\\omega_k,\\vec\\omega_r)\\ldots\\left(\\int_\\Omega f(x,\\vec\\omega_k,\\vec\\omega_{k-1})L_e(x_k,\\vec\\omega_k)\\cos\\theta_k d\\vec\\omega_k\\right)\\ldots \\cos\\theta_1 d\\vec\\omega_1 \\\\\n\u0026= L_e(x_0,\\vec\\omega_0)+\\sum_{k=1}^\\infty\\int_\\Omega\\ldots\\int_\\Omega f(x_1,\\vec\\omega_1,\\vec\\omega_0)\\ldots f(x_k,\\vec\\omega_k,\\vec\\omega_{k-1})L_e(x_{k},\\vec\\omega_{k})\\cos\\theta_1\\ldots\\cos\\theta_k d\\vec\\omega_1\\ldots d\\vec\\omega_k \\\\\n\u0026\\approx L_e(x_0,\\vec\\omega_0)+\\sum_{k=1}^\\infty \\frac{1}{N}\\sum_{s=1}^N \\frac{f(x_1,\\vec\\omega_1^s,\\vec\\omega_0)\\ldots f(x_k,\\vec\\omega_k^s,\\vec\\omega_{k-1})L_e(x_{k},\\vec\\omega_{k})\\cos\\theta_1\\ldots\\cos\\theta_k}{p_1(\\vec\\omega_1)\\ldots p_k(\\vec\\omega_k)} \\\\\n\\end{aligned}\n$$\n\nã‚µãƒ³ãƒ—ãƒ«ã«ã¯é‡ç‚¹çš„ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã‚’è¡Œã†ã€‚ç¢ºç‡å¯†åº¦é–¢æ•°ã®ç´¯ç©åˆ†å¸ƒé–¢æ•°ã®é€†é–¢æ•°ã‚’ç”¨ã„ã¦ã‚µãƒ³ãƒ—ãƒ«ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ã§\n\nç´šæ•°ã®è¨ˆç®—ã§ã¯ãƒ­ã‚·ã‚¢ãƒ³ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã‚’ç”¨ã„ã‚‹ã€‚æ¬¡é …ã‚’è¨ˆç®—ã™ã‚‹ç¢ºç‡ $p$ ã‚’ç”¨ã„ã¦æ¬¡ã®ã‚ˆã†ã«è¨ˆç®—ã™ã‚‹ã€‚\n\n$$\n\\begin{aligned}\nS_n \u0026= \\sum_{k=0}^n x_k \\\\\nR_n \u0026= S_\\infty - S_n \\\\\n\\hat R_n \u0026= x_n + \\begin{dcases}\n\\frac{\\hat R_{n+1}}{p} \u0026 (u\\leq p) \\\\\n0 \u0026 (u\u003ep)\n\\end{dcases} \\\\\n\\hat S_n \u0026\\approx x_0 + \\frac{x_1}{p} + \\frac{x_2}{p^2} + \\ldots + \\frac{x_n}{p^n} \\\\\n\\end{aligned}\n$$\n\nã“ã®æœŸå¾…å€¤ã‚’è¨ˆç®—ã™ã‚‹ã¨ $S_\\infty$ ã¨ãªã‚‹ã€‚\n\n$$\nE[\\hat S] = x_0 + p\\frac{x_1}{p} + p^2\\frac{x_2}{p^2} + \\ldots + p^n\\frac{\\hat R_n}{p^n} = S_\\infty\n$$\n\n## ãƒ¢ãƒ‡ãƒ«\n### æ‹¡æ•£åå°„ãƒ¢ãƒ‡ãƒ«\nç´™ã®ã‚ˆã†ãªä¹±åå°„ã™ã‚‹ç‰©ä½“ã‚’è€ƒãˆã‚‹ã€‚ã“ã®ã¨ãBRDFã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚‹ã€‚\n\n$$\nf_{Diffuse}(x, \\vec\\omega_i, \\vec\\omega_o) = \\frac{\\rho}{\\pi}\n$$\n\nã“ã®ç¢ºç‡å¯†åº¦é–¢æ•° $p(\\vec\\omega)$ ã¯BRDF$\\times\\cos\\theta$ ã«æ¯”ä¾‹ã™ã‚‹ç‚º, å®šæ•° $k$ ã‚’ç”¨ã„ã¦ $p(\\vec\\omega) = k\\cos\\theta$ ã¨ãªã‚‹ã€‚ç¢ºç‡ã®æ¡ä»¶ã‚ˆã‚Š $k$ ã‚’æ±ºå®šã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ã€‚\n\n$$\n\\begin{aligned}\n\\int_\\Omega p(\\vec\\omega)d\\vec\\omega \u0026= k\\int_0^{2\\pi}\\int_0^{\\frac{\\pi}{2}}\\cos\\theta\\sin\\theta d\\theta d\\phi = k\\pi = 1 \\\\\np(\\vec\\omega) \u0026= \\frac{\\cos\\theta}{\\pi}\n\\end{aligned}\n$$\n\nç¢ºç‡å¯†åº¦é–¢æ•°ã«ã¤ã„ã¦å¤‰æ•°ã‚’å¤‰ãˆã‚‹ã¨\n\n$$\n\\begin{aligned}\np(\\theta,\\phi) \u0026= p(\\vec\\omega)\\sin\\theta = \\frac{1}{\\pi}\\sin\\theta\\cos\\theta \\\\\np(\\theta) \u0026= \\int_0^{2\\pi}p(\\theta, \\phi)d\\phi = \\sin{2\\theta} \\\\\np(\\phi\\mid\\theta) \u0026= \\frac{p(\\theta,\\phi)}{p(\\theta)} = \\frac{1}{2\\pi}\n\\end{aligned}\n$$\n\nã“ã®ç´¯ç©åˆ†å¸ƒé–¢æ•°ã®é€†é–¢æ•°ã¯\n\n$$\n\\begin{aligned}\nP(\\theta) \u0026= \\int_0^\\theta p(t)dt = \\frac{1-\\cos{2\\theta}}{2} \u0026 P_\\theta^{-1}(u) \u0026= \\frac{1}{2}\\cos^{-1}(1-2u) \\\\\nP(\\phi\\mid\\theta) \u0026= \\int_0^\\phi p(\\phi\\mid\\theta)dt = \\frac{\\phi}{2\\pi} \u0026 P_\\phi^{-1}(v) \u0026= 2\\pi v\n\\end{aligned}\n$$\n\nã¨ãªã‚‹ã®ã§ $\\theta, \\phi$ ã®ã‚µãƒ³ãƒ—ãƒ«ã¯ä¹±æ•° $u, v$ ã‚’ç”¨ã„ã¦æ¬¡ã®ã‚ˆã†ã«è¨ˆç®—ã™ã‚Œã°ã‚ˆã„ã€‚\n\n$$\n\\begin{dcases}\n\\theta = \\frac{1}{2}\\cos^{-1}(1-2u) \\\\\n\\phi = 2\\pi v\n\\end{dcases}\n$$\n\nã¡ãªã¿ã«æ¥µåº§æ¨™ç³»ã‹ã‚‰ç›´äº¤åº§æ¨™ç³»ã«æˆ»ã™ã«ã¯ä»¥ä¸‹ã®å¼ã«ä»£å…¥ã™ã‚Œã°ã‚ˆã„ã€‚\n\n$$\n\\begin{dcases}\nx = \\sin\\theta\\cos\\phi \\\\\ny = \\cos\\theta \\\\\nz = \\sin\\theta\\sin\\phi\n\\end{dcases}\n$$\n\n### å®Œå…¨é¡é¢åå°„ãƒ¢ãƒ‡ãƒ«\nåå°„ã«ã¤ã„ã¦ã®é–¢ä¿‚å¼ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚‹ã€‚\n\n$$\n\\vec\\omega_i = -\\vec\\omega_o + 2(\\vec\\omega_o\\cdot\\vec n)\\vec n\n$$\n\nã“ã‚Œã‚ˆã‚ŠBRDFã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚‹ã€‚$\\vec\\omega_r$ ã‚’ $\\vec\\omega_o$ ã®åå°„æ–¹å‘ã¨ã™ã‚‹ã€‚\n\n$$\nf_{Specular}(x,\\vec\\omega_i,\\vec\\omega_o) = \\frac{\\delta(\\vec\\omega_i-\\vec\\omega_r)}{\\cos\\theta}\n$$\n\nã‚µãƒ³ãƒ—ãƒ«ã¯åå°„æ–¹å‘ã‚’è¿”ã›ã°ã‚ˆã„ã€‚\n\n### ã‚¬ãƒ©ã‚¹ãƒ¢ãƒ‡ãƒ«\nã‚¬ãƒ©ã‚¹ã«å…¥å°„ã—ãŸå…‰ã¯åå°„ã¨å±ˆæŠ˜ã‚’ã™ã‚‹ã€‚åå°„ã¯ä¸Šè¨˜ã®å¼ã‚’ç”¨ã„ã‚Œã°ã‚ˆã„ã€‚å±ˆæŠ˜æ–¹å‘ $\\vec\\omega_r$ ã¯æ¬¡ã®ã‚ˆã†ã«è¨ˆç®—ã™ã‚‹ã€‚å…¥å°„å´å±ˆæŠ˜ç‡ $n_1$ å‡ºå°„å´å±ˆæŠ˜ç‡ $n_2$ ã¨å…¥å°„å…‰ç·šãŒæ³•ç·šã¨ãªã™è§’åº¦ $\\theta$ ã¨ã—ã¦\n\n$$\n\\begin{aligned}\n\\vec\\omega_r \u0026= \\frac{n_1}{n_2}(-\\vec\\omega_i+\\cos\\theta\\vec n)-\\sqrt{1-\\alpha^2}\\vec n \\\\\n\\alpha \u0026= \\frac{n_1}{n_2}\\sin\\theta\n\\end{aligned}\n$$\n\nã“ã®BRDFã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚‹ã€‚\n\n$$\nf_{Refract}(x,\\vec\\omega_i,\\vec\\omega_o) = (1-f)\\frac{\\delta(\\vec\\omega_i-\\vec\\omega_r)}{\\cos\\theta}\n$$\n\nã¾ãŸå±ˆæŠ˜æ™‚ã«ã¯è¼åº¦ã‚‚å¤‰åŒ–ã™ã‚‹ã€‚\n\n$$\nL_r = \\left(\\frac{n_1}{n_2}\\right)^2L\n$$\n\nã¾ãŸã€åå°„/å±ˆæŠ˜ã®å‰²åˆã¯ãƒ•ãƒ¬ãƒãƒ«ã®å¼(Fresnel Equation) ã§è¡¨ç¾ã•ã‚Œã‚‹ã€‚ãã‚Œã¯è¤‡é›‘ãªå¼ã§ã‚ã‚‹ã®ã§é€šå¸¸ãã‚Œã‚’è¿‘ä¼¼ã—ãŸSchlickã®è¿‘ä¼¼å¼ãŒä½¿ã‚ã‚Œã‚‹ã€‚\n\n$$\n\\begin{aligned}\nF_r(\\theta) \u0026= F_o + (1 - F_o)(1 - \\cos\\theta)^5 \\\\\nF_o \u0026= \\left(\\frac{n_1-n_2}{n_1+n_2}\\right)^2\n\\end{aligned}\n$$\n\nåå°„ãƒ»å±ˆæŠ˜ã®å‰²åˆã¯ä¹±æ•°ã‚’ç”¨ã„ã¦æŒ¯ã‚Šåˆ†ã‘ã‚Œã°ã‚ˆã„ã€‚\n\n### å…‰ãƒ¢ãƒ‡ãƒ«\nç™ºå…‰ã«ã¤ã„ã¦ã¯å…¨ã¦ã®æ–¹å‘ã«åŒã˜å¼·ã•ã®æ”¾å°„è¼åº¦ã®å…‰ã‚’è¿”ã›ã°ã‚ˆã„ã€‚\nç©ºã«ã¤ã„ã¦ã‚‚åŒæ§˜ã«åœ°å¹³ç·šã«è¿‘ã‘ã‚Œã°ç™½ãã€å¤©äº•ã«è¿‘ããªã‚Œã°é’ã„ã‚ˆã†ã«è¿”ã›ã°ã‚ˆã„ã€‚\nã¾ãŸ IBL (Image Based Lighting) ã‚’ç”¨ã„ã‚Œã°è¼åº¦ã‚’ä¿æŒã™ã‚‹ HDR ç”»åƒã‚’ç”¨ã„ã¦å‘¨å›²ã‚’ç”»åƒã§è¡¨ç¾ã§ãã‚‹ã€‚[sIBL Archive (hdrlabs.com)](http://www.hdrlabs.com/sibl/archive.html) ã‚’ä½¿ã†ã¨ã‚ˆã„ã€‚\n\n## ãã®ä»–\n### Next Event Estimation (NEE)\nå…‰æºãŒå°‘ãªã„å ´æ‰€ã§ã¯ãƒã‚¤ã‚ºãŒå¤šãå‡ºã‚„ã™ã„ã€‚ãã“ã§å…‰æºä¸Šã®ç‚¹ã‚’ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã—ã¦ãã®æ–¹å‘ã«ãƒ¬ã‚¤ã‚’é£›ã°ã™ã“ã¨ã§å…‰æºãŒå°ã•ã„å ´åˆã§ã‚‚å¯„ä¸ã‚’åŠ ç®—ã—ã‚„ã™ãã§ãã‚‹ã€‚\n\n### Bounding Volume Hierarchy (BVH)\nè¤‡æ•°ã®ç‰©ä½“å…¨ä½“ã‚’å›²ã‚€ãƒã‚¦ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’å†å¸°çš„ã«ä½œã‚Šã€ãã‚Œãã‚Œã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ã§è¡çªåˆ¤å®šã‚’è¡Œã†ã“ã¨ã§è¡çªã®æ¢ç´¢ã‚’ $O(n)$ ã‹ã‚‰ $O(\\log n)$ ã«æ”¹å–„ã•ã›ã‚‹æ–¹æ³•ã€‚\n\n### åŒæ–¹å‘ãƒ‘ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°\nãƒ¬ã‚¤ã‚’é£›ã°ã™ã ã‘ã§ã¯ãªãã€å…‰æºã‹ã‚‰ã‚·ãƒ¼ãƒ³ã«å‘ã‘ã¦ã‚‚å…‰ã‚’è¿½è·¡ã™ã‚‹æ–¹æ³•ã€‚\n\n### ãƒ¡ãƒˆãƒ­ãƒãƒªã‚¹å…‰è¼¸é€\n\n### ãƒ•ã‚©ãƒˆãƒ³ãƒãƒƒãƒ”ãƒ³ã‚°\n\n## å‚è€ƒ\nPhotorealism yumcyawiz","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/other/Rendering/Rendering":{"title":"Rendering Engine","content":"\n\nDirectX\nVulkan\n\n- [Generative art by Anders Hoff Â· inconvergent](https://inconvergent.net/#writing)\n\nRenderingNG\nWebGPU\n\n- [API reference Â· sitRyo/DungeonTemplateLibraryUnity Wiki (github.com)](https://github.com/sitRyo/DungeonTemplateLibraryUnity/wiki/API-reference)","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/other/Rendering/Shader":{"title":"ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼","content":"\nã‚·ã‚§ãƒ¼ãƒ€è¨€èª\nGLSL\n\nã¤ã¶ã‚„ãGLSL","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/other/Rendering/Vulkan":{"title":"","content":"","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/other/Rendering/voice":{"title":"","content":"\nHRTF; Head-related transfer function\nHRIR\nOpenAL-soft\nSiv3D\n- soloud","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/other/SAT-SMT/ProofAssistant":{"title":"å®šç†è¨¼æ˜æ”¯æ´ç³»","content":"\n## èª¬æ˜\n\n\n## è¨ˆç®—é‡\n\n\n## å®Ÿè£…\n\n\n## ä½¿ç”¨ä¾‹\n\n\n## å‚è€ƒ\n[ä¸€äººComputer Science Advent Calendar 2017](https://qiita.com/advent-calendar/2017/myuon_myon_cs)\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/other/SAT-SMT/SAT-SMT":{"title":"SAT SMT","content":"\n## SAT\nSAT (SATisfiability Problem)\nSATã‚’è§£ãã«ã¯æŒ‡æ•°æ™‚é–“æ›ã‹ã‚‹ã¨ä¿¡ã˜ã‚‰ã‚Œã¦ã„ã‚‹. æŒ‡æ•°æ™‚é–“ã®ä¸­ã§ã‚‚é«˜é€ŸåŒ–ã—ã¦ã„ãæŠ€è¡“ã‚’å­¦ã¶.\n\n$((a\\land\\lnot b\\land\\lnot c)\\lor(b\\land c\\land\\lnot d))\\land(\\lnot b\\lor\\lnot c) \\to (a,b,c,d)=(t,f,f,t)$\n\n### å˜ç´”ãªæ¢ç´¢\nã¾ãšã¯ SAT ã«é–¢ã™ã‚‹å…¨æ¢ç´¢ã‚’è€ƒãˆã‚‹. ä»¥ä¸‹ã®æ–¹æ³•ã¯ DPLL (Davis Putnam Logemann Loveland) ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨å‘¼ã°ã‚Œã¦ã„ã‚‹.\nãƒªãƒ†ãƒ©ãƒ«ãŒ1ã¤ã—ã‹ãªã„ç¯€ã‚’å˜ä½ç¯€ã¨å‘¼ã¶.\n\n1. å˜ä½ç¯€ãŒã‚ã‚Œã°ãã®å¤‰æ•°ã®å€¤ã¯ç¢ºå®šã™ã‚‹.\n2. ãã‚ŒãŒãªã‘ã‚Œã°å¤‰æ•°ã®ã©ã‚Œã‹1ã¤ã‚’æ·±ã•å„ªå…ˆæ¢ç´¢ã™ã‚‹.\n3. ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã—ãŸãªã‚‰å¤±æ•—, ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãªã—ã«å¤‰æ•°ã‚’å…¨ã¦å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸã‚‰æˆåŠŸã¨ã™ã‚‹.\n\nã“ã®ã¨ãæ·±ã•å„ªå…ˆæ¢ç´¢ã§ã®æ·±ã•ãŒ $d$ ã®ã¨ãã‚’ãƒ¬ãƒ™ãƒ« $d$ ã¨å‘¼ã¶.\n\n$$\n\\begin{aligned}\n\\phi \u0026= (a âˆ¨ Â¬b âˆ¨ d) âˆ§ (a âˆ¨ Â¬b âˆ¨ e) \\\\\n\u0026âˆ§ (Â¬b âˆ¨ Â¬d âˆ¨ Â¬e) \\\\\n\u0026âˆ§ (a âˆ¨ b âˆ¨ c âˆ¨ d) âˆ§ (a âˆ¨ b âˆ¨ c âˆ¨ Â¬d) \\\\\n\u0026âˆ§ (a âˆ¨ b âˆ¨ Â¬c âˆ¨ e) âˆ§ (a âˆ¨ b âˆ¨ Â¬c âˆ¨ Â¬e)\n\\end{aligned}\n$$\nãƒŸãƒ¥ãƒ³ãƒ˜ãƒ³å·¥ç§‘å¤§å­¦ã®è³‡æ–™ã‚ˆã‚Š\n\n### ç¯€å­¦ç¿’\n\nDPLL ã«åŠ ãˆ, ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã—ãŸã¨ãã«ãã®æ¢ç´¢çŠ¶æ…‹ã ã¨å¤±æ•—ã™ã‚‹ã“ã¨ã‚’æ¡ä»¶ã«å…¥ã‚Œã‚‹.\nCDCL (Constrait-Driven Clause Learning) ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \n\n| $t$ | $L_t$       | level | reason                                       |\n| --- | ----------- | ----- | -------------------------------------------- |\n| 0   | $\\lnot x_1$ | 0     | $\\lbrace\\lnot x_1\\rbrace$                    |\n| 1   | $x_2$       | 1     | $\\Lambda$                                    |\n| 2   | $\\lnot x_5$ | 1     | $\\lbrace \\lnot x_2,\\lnot x_5\\rbrace$         |\n| 3   | $\\lnot x_3$ | 2     | $\\Lambda$                                    |\n| 4   | $x_4$       | 2     | $\\lbrace x_1,x_3,x_4\\rbrace$                 |\n| 5   | $x_6$       | 2     | $\\lbrace x_1,\\lnot x_2,\\lnot x_4,x_6\\rbrace$ |\n| 6   | $\\lnot x_6$ | 2     | $\\lbrace x_3,\\lnot x_4,x_5,\\lnot x_6\\rbrace$ |\nãƒŸãƒ¥ãƒ³ãƒ˜ãƒ³å·¥ç§‘å¤§å­¦ã®è³‡æ–™ã‚ˆã‚Š\n\nã“ã“ã§ $t$ ãŒ 0 ã‹ã‚‰ 3 ã¾ã§ã®æ¡ä»¶ $\\lnot x_1\\land x_2\\land\\lnot x_5\\land\\lnot x_3$ ã®ã¨ãã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã™ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚‹. ã™ã‚‹ã¨ãã®å¦å®š $x_1\\lor\\lnot x_2\\lor x_5\\lor x_3 = \\lbrace x_1,\\lnot x_2,x_5,x_3\\rbrace$ ã¯å¿…ãšæˆç«‹ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ç‚º, æ–°ãŸã«æ¡ä»¶ã¨ã—ã¦å…¥ã‚Œã‚‹ã“ã¨ãŒã§ãã‚‹.\n\n[ç–‘å•] ã“ã®ã¨ããªãœ $\\lnot x_4$ ã‚’å…¥ã‚Œã¦ã¯ã„ã‘ãªã„ã®ã‹ã‚ˆãã‚ã‹ã‚‰ãªã„. è³‡æ–™ã«ã¯ $x_6$ ã«ä¾å­˜ã—ã¦ã„ã‚‹ã‹ã‚‰ã¨æ›¸ã‹ã‚Œã¦ã„ã‚‹ãŒ $\\lbrace x_1,x_3,x_4\\rbrace$ ã¯ $x_1, x_3$ ã«ã‚ˆã£ã¦æ±ºå®šã•ã‚Œã‚‹ã®ã§é–¢ä¿‚ãªã•ãã†(å…¥ã‚ŒãŸæ–¹ãŒæ¡ä»¶ãŒå¼±ããªã‚‹ã®ã¯ç¢ºã‹ã«ãã†ã ã‘ã‚Œã©ã‚‚, ã‚‚ã—å…¨ã¦ã®ãƒªãƒ†ãƒ©ãƒ«ãŒfalseã§ã‚‚ $\\lbrace x_1,x_3,x_4\\rbrace$ ã¨ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã™ã‚‹ã®ã§å¤§ä¸ˆå¤«ãã†). ãŸã¶ã‚“ç¯€å†…ã®ãƒªãƒ†ãƒ©ãƒ«ã‚’å‡ºæ¥ã‚‹é™ã‚Šå°‘ãªãã—ã¦æ¢ç´¢æ™‚ã«æœ‰ç”¨ã«æ‰±ã„ãŸã„ã‚“ã ã¨æ€ã†.\n\nãã—ã¦æ¡ä»¶ãŒå¤šããªã‚Œã°ãªã‚‹ã»ã©æ¢ç´¢ã‚’ã—ãªãã¦æ¸ˆã‚€ã®ã§é«˜é€ŸåŒ–å‡ºæ¥ã‚‹.\n\n### å®Ÿè£…\nåŠ¹ç‡çš„ãªCDCLã®å®Ÿè£…æ–¹æ³•ã‚’å­¦ã¶.\n\nç¯€ã¯ $x_k$ ã¨ $\\lnot x_k$ ã¯ $2k$, $2k+1$ ã¨è¡¨ã™. åˆè¨ˆã§ $2n$ ãƒ“ãƒƒãƒˆå¿…è¦ã«ãªã‚‹.\nå„ç¯€ã¯ãƒªãƒ†ãƒ©ãƒ«ã®ãƒã‚¤ãƒ³ã‚¿ã‚’æ ¼ç´ã™ã‚‹ãƒªãƒ³ã‚¯ãƒªã‚¹ãƒˆã‚’æŒã¤\næ¬¡ã«æ¢ç´¢ã™ã‚‹å¤‰æ•°ã®å„ªå…ˆé †ä½ã‚’è¡¨ã™ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚¹ã‚³ã‚¢ã‚’æŒã¤\nã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚¹ã‚³ã‚¢ã¯ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆæ™‚ã«å„å¤‰æ•°ã®ãã‚Œã«è¶³ã•ã‚Œã‚‹ã‚‚ã®ã§ã‚ã‚‹. iå›ç›®ã®ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆæ™‚ã«ã¯ $\\rho^{-i}$ è¶³ã•ã‚Œã‚‹. (ex. $\\rho=0.95$) å¾Œã®æ–¹ã«ãªã‚Œã°ãªã‚‹ã»ã©å¢—åŠ ã™ã‚‹ã‚¹ãƒ”ãƒ¼ãƒ‰ãŒé€Ÿããªã‚Š, å¤ã„ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã¯ç„¡è¦–ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹.\n\næ®†ã©ã®SATã‚½ãƒ«ãƒã¯é€£è¨€æ¨™æº–å½¢(CNF)ã‚’å…¥åŠ›ã¨ã—ã¦å—ã‘å–ã‚‹.\nä»»æ„ã®å‘½é¡Œè«–ç†å¼ã‚’CNFã«å¤‰æ›ã™ã‚‹ç‚ºã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ (Tseitin Encoding)\nCNFã®å…¥åŠ›å½¢å¼ DIMACS\n\n### Tseitin Encoding\n$$\n\\begin{aligned}\n\\phi\u0026\\coloneqq((p\\lor q)\\land r)\\to(\\lnot s) \\\\\nx_1\u0026\\leftrightarrow\\lnot s \\\\\nx_2\u0026\\leftrightarrow p\\lor q \\\\\nx_3\u0026\\leftrightarrow x_2\\land r \\\\\nx_4\u0026\\leftrightarrow x_3\\to x_1 \\\\\nT(\\phi)\u0026\\coloneqq x_4\\land(x_4\\leftrightarrow x_3\\to x_1)\\land(x_3\\leftrightarrow x_2\\land r)\\land(x_2\\leftrightarrow p\\lor q)\\land(x_1\\leftrightarrow\\lnot s) \\\\\nx_2\\leftrightarrow p\\lor q \u0026= (x_2\\to(p\\lor q))\\land((p\\lor q)\\to x_2) \\\\\n\u0026= (\\lnot x_2\\lor p\\lor q)\\land(\\lnot(p\\lor q)\\lor x_2) \\\\\n\u0026= (\\lnot x_2\\lor p\\lor q)\\land((\\lnot p\\land \\lnot q)\\lor x_2) \\\\\n\u0026= (\\lnot x_2\\lor p\\lor q)\\land(\\lnot p\\lor x_2)\\land(\\lnot q\\lor x_2) \\\\\n\\end{aligned}\n$$\n\n### Tableaux\nSAT ã«ãŠã„ã¦æ’çœŸå‘½é¡Œ, çŸ›ç›¾å‘½é¡Œã«ã¤ã„ã¦è€ƒãˆã‚‹\n1955å¹´ã« Evert William Beth ã«ã‚ˆã£ã¦ææ¡ˆ, Raymond Smullyan ãŒ analytic tableau ã¸ç™ºå±•ã•ã›ãŸã€‚\n**Tableauxã®åŸºç¤** \n**Propositional Tableaux** \n**First-Order Tableaux** \n\n### Resolution\nå®šç†\n\n## SMT\nSMT ã‚½ãƒ«ãƒå…¨èˆ¬\n- [SAT/SMTã‚½ãƒ«ãƒã®ä»•çµ„ã¿](https://www.slideshare.net/sakai/satsmt)\n- [ãƒŸãƒ¥ãƒ³ãƒ˜ãƒ³å·¥ç§‘å¤§å­¦ã®å¤å­¦æœŸã®è‡ªå‹•æ¨è«–ã«é–¢ã™ã‚‹æˆæ¥­](https://www21.in.tum.de/teaching/sar/SS20/)\n\nSAT/SMTã‚½ãƒ«ãƒã®ã‚µãƒ¼ãƒ™ã‚¤è«–æ–‡\n- [SATã‚½ãƒ«ãƒãƒ»SMTã‚½ãƒ«ãƒã®æŠ€è¡“ã¨å¿œç”¨](https://www.jstage.jst.go.jp/article/jssst/27/3/27_3_3_24/_pdf)\n- [A Survey of Satisfiability Modulo Theory](https://arxiv.org/abs/1606.04786)\nå½¢å¼æ‰‹æ³•\n- ãƒ¢ãƒ‡ãƒ«æ¤œæŸ»\n- å®šç†è¨¼æ˜æ”¯æ´ç³»\nSMT (Satisfiability Modulo Theories)\nEUF (Equality Logic With Uninterpreted Functions)\n\nFOL (First-Order Logic)\nHOL (Higher-Order Logic)\n\n### Bit Vectors\n\n### DPLL(T)\n\n### å®Ÿè£…\n\n\nSMTã‚½ãƒ«ãƒã®å…¥åŠ›å½¢å¼ SMT-LIBv2\n- [The SMT-LIBv2 Language and Tools: A Tutorial](http://smtlib.github.io/jSMTLIB/SMTLIBTutorial.pdf)\np20. SMT-LIBv2 ã® token ãŒè¡¨ã«ãªã£ã¦ä¸¦ã‚“ã§ãŠã‚Šã€ã©ã®ã‚ˆã†ãªæ­£è¦è¡¨ç¾ã§ãƒãƒƒãƒã•ã›ã‚‰ã‚Œã‚‹ã‹æ²è¼‰ã—ã¦ã„ã‚‹\n- [SMT-LIB The Satisfiability Modulo Theories Library](http://smtlib.cs.uiowa.edu/)\nSMT ã‚½ãƒ«ãƒã«ä¸ãˆã‚‹å…¥åŠ›ã®å½¢å¼ SMT-LIB v2 ã«ã¤ã„ã¦ã¾ã¨ã¾ã£ã¦ã„ã‚‹ Web ã‚µã‚¤ãƒˆ\n- [SMT-LIB-benchmarks / QF_UF Â· GitLab (uiowa.edu)](https://clc-gitlab.cs.uiowa.edu:2443/SMT-LIB-benchmarks/QF_UF)\nQF_UF ã®ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ç”¨å…¥åŠ›ãŒå¤§é‡ã«ç”¨æ„ã•ã‚Œã¦ã„ã‚‹\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/other/SAT-SMT/SymbolicExecution":{"title":"ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯å®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³","content":"\n## èª¬æ˜\n\nãƒ—ãƒ­ã‚°ãƒ©ãƒ ä¸Šã§ç›®çš„ã®åœ°ç‚¹ã«åˆ°é”ã—ãŸã„ã¨ãã€ãã‚Œã«å½“ã¦ã¯ã¾ã‚‹ã‚ˆã†ãªå…¥åŠ›å€¤ã®æ¡ä»¶ã‚’æ•°å­¦çš„ã«è§£ããƒ—ãƒ­ã‚°ãƒ©ãƒ ã€‚æ¡ä»¶åˆ†å²ã”ã¨ã«æ¡ä»¶å¼ã‚’è¿½åŠ ã—ã¦ãã‚Œã‚’SMTã‚½ãƒ«ãƒã«è§£ã‹ã›ã‚‹ã€‚\n\nConcolic Execution\nSSAå½¢å¼ã¨CFGãŒå¯¾å¿œã™ã‚‹\nTaint è§£æ\n\n## è¨ˆç®—é‡\n\næ¡ä»¶åˆ†å²æ•°ã‚’ $N$ ã¨ã—ã¦ $O(2^N)$\n\n## å®Ÿè£…\n\nãƒ¬ã‚¸ã‚¹ã‚¿, ãƒ¡ãƒ¢ãƒªã«é–¢ã™ã‚‹åˆ¶ç´„ã¨SSAå½¢å¼ã®IRã‚’æ¡ä»¶å¼ã¨ã—ã¦SMTã‚½ãƒ«ãƒã§è§£ãã€‚\n- [Rustã§ã®å®Ÿè£… (mini_symbolic)](https://github.com/anko9801/mini_symbolic)\n\n## ä½¿ç”¨ä¾‹\n\nã‚·ãƒ³ãƒœãƒªãƒƒã‚¯å®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ angr ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã€‚\n\n```python\nimport angr\nimport logging\n\nbinary_path = './chall'\n\ntarget = angr.Project(binary_path, main_opts={'base_addr': 0x10000})\nlogging.getLogger('angr').setLevel(logging.CRITICAL)\nentry_state = target.factory.entry_state()\nsimulation = target.factory.simulation_manager(entry_state)\nsimulation.explore(find=0x000115b1, avoid=0x000115c4)\nfor sf in simulation.found:\n    print(sf.posix.dumps(0))\n\nsolution - simulation.found[0].posix.dumps(0)\nprint(solution)\n```\n\n## å‚è€ƒ\n\n- [ãƒã‚¤ãƒŠãƒªèŒãˆã®å½¼å¥³ãŒã‚·ãƒ³ãƒœãƒªãƒƒã‚¯å®Ÿè¡Œã«æ‹ç€ã—ã¦ã¾ã™ãŒã€åˆ¶ç´„ã«æŒ‘ã‚€å¹¼æ°—ãªè¡¨æƒ…ãŒæœ€é«˜ã§ã™ï¼ï¼ˆï¼‘ï¼‰](https://speakerdeck.com/katc/bainarimeng-efalsebi-nu-gasinboritukushi-xing-nilian-zhao-sitemasuga-zhi-yue-nitiao-muyou-qi-nabiao-qing-gazui-gao-desu-1)\n- [Girls Meets Symbolic Execution: Assertion 2. Automated Exploit Generation](https://speakerdeck.com/katc/girls-meets-symbolic-execution-assertion-2-automated-exploit-generation)\n- [å®Ÿè£…ã—ã¦å­¦ã¶ Symbolic Backward Execution](https://speakerdeck.com/katc/shi-zhuang-sitexue-bu-symbolic-backward-execution-aceefce8-d25e-4db0-8ebb-d648bb2c41cd)\n- [ãƒ—ãƒ­ã‚°ãƒ©ãƒ è§£æå…¥é–€ã€ã‚‚ã—ãã¯C/C++ã‚’å®‰å…¨ã«æ›¸ãã®ãŒé›£ã—ã™ãã‚‹è©± - Google ã‚¹ãƒ©ã‚¤ãƒ‰](https://docs.google.com/presentation/d/1WHmCLeC5ZPiq2MBOQaZc-pNVWaJanx8eXAkViGl2zws/edit#slide=id.g135752f5899_0_673)\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/other/Server/Cloud":{"title":"Cloud","content":"\nAWS\n- [7777 - Your remote AWS database on your local port 7777](https://port7777.com/)\n- [Scanning for AWS Security Issues With Trivy | liamg](https://lia.mg/posts/trivy-aws/)\nGAS\n- [google/clasp: ğŸ”— Command Line Apps Script Projects (github.com)](https://github.com/google/clasp)\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/other/Server/Monitor":{"title":"","content":"\n## Prometheus\n\n\n## Grafana\nãƒ“ãƒ¥ãƒ¼ãƒ¯ãƒ¼\nã‚µãƒ¼ãƒãƒ¼ä¸Šã§grafanaã‚’ç«‹ã¦ã¦Caddyã§å¤–ã‹ã‚‰è¦‹ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹\ndocker-composeã«å…¥ã‚Œã‚Œã°ã„ã„\n```\n{{ grafana.host }} {\n  reverse_proxy localhost:3000\n}\n```\n\n## ãƒ­ã‚°å¯è¦–åŒ–\nãƒ­ã‚°ä¿å­˜ã€é›†è¨ˆã—ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã«ã™ã‚‹\n- #Loki\n\n## ãƒ­ã‚°è»¢é€\n- Promtail\n- Fluentd\n- Fluent Bit\n\n## Alertmanager\nSlackã«ã‚¢ãƒ©ãƒ¼ãƒˆã‚’é£›ã°ã™\ndocker-compose ã«å…¥ã‚Œã‚Œã°ã„ã„\n\n## node_exporter\n\n## Continuous profiling\nphlare","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/other/Server/RDBMS":{"title":"RDBMS","content":"\n### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨ã¯\n- [B-Tree/B+Tree](https://qiita.com/kiyodori/items/f66a545a47dc59dd8839)LSMãƒ„ãƒªãƒ¼ã¨å‘¼ã°ã‚Œã‚‹å¹³è¡¡Nåˆ†æœ¨ã§æ§‹ç¯‰ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã®é›†åˆã€‚ãƒ¡ãƒ¢ãƒª/å®Ÿè¡Œæ™‚é–“æœ€é©åŒ–ã€æ’ä»–åˆ¶å¾¡ã‚’ã‚ˆã—ãªã«ã‚„ã£ã¦ãã‚Œã¾ã™ã€‚\n- ã‚„ã‚Šå–ã‚Šã«äººé–“ãŒã‚ã‹ã‚Šã‚„ã™ã„è¨€è‘‰`DDL(Data Definition Language) DML(Data Manipulation Language) DCL(Data Control Language)`ã‚’ä½¿ã£ã¦DBã‚’æ“ä½œã—ã¾ã™ã€‚ä¾‹ãˆã°`Structured Query Language(SQL)`ãªã©ãŒã‚ã‚Šã¾ã™ã€‚\n- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚·ã‚¹ãƒ†ãƒ ã¨SQLã¯ã”ã£ã¡ã‚ƒã«ã—ã¦è¨€ã‚ã‚Œã‚„ã™ã„ã®ã§æ³¨æ„ã€‚ä¾‹ãˆã°ã€MariaDBã¯MySQLã‹ã‚‰æ´¾ç”Ÿã—ãŸ`Relational Database Management System(RDBMS)`ã®ä¸€ç¨®ã ã¨ã‹ã€`Not only SQL(NoSQL)`ã¯ã‚¯ãƒ©ã‚¦ãƒ‰ã®DBã«å¯¾ã—ã¦ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¼é€ã‚³ã‚¹ãƒˆã‚’é¿ã‘ã¦æœ€é©åŒ–ã•ã‚ŒãŸéRDBMSã§ã€MongoDBã‚„AWSã®DynamoDB, RedisãŒãã‚Œã«å«ã¾ã‚‹ãªã©ã€‚\n\n### å…·ä½“çš„ã«ã©ã‚“ãªå‡¦ç†ãŒã•ã‚Œã¦ã„ã‚‹ã®ã‹\n\nå·¥äº‹ä¸­\n:::spoiler\nhttps://zenn.dev/tzkoba/articles/bb6d31d46be8b3\n\n\nã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ¼ãƒ«\nã‚¯ã‚¨ãƒªãƒ‘ãƒ¼ã‚µ\nã‚¯ã‚¨ãƒªãƒ¼ã‚­ãƒ£ãƒƒã‚·ãƒ¥\nã‚¯ã‚¨ãƒªãƒ—ãƒ©ãƒ³ãƒŠãƒ¼\nã‚¯ã‚¨ãƒªã‚¨ã‚¯ã‚¹ã‚­ãƒ¥ãƒ¼ã‚¿\nã‚¢ã‚¯ã‚»ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰\nãƒãƒƒãƒ•ã‚¡ãƒ—ãƒ¼ãƒ«ãƒãƒãƒ¼ã‚¸ãƒ£ = ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¨ãƒ³ã‚¸ãƒ³?\nãƒ‡ã‚£ã‚¹ã‚¯ãƒãƒãƒ¼ã‚¸ãƒ£\n\n[å®Ÿè¡Œé †åº](https://qiita.com/k_0120/items/a27ea1fc3b9bddc77fa1)\nFROMå¥\nJOINå¥\nWHEREå¥\nGROUP BYå¥\nHAVINGå¥\nSELECTå¥\nORDER BYå¥\nLIMITå¥\n\n\nã‚¢ã‚¯ã‚»ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰CRUD\n\nmemcached\nRedis\n\nãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³\n\nãƒ†ãƒ³ãƒãƒ©ãƒªãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«\n\nã‚¯ãƒ©ãƒƒã‚·ãƒ¥ãƒªã‚«ãƒãƒª\nRedundant Array of Independent Disks\nRAID 0ãƒ»RAID 1ãƒ»RAID 5ã€ãŠã‚ˆã³ã“ã‚Œã‚‰3æ–¹å¼ã®çµ„ã¿åˆã‚ã›ãŒç”¨ã„ã‚‰ã‚Œã¦ã„ã‚‹ã€‚å¾Œã«RAID 5ã‚’æ‹¡å¼µã—ãŸRAID 6ãŒå®šç¾©ã•ã‚Œã€RAID 5ã‚ˆã‚Šè€éšœå®³æ€§ãŒå¿…è¦ãªå ´é¢ã§åˆ©ç”¨ã•ã‚Œã¦ã„ã‚‹ã€‚\näºŒé‡æ›¸ãè¾¼ã¿ãƒãƒƒãƒ•ã‚¡ãƒ¼\nãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒ­ã‚°\n\nã‚¯ãƒ©ã‚¹ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹\nã‚»ã‚«ãƒ³ãƒ€ãƒªã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹\nã‚­ãƒ¼ã€€ã‚»ã‚«ãƒ³ãƒ€ãƒªã‚­ãƒ¼ã€€ãƒãƒªãƒ¥ãƒ¼ã€€ãƒ—ãƒ©ã‚¤ãƒãƒªãƒ¼ã‚­ãƒ¼\nã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ãƒ‰ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹\nãƒ†ãƒ¼ãƒ–ãƒ«ã‚’B+Treeã«å…¥ã‚Œã‚‹\n\nMemcomparable format\n\n[ProxySQL](https://qiita.com/yoan/items/ba62dd65b24ac1b6a458)\n\nã‚·ãƒªã‚¢ãƒ«ã€€æ•°å­—ã®ç¾…åˆ—\nã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã€€é †ç•ªã«ä¸¦ã¶æ•°å­—åˆ—\n\nè² è·åˆ†æ•£æŠ€è¡“\næ°´å¹³åˆ†å‰²(ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°)ã€€ãƒ¬ã‚³ãƒ¼ãƒ‰å˜ä½ã§åˆ†å‰²\nå‚ç›´åˆ†å‰²ã€€ã‚«ãƒ©ãƒ å˜ä½ã§åˆ†å‰²\n\nãƒ¯ãƒ¼ã‚¯ãƒ©ã‚¦ãƒ³ãƒ‰ã€€å›é¿ç­–\nãƒ¯ãƒ¼ã‚¯ãƒ­ãƒ¼ãƒ‰ã€€ä»•äº‹é‡\n\nã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¨ãƒ³ã‚¸ãƒ³\nãƒ‡ãƒ¼ã‚¿å¤‰æ›\nã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹\nãƒ¡ãƒ¢ãƒªåˆ©ç”¨\nãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³\nåŒæ™‚å®Ÿè¡Œæ€§(æ’ä»–åˆ¶å¾¡)\nãƒ¦ãƒ‹ãƒ¼ã‚¯ãƒ•ã‚¡ãƒ³ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆMyISAMã®ç©ºé–“æƒ…å ±ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãªã©ï¼‰\ninnoDB : MySQLã§ã‚‚ã£ã¨ã‚‚æ±ç”¨ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¨ãƒ³ã‚¸ãƒ³\n\nACID\nA: åŸå­æ€§\nC: ä¸€è²«æ€§\nI: åˆ†é›¢æ€§\nD: æŒç¶šæ€§\n\nMySQL InnoDB memcached Plugin\nhttps://qiita.com/hypermkt/items/ccfb47e69c4a6a3ce09a\nãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã£ã¦ä½•ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ï¼Ÿ\nã“ã‚Œã£ã¦memcachedã¨ä½•ãŒé•ã†ã®\n\n\nMEMORY ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¨ãƒ³ã‚¸ãƒ³\nhttps://dev.mysql.com/doc/refman/5.6/ja/memory-storage-engine.html\nã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¨ãƒ³ã‚¸ãƒ³ã‚’MEMORYã«ã™ã‚‹ã®ã¯ã‹ãªã‚Šæ³¨æ„ãŒå¿…è¦(NaruseJunãŒãã‚Œã§ãƒ¡ãƒ¢ãƒªä½¿ã„æœãŸã—ã¦é¯–çˆ†ç ´ã—ã¦ã„ãŸã¯ãš)\n\nINVISIBLE COLUMNS \\*ã§ã¨ã‚Šã ã•ã‚Œãªã„\nINSERT RETURNING\nFOREIGN KEY https://www.dbonline.jp/mysql/table/index11.html\n:::\n\n### Collation(ç…§åˆé †åº)\næ–‡å­—åˆ—ã‚’ã©ã†ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã—ã¦B+ãƒ„ãƒªãƒ¼ã«ã©ã†ã‚½ãƒ¼ãƒˆã—ã¦çªã£è¾¼ã‚€ã‹ã‚’è¨­å®šã§ãã¾ã™ã€‚DBå˜ä½ã€ãƒ†ãƒ¼ãƒ–ãƒ«å˜ä½ã€ã‚«ãƒ©ãƒ å˜ä½ã§è¨­å®šå¯èƒ½ã€‚\n\n```\nCREATE TABLE `utf8mb4_test`.`utf8mb4_test` (\n  `id` int(10) NOT NULL AUTO_INCREMENT,\n  `str` varchar(1000) COLLATE utf8mb4_bin NOT NULL,\n  PRIMARY KEY (`id`),\n  KEY `str` (`str`(767))\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n```\n`æ–‡å­—ã‚³ãƒ¼ãƒ‰_è¨€èªå_æ¯”è¼ƒæ³•`\n\n#### æ–‡å­—ã‚³ãƒ¼ãƒ‰(Character Set)\nutf8ã¨ã‹eucã¨ã‹ãŒå…¥ã‚Šã¾ã™ã€‚\ncp932ã‚„big5ãªã©ã¯å±é™ºãªã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚‰ã—ã„(ã—ã‚‰ã‚“ã‘ã©)\n\nconoHaãŒã“ã‚Œã§ã‚„ã‚‰ã‹ã—ã¦ã„ãŸã‚‰ã—ã„\ntraP SysAd TechBook ã‚ˆã‚Š\nãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã§â¼¤ã‚ã‚‰ã‚ï¼\n\n2019å¹´8â½‰6â½‡å¤œ ConoHaã®ãƒãƒãƒ¼ã‚¸ãƒ‰DBã§ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãŒã‚ã‚Šã¾ã—ãŸã€‚SysAdç­ã§\nã¯ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã®å­˜åœ¨ã‚’çŸ¥ã‚‰ãšã€æ€¥ã«traQãªã©ãŒæ©Ÿèƒ½ã—ãªããªã£ãŸãŸã‚â¼€ç¬æ··ä¹±ãŒèµ·ã\nã¾ã—ãŸã€‚ã—ã‹ã—ãã®å¾Œã™ãã€@takashi_trapãŒãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã§ã‚ã‚‹ã“ã¨ã‚’ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ã—æ··ä¹±\nã¯åæŸã—ã¾ã—ãŸã€‚\nã—ã‹ã—ã€æœ¬å½“ã®æ··ä¹±ã¯ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹å¾Œã«ç™ºâ½£ã—ãŸã®ã§ã™ã€‚traQã®å¾©æ—§ã«ã‚ˆã‚Šãƒ¡ãƒ³ãƒãƒ¼\nãŒtraQã«æˆ»ã£ã¦ããŸã®ã§ã™ãŒã€ä¸‹ã®ã‚ˆã†ãªæŠ•ç¨¿ãŒã„ã‚ã‚“ãªãƒãƒ£ãƒ³ãƒãƒ«ã§å‡ºå§‹ã‚ãŸã®ã§\nã™ã€‚\nå›³2.6: è¡¨â½°åãŒå£Šã‚ŒãŸãƒ¡ãƒ³ãƒãƒ¼ã®æŠ•ç¨¿ï¼ˆä¿®æ­£å¾Œã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’æ’®ã£ãŸï¼‰\nãã®å¾Œã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèªã—ã¦ã¿ã‚‹ã¨ã€ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ã§â¼€éƒ¨ã®çµµâ½‚\nå­—ãƒ‡ãƒ¼ã‚¿ãŒç ´æã—ã¦ã„ã‚‹ã“ã¨ãŒç¢ºèªã•ã‚Œã¾ã—ãŸã€‚ç­å†…ã§æ¤œè¨ã—ãŸã¨ã“ã‚ã€ãŠãã‚‰ãã€Œå¯¿å¸ãƒ“\nãƒ¼ãƒ«å•é¡Œã€ã¨ã—ã¦æœ‰åãªã€utf8mb4ã®ãƒ‡ãƒ¼ã‚¿ã‚’utf8ã¨ã—ã¦æ‰±ã£ã¦ã—ã¾ã£ãŸã“ã¨ã«ã‚ˆã‚‹4ãƒã‚¤ãƒˆ\nâ½‚å­—ã®ç ´æã§ã‚ã‚‹ã ã‚ã†ã¨ã„ã†çµè«–ã«â¾„ã‚Šã¾ã—ãŸã€‚\nConoHaã«å•ã„åˆã‚ã›ã¦ã¿ã¾ã—ãŸãŒã€ç§é”ã®æ¨æ¸¬é€šã‚Šãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã§ã¯ãƒã‚·ãƒ³ã®â¼Šã‚Œ\næ›¿ãˆã®ãŸã‚ã«ãƒ‡ãƒ¼ã‚¿ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’â¾ãªã£ã¦ãŠã‚Šã€ãã®éš›ã«utf8ã§ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å–ã£\nãŸã¨ã®ã“ã¨ã€‚ConoHaå´ãŒæŒã£ã¦ã„ã‚‹å®Œå…¨ãªãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¯2â½‰æ™‚ç‚¹ã®ã‚‚ã®ã§ãã‚Œä»¥é™ã®\nãƒ‡ãƒ¼ã‚¿ã‚’å¾©æ—§ã™ã‚‹ã“ã¨ã¯ä¸å¯èƒ½ã§ã‚ã‚‹ã¨å›ç­”ãŒã‚ã‚Šã¾ã—ãŸ*3ã€‚å¤–éƒ¨ã«å…¬é–‹ã•ã‚Œã¦ã„ã‚‹\nBlogã‚µãƒ¼ãƒ“ã‚¹ã®ã¿ã€ãŸã¾ãŸã¾2é€±é–“ã»ã©å‰ã«Blogã‚µãƒ¼ãƒ“ã‚¹ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—æ¤œè¨¼ã‚’â¾\nã†ãŸã‚ã«å–ã£ã¦ã„ãŸãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å·®åˆ†ã‚’å¾©æ—§ã™ã‚‹ã“ã¨ã§å¯¾å‡¦ã—ã¾ã—ãŸã€‚\nã¾ã•ã‹ã“ã‚“ãªã“ã¨ã£ã¦ã‚ã‚‹ã‚“ã§ã™ã­ã‡â€¦â€¦ã¨ãªã£ãŸäº‹ä»¶ã§ã—ãŸ\n\n#### è¨€èªå\njapaneseã‚„thaiã‚„generalã€unicodeãªã©ãŒå…¥ã‚Šã¾ã™ã€‚\ngeneralã‚„unicodeã¯ãƒãƒ«ãƒãƒªãƒ³ã‚¬ãƒ«ã®äº‹(utf8ã«japaneseã¯ãªã„)ã€‚\n\n#### æ¯”è¼ƒæ³•\n`_ci _cs _bin`ã®ã„ãšã‚Œã‹(ã§çµ‚ã‚ã‚‹)\n\n\\_ci: å¤§æ–‡å­—ã¨å°æ–‡å­—ãŒåŒºåˆ¥ã•ã‚Œãªã„\n\\_cs: å¤§æ–‡å­—ã¨å°æ–‡å­—ãŒåŒºåˆ¥ã•ã‚Œã‚‹\n\\_bin: ãƒã‚¤ãƒŠãƒª\n\n#### utf8_general_ciã¨utf8_unicode_ciã®ä½¿ã„åˆ†ã‘\nunicode ã®æ–¹ã¯ã‚ã„ã¾ã„ãªç…§åˆãŒå¯èƒ½ã§ã™ã€‚å…¨è§’ã€åŠè§’ã€å¤§æ–‡å­—ã€å°æ–‡å­—ã‚’ç„¡è¦–ã—ã¦ä¸€è‡´ã™ã‚‹ã‚‚ã®ã‚’æ¤œç´¢ã§ãã¾ã™ã€‚\n\nãŸã¨ãˆã°ã€æ¤œç´¢æ–‡å­—ã«`MySQL`ã‚’æŒ‡å®šã—ãŸæ™‚ã¨ã€`ï½ï½™ï½“ï½‘ï½Œ`ã‚’æŒ‡å®šã—ãŸæ™‚ã®æ¤œç´¢çµæœã¯åŒã˜ã«ãªã‚Šã¾ã™ã€‚\n\ngeneral ã®æ–¹ã¯ãã®é€†ã§ã€å³å¯†ã«é•ã„ã¨ã—ã¦èªè­˜ã•ã‚Œå…ˆã®ä¾‹ã®æ¤œç´¢çµæœã¯ç•°ãªã‚Šã¾ã™ã€‚\n\nã©ã¡ã‚‰ã‚‚é …ç›®ã®ç”¨é€”ã«ã‚ˆã£ã¦ä½¿ã„åˆ†ã‘ã‚‹ã®ãŒã€ã‚ã‚‹ã¹ãå§¿ãªã®ã§ã¯ç„¡ã„ã‹ã¨æ€ã„ã¾ã™ã€‚\n\n`utf8mb4_bin`ã®ãŒ`utf8mb4_general_ci`ã‚ˆã‚Šå°‘ã—ã¯ã‚„ã„ã‚‰ã—ã„ https://yakst.com/ja/posts/5431\nMySQL8ãªã‚‰`utf8mb4_0900_bin`ã‚’è©¦ã—ã¦ã¿ã‚‹ https://qiita.com/hmatsu47/items/d66830c8a00c21f5edad\n\n\n### ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³\nINSERT, UPDATEæ–‡ã‚’è¤‡æ•°é€ã‚‹ã¨ãã€ãã®ä¸€éƒ¨ã ã‘ãŒãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«åæ˜ ã•ã‚Œã‚‹ã¨ã€ä¸€æ™‚çš„ã«ã›ã‚ˆã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å…¨ä½“ã¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ãŒä¸æ•´åˆãªçŠ¶æ…‹ã¨ãªã‚Šã¾ã™ã€‚ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ã†ã“ã¨ã§ãã‚Œã‚‰ã‚’åŒæ™‚ã«å®Ÿè¡Œã•ã›ã‚‰ã‚Œã¾ã™ã€‚\n\nBEGINã‹ã‚‰å§‹ã¾ã‚ŠCOMMIT/ROLLBACKã§çµ‚ã‚ã‚‹ã€‚\n\nWAL(Write Ahead Logging)\n\nTODO: FOR UPDATEã¨ã®é•ã„\nFOR UPDATEï¼ˆå…ˆè¡Œã—ã¦è¡Œãƒ­ãƒƒã‚¯ã‚’ç²å¾—ã—ãŸãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãŒãƒ­ãƒƒã‚¯ã‚’é–‹æ”¾ã™ã‚‹/ãƒ­ãƒƒã‚¯ãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã™ã‚‹ã¾ã§å¾…ãŸã•ã‚Œã‚‹ï¼‰\nNOWAITï¼ˆãƒ­ãƒƒã‚¯ãŒç²å¾—ã§ããªã‹ã£ãŸã¨ãã¯å³æ™‚ã«ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™ï¼‰\nSKIP LOCKEDï¼ˆå³æ™‚ã«ç²å¾—å¯èƒ½ãªãƒ­ãƒƒã‚¯ã®ã¿ç²å¾—ã—ã¦çµæœã‚’è¿”ã™ï¼‰\nhttps://www.informit.com/articles/article.aspx?p=29312\n- [ãƒã‚¹ãƒˆã•ã›ãŸã„ã¨ãã¯SAVEPOINT](https://qiita.com/_natsu_no_yuki_/items/e1db2a132cbff740896d)\n\n| BEGINæ–‡  | SAVEPOINTæ–‡                |\n| -------- | -------------------------- |\n| BEGIN    | SAVEPOINT hoge             |\n| COMMIT   | RELEASE SAVEPOINT hoge     |\n| ROLLBACK | ROLLBACK TO SAVEPOINT hoge |\n\n```go\ntx, err := db.Begin()\nif err != nil {\n\tlog.Println(err)\n}\n\n_, err = tx.Exec(\"INSERT INTO test_user(name) VALUES(?)\", \"TRANS\")\nif err != nil {\n\tlog.Println(err)\n}\n\n// run something\n\nif err != nil {\n    // ã‚‚ã¨ã®çŠ¶æ…‹ã«æˆ»ã™\n    err = tx.Rollback()\n\tif err != nil {\n\t\tlog.Println(err)\n\t}\n} else {\n    // ã‚¯ã‚¨ãƒªã‚’å®Ÿè¡Œã™ã‚‹\n    err = tx.Commit()\n\tif err != nil {\n\t\tlog.Println(err)\n\t}\n}\n```\n\n### PreparedStatement\nINSERTæ–‡ãªã©å€¤ã¯é•ãˆã©åŒã˜ã‚¯ã‚¨ãƒªã‚’å¤§é‡ã«å®Ÿè¡Œã—ãŸã„ã¨ãæ¯å›ã‚¯ã‚¨ãƒªã‚’è§£æã›ãšæœ€åˆã«1å›è§£æã™ã‚Œã°å¾Œã¯ãã‚Œã‚’ä½¿ã„å›ã—ã¦é«˜é€ŸåŒ–ã—ã‚ˆã†ã¨ã„ã†æ©Ÿèƒ½ã§ã™ã€‚(å¤šåˆ†ãƒ‘ãƒ¼ã‚¹ã—ã¦ã‚¯ã‚¨ãƒªãƒ—ãƒ©ãƒ³ãƒŠãƒ¼ã«çªã£è¾¼ã‚“ã çŠ¶æ…‹ã«ã—ã¦ã‚ã‚‹ã ã‘)\n\n- Goæ¨™æº–ã®SQLãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ã‚’ç”¨ã„ãŸã‚¯ã‚¨ãƒªã¯æš—é»™çš„ã«PreparedStatementã‚’ä½¿ã£ã¦ã„ã‚‹\n- åŒã˜ã‚¯ã‚¨ãƒªã§ã¯ãªã„ã¨ãæ®µéšã‚’è¸ã‚€ä¸Šã§ã‚³ã‚¹ãƒˆãŒæ›ã‹ã‚Šé…ããªã‚‹(ADMIN PREPAREãŒå¤šããªã‚‹)\nãã“ã§`interpolateParams=true`ã‚’ä½¿ã£ã¦PreparedStatementã‚’æ¸›ã‚‰ã›ã‚‹\nhttp://dsas.blog.klab.org/archives/52191467.html\n- ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ä¸­ã«PreparedStatementã™ã‚‹ã¨ãã¯å…ˆã«Closeã—ã¦Commitã—ãªã„ã¨ä¸æ•´åˆãŒèµ·ã“ã‚‹\n- ã‚¯ã‚¨ãƒªã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã¯SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–ã«ã‚‚ãªã‚‹ã€‚fmt.Sprintf()ã§ä½œã‚‰ãªã„ã‚ˆã†ã«ã™ã‚‹ã€‚\n```go\n// interpolateParams=true\ndb, err := sql.Open(\"mysql\", \"root:password@tcp(localhost:3306)/test?interpolateParams=true\u0026collation=utf8mb4_bin\")\n// SQLæ–‡ã‚’å—ã‘å–ã£ã¦è§£æã—ã€å€¤ãŒã‚ã‚Œã°ã„ã¤ã§ã‚‚å®Ÿè¡Œã§ãã‚‹çŠ¶æ…‹ã«ã™ã‚‹\nstmt, err := db.Prepare(query)\nif err != nil {\n    return\n}\n// PreparedStatementã‚’é–¢æ•°ã®çµ‚ã‚ã‚Šã§çµ‚äº†ã•ã›ã‚‹\ndefer stmt.Close()\n// SQLæ–‡ã«å¿…è¦ãªå€¤ã‚’ã‚»ãƒƒãƒˆã—ã¦å®Ÿè¡Œ\nstmt.Exec(value)\n```\n\n### ç”Ÿæˆã‚«ãƒ©ãƒ (generated column)\n\nhttps://qiita.com/hmatsu47/items/128ece7276e4deac1477\nä»–ã®ã‚«ãƒ©ãƒ ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦æ–°ã—ã„ã‚«ãƒ©ãƒ ã‚’ä½œã‚‹\n- VIRTUAL ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãŒå…¥ã£ãŸã¨ãã«ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆã™ã‚‹\n- STORED INSERTã—ãŸã¨ãã«ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆã™ã‚‹\n\nNOT NULLã‚’ç”¨ã„ã‚Œã°åˆ¶ç´„ã«åˆã‚ãªã„ã‚‚ã®ãŒããŸã‚‰ã‚¨ãƒ©ãƒ¼ã‚’åã‹ã›ã¦ã€ãƒ‡ãƒ¼ã‚¿ã«åˆ¶ç´„ã‚’ä½œã‚‹ã“ã¨ãŒã§ãã‚‹\nCHECKã§ã‚„ã‚Œã£ã¦è©±\nhttps://yakst.com/ja/posts/2834\nVIRTUALã®ã¨ãä»®æƒ³åˆ—ã¨å‘¼ã³ãã‚Œã‚’ä½¿ã£ãŸINDEXã‚’ä»®æƒ³ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¨å‘¼ã¶\nã“ã®è¨­è¨ˆã«ãŠã„ã¦ã€ä»®æƒ³åˆ—ã¯ç°¡å˜ã«è¿½åŠ ã—ã¦å‰Šé™¤ã™ã‚‹ã“ã¨ãŒã§ãã€ã‹ã¤ãƒ†ãƒ¼ãƒ–ãƒ«å…¨ä½“ã‚’ãƒªãƒ“ãƒ«ãƒ‰ã™ã‚‹å¿…è¦ã‚‚ãªã„ã€‚ã“ã‚Œã«ã‚ˆã‚Šé–¢é€£ã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ã®ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´ãŒã¨ã¦ã‚‚ç°¡å˜ã‹ã¤é«˜é€Ÿã«ãªã‚‹ã€‚\n\né«˜é€Ÿãªä»®æƒ³åˆ—ã®ç®¡ç†\n`mysql\u003e ALTER TABLE t ADD new_col INT GENERATED ALWAYS AS (a - b) VIRTUAL;`\n\n### ãƒ¡ãƒ¢ãƒªæœ€é©åŒ–\n\nhttps://dev.mysql.com/doc/refman/5.6/ja/data-size.html\n`MEDIUMINT` `INT`ã®25%å‰Šæ¸›\n`NOT NULL` nullç¢ºèªã®å‡¦ç†ãŒãªããªã‚‹\n\nã§ãã‚‹ã ã‘å°‘ãªã\nhttps://phpjavascriptroom.com/?t=mysql\u0026p=columntype\n\n### ã‚­ãƒ¼ã‚­ãƒ£ãƒƒã‚·ãƒ¥\nMyISAM\nhttps://dev.mysql.com/doc/refman/5.6/ja/myisam-key-cache.html\nãƒ†ãƒ¼ãƒ–ãƒ«ãƒ–ãƒ­ãƒƒã‚¯ã¨ã¯ï¼Ÿ\n\nãƒšãƒ¼ã‚¸ãƒ³ã‚°ã«æ³¨æ„ã™ã¹ãã‚­ãƒ£ãƒƒã‚·ãƒ¥\nInnoDB ãƒãƒƒãƒ•ã‚¡ãƒ—ãƒ¼ãƒ«\nMyISAM ã‚­ãƒ¼ã‚­ãƒ£ãƒƒã‚·ãƒ¥\nMySQL ã‚¯ã‚¨ãƒªãƒ¼ã‚­ãƒ£ãƒƒã‚·ãƒ¥\n\né »ç¹ãªæ›´æ–°ã‚’å®Ÿè¡Œã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã€å¤šãã®å ´åˆã«å°‘æ•°ã®ã‚«ãƒ©ãƒ ã®ã‚ã‚‹å¤šæ•°ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½¿ç”¨ã—ã€å¤§é‡ã®ãƒ‡ãƒ¼ã‚¿ã‚’è§£æã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã€å¤šãã®å ´åˆã«å¤šæ•°ã®ã‚«ãƒ©ãƒ ã®ã‚ã‚‹å°‘æ•°ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚\n\næ­£è¦å½¢\n\nInnoDB ã¯ã€ã»ã¨ã‚“ã©ã®ãƒ‡ãƒ¼ã‚¿ã¾ãŸã¯ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ¡ãƒ¢ãƒªãƒ¼ã«ä¿æŒã™ã‚‹æ±ç”¨çš„ã§æ°¸ç¶šçš„ãªæ–¹æ³•ã‚’æä¾›\n\ntmpfs\nã‚»ãƒƒã‚·ãƒ§ãƒ³ã¨ã¯ï¼Ÿ\n\n### ORM O/Rãƒãƒƒãƒ‘ãƒ¼\né–‹ç™ºåŠ¹ç‡ã‚’ä¸Šã’ã‚‹ç‚ºã®SQLã®ãƒ©ãƒƒãƒ‘ãƒ¼(ã‚¯ã‚¨ãƒªãƒ¼ãƒ“ãƒ«ãƒ€ãƒ¼)\nex.) gorm\n[O/Rãƒãƒƒãƒ‘ãƒ¼ã«ã‚ˆã‚‹ãƒˆãƒ©ãƒ–ãƒ«ã‚’æœªç„¶ã«é˜²ã (slideshare.net)](https://www.slideshare.net/kwatch/how-topreventorm-troubles)\n\n### isolation level\nè¤‡æ•°ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãŒ1ã¤ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’æ“ä½œã™ã‚‹ã¨ãã®ä¸æ•´åˆã«ã¤ã„ã¦ã©ã®ç¨‹åº¦è¨±å®¹ã™ã‚‹ã‹\n1. READ UNCOMMITTED ... COMMIT ã•ã‚Œã¦ãªã„ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®å¤‰æ›´ã‚’å‚ç…§ã§ãã‚‹\n2. READ COMMITTED ... COMMIT ã•ã‚ŒãŸãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®å¤‰æ›´ã‚’å‚ç…§ã§ãã‚‹\n3. REPEATABLE READ ... COMMIT ã•ã‚ŒãŸãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®è¿½åŠ ã‚’å‚ç…§ã§ãã‚‹\n4. SERIALIZE ... å‚ç…§ä¸å¯\n\n2ä»¥é™ã‚’å®Ÿç¾ã™ã‚‹ç‚ºã«ã¯ `SELECT` ã§å…±æœ‰ãƒ­ãƒƒã‚¯, `UPDATE` `INSERT` ã§å°‚æœ‰ãƒ­ãƒƒã‚¯ã‚’å–å¾—ã™ã‚Œã°ã‚ˆã„. ãƒ­ãƒƒã‚¯ã®å–å¾—ã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ä¸‹ã’ã‚‹ã®ã§ãªã‚‹ã¹ãã—ãŸããªã„. ãã“ã§MVCC .\n\n### MultiVersion Concurrency Controll: MVCC\n\n- `DB_ROW_ID` ... è¡ŒID\n- `DB_TRX_ID` ... æœ€å¾Œã«updateã—ãŸãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ID\n- `DB_ROLL_PTR` ... ãƒ¬ã‚³ãƒ¼ãƒ‰ã®éå»ã®å€¤ã‚’æŒã¤undo log recordã¸ã®ãƒã‚¤ãƒ³ã‚¿\n\nå‚ç…§ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³IDãŒ `DB_TRX_ID` ã‚ˆã‚Šå¤§ãã„ãªã‚‰å¤‰æ›´å¾Œã®å€¤ã‚’å‚ç…§, å°ã•ã„ãªã‚‰ undo log record ã‹ã‚‰æ¢ã—ã¦å‚ç…§, è¿½åŠ ã—ãŸãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³IDã‚ˆã‚Šå°ã•ã„ãªã‚‰å‚ç…§ã§ããªã„.\n\n[MySQLã®MVCC - Qiita](https://qiita.com/nkriskeeic/items/24b7714b749d38bba87b)\n\n### Conflict-free replicated data type\n\nCAPã®å®šç†\n-   Partition Tolerance: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãŒæ•…éšœã—ã¦ã‚‚\n-   Consistency: ãƒ‡ãƒ¼ã‚¿ã®æ•´åˆæ€§ã‚’ã‚‚ã£ã¦\n-   Availability: èª­æ›¸ãŒå¸¸ã«ã§ãã‚‹\n\n3ã¤åŒæ™‚ã«æº€ãŸã™ã“ã¨ã¯ã§ããªãã¦ã€æº€ãŸã›ã¦ã‚‚2ã¤ã¾ã§ã¨ã„ã†å®šç†\n\nAPã‚’æº€ãŸã™ -\u003e Conflict-free replicated data type\n\nå¯æ›ãªæ“ä½œã®ã¿æ‰±ã„ã€å¾Œã§ãƒãƒ¼ã‚¸ã™ã‚‹ -\u003e ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ç¹‹ãŒã£ã¦ã„ãªãã¦ã‚‚æ“ä½œå¯èƒ½ï¼\nãã‚Œãã‚Œã®DBãŒgitã®ãƒ–ãƒ©ãƒ³ãƒã¿ãŸã„ãªæ°—æŒã¡\n\n\n[Goã«ãŠã‘ã‚‹å‹ã«ã‚ˆã£ã¦SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã‚’é˜²ãæ–¹æ³• (zenn.dev)](https://zenn.dev/tenntenn/articles/b452911b4200ff#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB)","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/other/Server/exploit":{"title":"Cloud ã«å¯¾ã™ã‚‹æ”»æ’ƒ","content":"\n- [ã„ã‚‚ã™ç ” (imos laboratory) (imoz.jp)](https://imoz.jp/note/onlinejudge.html)\n- [CTF Cloud å•é¡Œã®æ”»æ’ƒæ‰‹æ³•ã¾ã¨ã‚(2021å¹´ç‰ˆ) - blog of morioka12 (hatenablog.com)](https://scgajge12.hatenablog.com/entry/ctf_cloud_2021)","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/other/Server/frontend-optimization":{"title":"ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æœ€é©åŒ–","content":"\n## Web Performance\nlighthouse\n\n## å…ˆèª­ã¿/é…å»¶èª­ã¿è¾¼ã¿\n[Resource Hints](https://www.w3.org/TR/resource-hints/)\n[Priority Hints](https://chromestatus.com/feature/5273474901737472)\nãƒªã‚½ãƒ¼ã‚¹ã®å„ªå…ˆåº¦ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã«èªè­˜ã•ã›ã€èª­ã¿è¾¼ã¿é †åºã‚’æœ€é©åŒ–ã§ãã¾ã™ã€‚åˆæœŸç”»é¢ã«å¿…è¦ãªãƒªã‚½ãƒ¼ã‚¹ã®èª­ã¿è¾¼ã¿ãŒå¾Œæ–¹ã«ã‚ã‚‹å ´åˆã€ãã®åˆ†LCPã‚„FIDãŒé…å»¶ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚\nlink `rel=preload`\nscript `async/defer`\nimg/iframe `loading=\"lazy\"`\n\n## é…ä¿¡å‰Šæ¸›\n### åœ§ç¸®\ngzip\nbrotliåœ§ç¸®\n\nç”»åƒã®ãƒªã‚µã‚¤ã‚ºãƒ»ã‚¯ãƒªãƒƒãƒ”ãƒ³ã‚°\nJPEG -\u003e Webp -\u003e AVIF\nGIF -\u003e WebM(VP9) -\u003e WebM(AV1)\n\nwebpack: production\nWebpackPlugin\nminifier\n- css-minimizer-webpack-plugin\n\n### CSS/JSã®ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºã‚’å‰Šã‚‹\nè¨ˆæ¸¬æ–¹æ³•\n- [You might Not Need Lodash](https://youmightnotneed.com/lodash/)\ntailwind cssã®purge\nä¸è¦ãªwebfontã®cssã®å‰Šé™¤\n\n## Cache\n`Cache-Control:Â public, max-age=604800, immutable`\nã¤ã„ã§ã«å‹•çš„ãªéƒ¨åˆ†ã§ã‚‚`Cache-Control`ã‹ã‚‰`no-transform`ã‚’å–ã‚Šé™¤ãã¾ã—ãŸã€‚ãã‚Œã¨ã€`Connection: close`ã‚’å–ã‚Šé™¤ãã¾ã—ãŸã€‚\n\n## é…ä¿¡è·é›¢\nCloudFlare\nã‚­ãƒ£ãƒƒã‚·ãƒ¥\n\nTCP/IP ã‚¹ãƒ­ãƒ¼ã‚¹ã‚¿ãƒ¼ãƒˆæ™‚ã®ãƒ‘ã‚±ãƒƒãƒˆæ•°10\nã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ 1kB\n1.5kB * 10å› - 1kB = 14kB\n14kBä»¥ä¸‹ãªã‚‰é«˜é€Ÿ\n[ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã¯14kBä»¥ä¸‹ã«ã™ã¹ãã¨ã„ã†æŒ‡æ‘˜ã€ãã®ç†ç”±ã¨ã¯ï¼Ÿ - GIGAZINE](https://gigazine.net/news/20220828-website-should-be-under-14kb/)","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/other/Server/kernel-optimization":{"title":"","content":"## ã‚«ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°\n\n[ã€Linuxã€‘ã‚«ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã«ã¤ã„ã¦](https://ac-as.net/kernel-parameter-performance-tuning/)\n\n### ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‡ã‚£ã‚¹ã‚¯ãƒªãƒ—ã‚¿ã®ä¸Šé™\n\n`ulimit -l 10000`\n\nsshã ã¨ulimitã§ããªã„\nhttps://yohei-a.hatenablog.jp/entry/20090310/1236706236\n\nhttp://ramblog.blog129.fc2.com/blog-category-4.html\n\n```\n# /etc/systemd/system/*.service\n[Service]\nLimitNOFILE=65535\n```\n### ã‚«ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿\n\nä¸Šã»ã©å„ªå…ˆé †ä½é«˜ã„(åŒã˜åå‰ã®fileã‚’overrideã™ã‚‹)\n`/etc/sysctl.d/*.conf`\n`/run/sysctl.d/*.conf`\n`/usr/lib/sysctl.d/*.conf`\nã™ã¹ã¦ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ã©ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚ã‚‹ã‹ã«é–¢ã‚ã‚‰ãšã€ãƒ•ã‚¡ã‚¤ãƒ«åã®ä¸¦ã³é †ã§è¾æ›¸é †ã«ã‚½ãƒ¼ãƒˆã•ã‚Œã¾ã™ã€‚è¤‡æ•°ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒåŒã˜ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦ã„ã‚‹å ´åˆã¯ã€è¾æ›¸çš„ã«æœ€æ–°ã®åå‰ã‚’æŒã¤ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¨ãƒ³ãƒˆãƒªãŒå„ªå…ˆã•ã‚Œã¾ã™ã€‚ãƒ•ã‚¡ã‚¤ãƒ«ã®é †åºã‚’ç°¡å˜ã«ã™ã‚‹ãŸã‚ã«ã€ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«åã®å‰ã« 2 æ¡ã®æ•°å­—ã¨ãƒ€ãƒƒã‚·ãƒ¥ã‚’ä»˜ã‘ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚\n\n```\n# /etc/sysctl.d/100-isucon.conf\n# maxconnection ã‚’å¢—ã‚„ã™\nnet.core.somaxconn = 32768                  # 32768 (2^15) ãã‚‰ã„ã¾ã§å¤§ããã—ã¦ã‚‚è‰¯ã„ã‹ã‚‚ã€‚\nnet.ipv4.ip_local_port_range = 10000 60999  # port ã®ç¯„å›²ã‚’åºƒã’ã‚‹\n\n# tcp connection ã®å†åˆ©ç”¨ã‚’æœ‰åŠ¹åŒ–\nnet.ipv4.tcp_tw_reuse = 1\n\n# tcp connection ãŒ FIN-WAIT2 ã‹ã‚‰ TIME_WAIT ã«çŠ¶æ…‹ãŒå¤‰åŒ–ã™ã‚‹ã¾ã§ã®æ™‚é–“\nnet.ipv4.tcp_fin_timeout = 10               # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ 60ã€‚CPU è² è·ã‚’æ¸›ã‚‰ã›ã‚‹ãŒã€çŸ­ã™ãã‚‹ã¨å±ã†ã„ã‹ã‚‚ï¼Ÿ\n\n# TIME_WAITçŠ¶æ…‹ã«ã‚ã‚‹ tcp connection æ•°ã®ä¸Šé™\nnet.ipv4.tcp_max_tw_buckets = 2000000       # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ 32768(=2^15) ãã‚‰ã„\n\n# ãƒ‘ã‚±ãƒƒãƒˆå—ä¿¡æ™‚ã«ã‚­ãƒ¥ãƒ¼ã«ã¤ãªãã“ã¨ã®ã§ãã‚‹ãƒ‘ã‚±ãƒƒãƒˆã®æœ€å¤§æ•°\nnet.core.netdev_max_backlog = 8192          # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ 1000 ãã‚‰ã„\n\n# æ–°è¦ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³é–‹å§‹æ™‚ã®SYNãƒ‘ã‚±ãƒƒãƒˆã‚’å—ä¿¡ã—ãŸéš›ã®å‡¦ç†å¾…ã¡ã‚­ãƒ¥ãƒ¼ã®ä¸Šé™å€¤\nnet.ipv4.tcp_max_syn_backlog = 1024         # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ 128 ãã‚‰ã„\n\n# window size scalingã®æœ‰åŠ¹åŒ–(ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®å¸¯åŸŸå¹…ã¨ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•)\nnet.ipv4.tcp_window_scaling = 1             # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§1ã«ãªã£ã¦ã„ã‚‹ã¯ãš\n# ã™ã¹ã¦ã®ç¨®é¡ã®socketã«åŸºæœ¬è¨­å®šã•ã‚Œã¦ã„ã‚‹bufferã®size ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ 212992(=13*2^14) ãã‚‰ã„\nnet.core.rmem_default = 253952\nnet.core.wmem_default = 253952\nnet.core.rmem_max = 16777216\nnet.core.wmem_max = 16777216\n# TCP socket buffer sizeã®å¤‰æ›´ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ 212992(=13*2^14) ãã‚‰ã„\nnet.ipv4.tcp_rmem = 253952 253952 16777216  # min / default / max\nnet.ipv4.tcp_wmem = 253952 253952 16777216  # min / default / max\n# TCPç”¨ã«ä½¿ç”¨ã§ãã‚‹åˆè¨ˆãƒ¡ãƒ¢ãƒªã‚µã‚¤ã‚ºã‚’æŒ‡å®š\nnet.ipv4.tcp_mem = 185688 247584 371376     # min / pressure / max; pressureã®å€¤ã‚’è¶…ãˆã‚‹ã¨TCP memory pressureã®çŠ¶æ…‹ã«ãªã‚Šã€ä»¥é™ã‚½ã‚±ãƒƒãƒˆã¯æŒ‡å®šã•ã‚ŒãŸminå€¤ã®ãƒ¡ãƒ¢ãƒªãƒãƒƒãƒ•ã‚¡ã®ã‚µã‚¤ã‚ºã‚’æŒã¤ã‚ˆã†ã«ãªã‚‹\n\n# ã‚«ãƒ¼ãƒãƒ«ãƒ¬ãƒ™ãƒ«ã§ã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‡ã‚£ã‚¹ã‚¯ãƒªãƒ—ã‚¿ä¸Šé™æ•°å¤‰æ›´\n# ãƒ—ãƒ­ã‚»ã‚¹å˜ä½ã®ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã‚’ã‚„ã£ãŸã‘ã©ã€ã“ã£ã¡ã‚‚ã‚„ã£ã¦ãŠã\nfs.file-max=65535\n\n# 3-way-handshakeã®ç°¡ç•¥åŒ–\n# ç›¸æ‰‹å´ã®ã‚µãƒ¼ãƒãƒ¼ãŒONã«ã—ã¦ã„ãªã„ã¨ãƒ‡ãƒ¼ã‚¿ãŒ2å›é€ã‚‰ã‚Œã¦ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ã«ãªã‚‹ã®ã§ä¸€å›ã‚„ã£ã¦ã¿ã¦ã‚¹ã‚³ã‚¢ãŒä¸ŠãŒã‚‰ãªã‹ã£ãŸã‚‰åˆ‡ã‚‹\nnet.ipv4.tcp_fastopen = 3\n\n# è¼»è¼³åˆ¶å¾¡ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ  TCP BBR ã®æœ‰åŠ¹åŒ–\n# `uname -r`ãŒ4.9ä»¥ä¸Šã§`sysctl net.ipv4.tcp_available_congestion_control`ã«bbrãŒå«ã¾ã‚Œã¦ã„ã‚‹å ´åˆã€€\n# net.ipv4.tcp_congestion_control = bbr # è¼»è¼³åˆ¶å¾¡ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’bbrã«\n# net.core.default_qdisc = fq # ã‚­ãƒ¥ãƒ¼ã‚¤ãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’fqã«\n```\n\nhttps://html5experts.jp/jxck/3529/\nhttps://ac-as.net/kernel-parameter-performance-tuning/\nÏ†(.. )ï¾’ï¾“ï½¼ï¾ƒï½µï½ºï½³ /proc/sys/net/ipv4/tcp_fastopenã«è¨­å®šã™ã‚‹å†…å®¹ã¨ã‹å®Ÿè£…\nhttps://kernhack.hatenablog.com/entry/2013/05/25/115634\n\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/other/Server/rdbms-optimization":{"title":"ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰æœ€é©åŒ–","content":"\n\nCache\n\nCopy on Write\n[An Overview of Query Optimization in Relational Systems è«–æ–‡ç´¹ä»‹ - Google ã‚¹ãƒ©ã‚¤ãƒ‰](https://docs.google.com/presentation/d/1ruGYLRLeagkfv1gQBlmh_di7AviaSx0MJih4oH24AsY/edit#slide=id.p)\n\nO/R Mapper\n\n# ISUCONãƒ¡ãƒ¢\n\nhttps://github.com/FujishigeTemma/isucon9-qualify/blob/master/go/main.go\nhttps://github.com/tohutohu/isucon9/blob/master/webapp/go/main.go\n\nhttps://www.youtube.com/watch?v=0DhBLswwcRs\n\nhttps://gist.github.com/941/8c64842b71995a2d448315e2594f62c2\nhttps://gist.github.com/south37/d4a5a8158f49e067237c17d13ecab12a\nhttps://isucon.net/archives/54822761.html\n\n## äº‹å‰è¬›ç¿’\n\nå·¥äº‹ä¸­\n:::spoiler\nsshæ¥ç¶š\nsshéµ\ngithubã§å…¬é–‹ãƒªãƒã‚¸ãƒˆãƒªã«ç½®ãã¨å¤±æ ¼\nãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚’å…¨å“¡èª­ã‚€(æƒ…å ±ã‚’ã¾ã¨ã‚ã‚‹ã“ã¨ãŒå¾—æ„ãªäººãŒã„ãŸã‚‰)\nåˆæœŸãƒ™ãƒ³ãƒ\nãƒ™ãƒ³ãƒã®æŒ¯ã‚Œå¹…ã€æŒ™å‹•ã‚’èª¿ã¹ã‚‹\n1ã‚³ãƒŸãƒƒãƒˆ1ãƒ™ãƒ³ãƒ\nã‚³ãƒŸãƒƒãƒˆã‚³ãƒ¡ãƒ³ãƒˆã«ãƒ­ã‚°ã¨ã‹è¼‰ã›ã‚‹ã¨è‰¯ã\nã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒå¿…è¦ä»¥ä¸Šã«æ®‹ã‚‹ã¨ãƒ•ã‚§ã‚¤ãƒ«\nã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‹é–“é•ã£ãŸã‚­ãƒ£ãƒƒã‚·ãƒ¥ãªã‚‰ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’å–ã‚‹\n\nå¤‰æ›´ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\nwebapp/go\nwebapp/sql\nå„ç¨®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nnginxã‚„mysqlã®è¨­å®šãªã©ã¯gitå†…ã«ç§»ã—ã¦å…ƒã®å ´æ‰€ã«ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’è²¼ã‚‹\n\n\n\n### é–‹å§‹ç›´å¾Œ\n\nãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚’å…¨å“¡ã§èª­ã‚€\n- ç‚¹æ•°ã«é–¢ã‚ã‚‹è¨˜è¿°ãŒé‡è¦æƒ…å ±\n- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®è¨±ã•ã‚Œæ–¹\n    - ã€ŒNç§’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã¦ã‚‚ã‚ˆã„ã€ã¨æ›¸ã„ã¦ã‚ã‚‹\n\nä¸è¦ãªãƒ‡ãƒ¼ãƒ¢ãƒ³ã‚’æ­¢ã‚ã‚‹\n```\ncat /proc/cpuinfo\nfree -h\nsystemctl list-units --type=service --state=running\n```\n\nssh configã®è¨­å®š\nãƒ™ãƒ³ãƒ1å›ç›®\nãƒªãƒã‚¸ãƒˆãƒªå†…ã«ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’ç½®ã\ngit init git remote git add . git commit -m \"Initial commit\"\nãŠæ˜¼é£Ÿã¹ã‚‹\nåˆ©ç”¨ã™ã‚‹ã‚µã‚¤ãƒˆã®å‹•ä½œç¢ºèª\nå¿˜ã‚Œã¦ç„¡ã‘ã‚Œã°å…¨ãƒšãƒ¼ã‚¸ã®ã‚¹ã‚¯ã‚·ãƒ§ã‚’æ’®ã‚‹\nãƒ©ã‚¹ãƒˆã®ãƒã‚§ãƒƒã‚¯ã®ã¨ãã«CSSã¨ã‹ã‚’ã–ã£ã¨è¦‹ã‚‹\nä½¿ã„ãã†ãªãƒ•ã‚¡ã‚¤ãƒ«ç¾¤ã‚’å›ºã‚ã¦ãƒ­ãƒ¼ã‚«ãƒ«ã«æŒã£ã¦ãã‚‹\ntar xvcf webapp\nscp user@ip:~/webapp.tar .\næ›´æ–°ç®‡æ‰€ã®ãƒã‚§ãƒƒã‚¯\nã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®æ•°\næ›´æ–°ãŒã‚ã‚‹ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ\nmysqlã¨nginxã®ãƒ­ã‚°è¨­å®š\nè§£æãƒ„ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nãƒ™ãƒ³ãƒ2å›ç›®\nç§˜ä¼ã®ã‚¿ãƒ¬\nãƒ™ãƒ³ãƒ3å›ç›®\n\n```\nINDEX idx_category_id_created_at (category_id,created_at),\nINDEX idx_created_at (created_at),\nINDEX idx_buyer_id (buyer_id),\nINDEX mul_idx_seller_id_created_at (seller_id, created_at)\n```\nhttps://github.com/reyu0722/piscon2021\n- Itemã¨ã‹Userã¨ã‹ã§å–ã‚Œã‚‹éƒ¨åˆ†ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ -\u003e 71500\n- Itemä»¥å¤–ã‚’ãƒ¡ãƒ¢ãƒªã ã‘ã§ç®¡ç†ã™ã‚‹ã‚ˆã†ã«ã—ãŸ (ä»–ã«ã‚‚ã„ãã¤ã‹) -\u003e 87840\n    - è¶…å¤§å¤‰ã ã£ãŸ\n:::\n\n## å„ç¨®è§£æãƒ„ãƒ¼ãƒ« æ¨æ¸¬ã™ã‚‹ãªè¨ˆæ¸¬ã›ã‚ˆ\n\n### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°\nCPUå æœ‰ç‡ã®é«˜ã„ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç‰¹å®šã—ã¾ã™\nhtop dstat\ndstat -tlamp\n\n### ãƒ¡ãƒˆãƒªã‚¯ã‚¹\né«˜ç´šãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ãƒ„ãƒ¼ãƒ«\n[netdata](https://github.com/netdata/netdata) NewRelic Splunk\nhttps://dev.classmethod.jp/articles/netdata/\n\n### ã‚¢ã‚¯ã‚»ã‚¹è§£æ\nãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿/ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åˆ¥ã®ã‚¢ã‚¯ã‚»ã‚¹æ•°ã‚’è¡¨ç¤ºã—ã¦ãã‚Œã¾ã™\nä¸»ã«è¦‹ã‚‹ã¹ãã¯avg æ¬¡ã«count\nkataribe **[alp](https://github.com/tkuchiki/alp)**\n\n### ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°\n**pprof** fgprof\n\n### ã‚¹ãƒ­ãƒ¼ã‚¯ã‚¨ãƒª\nmysqldumpslow **pt-query-digest**\n\n### SQLå…¨èˆ¬\n**[percona tool kit](https://www.s-style.co.jp/products/percona/toolkit)**\n[mysqltuner](https://github.com/major/MySQLTuner-perl)\n\n### Makefile\nTODO: ç§˜ä¼ã®Makefileã‚’ä½œã‚‹\nhttps://gist.github.com/azonti/dee0547cb561dfdec4a90e093a418bdc\nhttps://github.com/FujishigeTemma/isucon10-final/blob/master/Makefile\nhttps://github.com/tohutohu/isucon9/blob/master/Makefile\nhttps://git.trap.jp/eiya/202008piscon/src/branch/master/go/Makefile\n\n## ã‚¢ãƒ—ãƒª\n\n- ã‚¯ã‚¨ãƒªæœ€é©åŒ–\n- å¤‰æ›´ã®å°‘ãªã„ãƒ‡ãƒ¼ã‚¿ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥åŒ–\n- ã‚„ã‚‰ãªãã¦ã‚ˆã„å‡¦ç†ã‚’çœã\n- å¼·ã„ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’å¼±ãã—ã¦é«˜é€ŸåŒ–(gorilla/sessions-\u003eè‡ªå‰å®Ÿè£… net/http-\u003efasthttp bcrypt-\u003eSHA256ãªã©)\n- APIã®ä¸¦åˆ—åŒ–\n- FOR UPDATEã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§æ’ä»–åˆ¶å¾¡\n- gollira/sessionã¯ã‚»ã‚­ãƒ¥ã‚¢ãªã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’cookieã ã‘ã§å®Ÿç¾ã—ã¦ã„ã‚‹ã®ã§ã€æš—å·åŒ–ã®ã‚³ã‚¹ãƒˆãŒçµæ§‹ã‹ã‹ã‚‹ -\u003e ãƒ©ãƒ³ãƒ€ãƒ ãªå€¤ã¨mapã‚’ä½¿ã£ãŸå®Ÿè£…ã«å·®ã—æ›¿ãˆ\n- jsonã®ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰/ãƒ‡ã‚³ãƒ¼ãƒ‰ã‚’go-json\n\n### ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ©ã®è¨­å®š\n\n#### pprof https://github.com/google/pprof\næ¨™æº–ã§å…¥ã£ã¦ã„ã‚‹ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ©ã§ã™ã€‚ãƒ‡ãƒ•ã‚¡ã‚¯ãƒˆã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ã¨ã„ã†æ„Ÿã˜ã€‚\n```go\nimport _ 'net/http/pprof'\n\nfunc main() {\n    go func() {\n        http.ListenAndServe(\":6060\")\n    }()\n\n    // \u003ccode to profile\u003e\n}\n```\nãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ã—ãŸç”»åƒã‚’discordã‚„slackã«å±Šã‘ã‚‹ã‚·ã‚§ãƒ«ã§ã™ã€‚\n```shell\ngo tool pprof -png -output pprof.png http://localhost:6060/debug/pprof/profile?seconds=60\ncurl -X POST -F img=@pprof.png $(DISCORD_WEBHOOK_URL)\nslackcat --channel general pprof.png\n```\n\n#### fgprof https://github.com/felixge/fgprof\nä¸€éƒ¨é©åˆ‡ãªè¡¨ç¤ºã¨ãªã‚‰ãªã„ã“ã¨ãŒã‚ã‚‹\n```go\nimport (\n    \"net/http\"\n    _ \"net/http/pprof\"\n    \"github.com/felixge/fgprof\"\n)\n\nfunc main() {\n    http.DefaultServeMux.Handle(\"/debug/fgprof\", fgprof.Handler())\n    go func() {\n        log.Println(http.ListenAndServe(\":6060\", nil))\n    }()\n\n    // \u003ccode to profile\u003e\n}\n```\n\n`http://localhost:6060/debug/fgprof`\n\n## MySQL ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°\n\n### MySQLè¨­å®š\n\nåˆ¥ã®ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰DBã¸ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹\n`/etc/mysql/mysql.conf.d/mysqld.cnf`\n`bind-address = 127.0.0.1`ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ\n`bind-address = 0.0.0.0`\n\nhttp://dsas.blog.klab.org/archives/50860867.html\n- ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒãƒƒãƒ•ã‚¡ mysqldå…¨ä½“ã§ãã®ãƒãƒƒãƒ•ã‚¡ãŒ1ã¤ã ã‘ç¢ºä¿ã•ã‚Œã‚‹ã‚‚ã®\n- ã‚¹ãƒ¬ãƒƒãƒ‰ãƒãƒƒãƒ•ã‚¡ ã‚¹ãƒ¬ãƒƒãƒ‰(ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³)ã”ã¨ã«ç¢ºä¿ã•ã‚Œã‚‹ã‚‚ã®\nãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã®éš›ã«ã¯ã‚°ãƒ­ãƒ¼ãƒãƒ«/ã‚¹ãƒ¬ãƒƒãƒ‰ã®é•ã„ã‚’æ„è­˜ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ã‚‡ã†ã€‚ ãªãœãªã‚‰ã€ã‚¹ãƒ¬ãƒƒãƒ‰ãƒãƒƒãƒ•ã‚¡ã«å¤šãã®ãƒ¡ãƒ¢ãƒªã‚’å‰²ã‚Šå½“ã¦ã‚‹ã¨ã€ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ãŒå¢—ãˆãŸã¨ãŸã‚“ã«ã‚¢ãƒƒã¨ã„ã†é–“ã«ãƒ¡ãƒ¢ãƒªä¸è¶³ã«ãªã£ã¦ã—ã¾ã†ã‹ã‚‰ã§ã™ã€‚\n\n```\nmax_connections=1024\nquery_cache_type=ON\n# innoDBå…¨ä½“ã§ä¸€ã¤ç”Ÿæˆã•ã‚Œã‚‹ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒãƒƒãƒ•ã‚¡(åˆ¥é¯–ãªã‚‰æ­è¼‰ãƒ¡ãƒ¢ãƒªã®80%)\ninnodb_buffer_pool_size = 1GB\n# InnoDBã®å†…éƒ¨ãƒ‡ãƒ¼ã‚¿ãªã©ã‚’ä¿æŒã™ã‚‹è¶³ã‚Šãªã„ã¨ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãŒå‡ºã‚‹ã‹ã‚‰ãã®æ™‚å¢—ã‚„ã™\n#innodb_additional_mem_pool_size = 30MB â†ã“ã‚Œã‚ã‚‹ã¨ãƒ€ãƒ¡\n# innoDBã®æ›´æ–°ãƒ­ã‚°ã‚’ä¿æŒã™ã‚‹ãƒ¡ãƒ¢ãƒª\ninnodb_log_buffer_size = 16MB\n# innodb_log_fileãŒã„ã£ã±ã„ã«ãªã‚‹ã¨ã€ãƒ¡ãƒ¢ãƒªä¸Šã®innodb_buffer_poolã®ä¸­ã®æ›´æ–°ã•ã‚ŒãŸéƒ¨åˆ†ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã€ãƒ‡ã‚£ã‚¹ã‚¯ä¸Šã®InnoDBã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãå‡ºã™ã—ãã¿ã«ãªã£ã¦ã„ã‚‹ã‹ã‚‰\ninnodb_log_file_size = 128MB\n# ORDER BYã‚„GROUP BYã®ã¨ãã«ä½¿ã‚ã‚Œã‚‹ãƒ¡ãƒ¢ãƒªä¸Šã®é ˜åŸŸ\ninnodb_sort_buffer_size = 4MB\nread_rnd_buffer_size = 2MB #\nkey_buffer_size = 256MB\n# 1ã«è¨­å®šã™ã‚‹ã¨ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å˜ä½ã§ãƒ­ã‚°ã‚’å‡ºåŠ›ã™ã‚‹ãŒ 2 ã‚’æŒ‡å®šã™ã‚‹ã¨1ç§’é–“ã«1å›ãƒ­ã‚°ã‚’åãã€‚0ã ã¨ãƒ­ã‚°ã‚‚1ç§’ã«1å›ã€‚TODOé•ã„ã‚’ã¿ã‚‹\ninnodb_flush_log_at_trx_commit = 0\ninnodb_flush_log_at_trx_commit = 2\n# ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã€ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿æ›¸ãæ–¹å¼ã‚’æŒ‡å®šã™ã‚‹(å®Ÿé¨“ã™ã‚‹ä¾¡å€¤ã¯ã‚ã‚‹)\ninnodb_flush_method = O_DIRECT\n# å†èµ·å‹•è©¦é¨“å¯¾ç­–\ninnodb_buffer_pool_dump_at_shutdown = ON\ninnodb_buffer_pool_load_at_startup = ON\n```\n\n```\n$ mysql -u isucari -p\npass: isucari\n$ sudo journalctl -u isucari.golang\nsudo rm /var/log/mysql/mysql-slow.log\nsudo systemctl restart mysql\nsudo rm /var/log/nginx/access.log\nsudo nginx -t\nsudo systemctl reload nginx\ncd ~/isucari/webapp/go\nmake\ncd -\nsudo systemctl restart isucari.golang\n```\n\n### ã‚¹ãƒ­ãƒ¼ã‚¯ã‚¨ãƒª\n\n`/etc/mysql/mysql.conf.d/mysqld.cnf`\n```bash\nslow_query_log=1\nslow_query_log_file=/var/log/mysql/mysql-slow.log\nlong_query_time=0 # å…¨ã¦ã®ã‚¯ã‚¨ãƒªã‚’æ›¸ãè¾¼ã‚“ã§è§£æãƒ„ãƒ¼ãƒ«ã«æ¸¡ã™\nlog_queries_not_using_indexes=1 # ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½¿ã£ã¦ã„ãªã„ã‚¯ã‚¨ãƒªã‚‚å‡ºåŠ›ã™ã‚‹\n```\n`sudo mysqldumpslow -s t -t 10 /path/to/slow.log`\n`pt-query-digest /path/to/slow.log`\n\nè¤‡æ•°ã®SQLã‚¯ã‚¨ãƒªã‚’INã€JOINã€LIMITå¥ã€å¤–éƒ¨ã‚­ãƒ¼ã§ã¾ã¨ã‚ã‚‹(N+1å•é¡Œãªã©)\nä¸è¦ãªã‚«ãƒ©ãƒ ã‚„ã‚¯ã‚¨ãƒªã‚’å‰Šé™¤ã™ã‚‹\nè»¢é€é‡ã‚’æ¸›ã‚‰ã™ã€‚å–å¾—ã™ã‚‹ã‚«ãƒ©ãƒ ã‚’æ¸›ã‚‰ã™ã€ç‰¹ã«ã§ã‹ã„ã‚‚ã®(`VARCHAR(4096)`ãªã©)ãŒå…¥ã£ã¦ã„ã‚‹ã®ã¯å‰Šã‚‹ã¹ã\nhttps://qiita.com/ikenji/items/b868877492fee60d85ce\n\n**INDEX**\nB+ãƒ„ãƒªãƒ¼ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’é©åˆ‡ã«è¨­å®šã™ã‚‹ã“ã¨ã§æ¤œç´¢é€Ÿåº¦ã‚’é«˜ã‚ã‚‹ã€‚äºŒåˆ†æ¢ç´¢ãŒã§ãã‚‹ã‚‚ã®ãªã‚‰é€Ÿããªã‚‹ã€‚\næ›´ã«è¨€ãˆã°ä¸Šè¨˜ã®Bãƒ„ãƒªãƒ¼ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¨ãƒãƒƒã‚·ãƒ¥ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒå­˜åœ¨ã—ã€ãƒãƒƒã‚·ãƒ¥ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®æ–¹ãŒé€Ÿã„ãŒã€ç­‰ä¾¡æ¯”è¼ƒã—ã‹ã§ããªã„ã€‚MySQLã¯è‡ªå‹•çš„ã«ãã‚Œã‚‰ã®é¸æŠã‚’ã—ã¦ã„ã‚‹ã€‚\nã“ã‚ŒãŒå¤šã™ãã‚‹ã¨INSERTã§ãããŠã‚‚ã«ãªã‚‹ã®ã§æ³¨æ„\n\nã“ã“ã§å½¹ç«‹ã¤ã‚³ãƒãƒ³ãƒ‰\n`mysql -uãƒ¦ãƒ¼ã‚¶å -pãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ DBå -e'EXPLAIN ~~;'`\n\nLIKEã‚‚æœ€åˆã®æ–¹ãŒãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ã§ã¯ãªã‘ã‚Œã°ä½¿ãˆã‚‹\n- é€Ÿããªã‚‹ã‚‚ã® WHERE, ORDER BY, JOINå¥\n- åŠ¹ã‹ãªã„ã‚‚ã® LIKE, OR, æ¼”ç®—, é–¢æ•°å‡¦ç†, IS NULL, å¦å®šå½¢\n- NOT NULLã‚’å‡ºæ¥ã‚‹é™ã‚Šã¤ã‘ã‚‹\n- ORã‚’UNION/UNION ALLã«å¤‰æ›ã™ã‚‹\n- ORDER BYã§DESCã¨ASCã®æ··åˆ-\u003eMySQL 8.0ã§ã¯[é™é †ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹](https://dev.mysql.com/doc/refman/8.0/ja/descending-indexes.html)ã§é©ç”¨ã§ãã‚‹\n- [ç©ºé–“ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹](https://dev.mysql.com/doc/refman/8.0/ja/creating-spatial-indexes.html) `SRID 0`ã‚’ä»˜ã‘ã‚‹ https://matsuu.hatenablog.com/entry/2020/09/13/131145\n\nãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹\néå¸¸ã«é•·ã„æ–‡å­—åˆ—ã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä»˜ã‘ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã€å€¤å…¨ä½“ã§ã¯ãªãæœ€åˆã®æ•°æ–‡å­—ã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä»˜ã‘ã‚‹ã“ã¨ã§ã€è¨˜æ†¶åŸŸã‚’ç¯€ç´„ã—ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æ”¹å–„ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n- ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã§ã¯ã€é¸æŠæ€§ã‚‚ä½ä¸‹ã™ã‚‹ãŸã‚ã€ååˆ†ãªé¸æŠæ€§ãŒå¾—ã‚‰ã‚Œã‚‹é•·ã•ã‚’æŒã¡ã€è¨˜æ†¶åŸŸã‚’ç¯€ç´„ã™ã‚‹ãã‚‰ã„çŸ­ã„ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’é¸æŠã™ã‚‹ã“ã¨\n- æ¬ ç‚¹ã¨ã—ã¦ã€ORDER BY å¥ã‚„ GROUP BY å¥ã‚’ä½¿ç”¨ã™ã‚‹ã‚¯ã‚¨ãƒªã«ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½¿ç”¨ã§ããªã„\n- é©åˆ‡ãªã‚µã‚¤ã‚ºã¯ã€ä¸‹è¨˜ã‚¯ã‚¨ãƒªã§é¸æŠæ€§ã‚’è¨ˆæ¸¬ã—ã€åæŸã™ã‚‹å€¤ã‚’è¦‹ã‚‹ã“ã¨ã§ç™ºè¦‹ã§ãã‚‹ã€‚é¸æŠæ€§ã¨ã¯ã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä»˜ã‘ã•ã‚ŒãŸå€¤ã®æ•°ã¨ã€ãƒ†ãƒ¼ãƒ–ãƒ«å†…ã®è¡Œã®åˆè¨ˆæ•°ã®æ¯”ç‡ã®ã“ã¨\n\nãƒãƒ«ãƒã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹\n[ã‚¯ã‚¨ãƒªæ–‡ãŒINDEXä½œæˆæ™‚ã®ã‚«ãƒ©ãƒ é †ã«åŸºã¥ã„ã¦ã„ãªã„ã¨ã€INDEXãŒä½¿ãˆãªã„](https://qiita.com/rm-rf-slant/items/8023500788352646b6c2)\n- ç­‰ã—ã„ (=)ã€ã‚ˆã‚Šå¤§ãã„ (\u003e)ã€ã‚ˆã‚Šå°ã•ã„ (\u003c)ã€BETWEENãªã©ã®æ¤œç´¢æ¡ä»¶ã®WHEREå¥ã§ä½¿ç”¨ã•ã‚Œã‚‹ã‹ã€çµåˆã«å«ã¾ã‚Œã‚‹åˆ—ã‚’ã€å…ˆé ­ã«é…ç½®ã™ã‚‹\n- ã‚¯ã‚¨ãƒªã«ã‚ˆã‚‹ã‚«ãƒ©ãƒ é †åºã®åˆ¶é™ãŒãªã„å ´åˆã€æœ€ã‚‚é¸æŠçš„ãªåˆ—ã‚’ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®å…ˆé ­ã«é…ç½®ã™ã‚‹ã€‚ã‚«ãƒ©ãƒ æ¯ã®é¸æŠæ€§ã¯ä¸‹è¨˜ã‚¯ã‚¨ãƒªã§è¨ˆæ¸¬ã™ã‚‹\n- ã¡ã‚ƒã‚“ã¨å‡ºæ¥ã¦ãªã„ã¨EXPLAIN type=index:ãƒ•ãƒ«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚¹ã‚­ãƒ£ãƒ³ã¨è¨€ã‚ã‚Œã‚‹\n1ç¨®é¡ã®å€¤ã«å¯¾ã—å¤šãã®ãƒ‡ãƒ¼ã‚¿ãŒå­˜åœ¨ã™ã‚‹ã‚ˆã†ãªã‚«ãƒ©ãƒ ã‚’å…ˆã«ç½®ã\né‡è¤‡ã®å¤šã„ã‚‚ã®ã‚’å…ˆã«ç½®ã\nãã‚Œã«ä¼´ã†ã‚ˆã†ã«ã‚¯ã‚¨ãƒªã®ã‚«ãƒ©ãƒ ã‚’å…ˆã«ç½®ã\n\nhttps://lukesilvia.hatenablog.com/entry/20080315/1205583930\nUsing filesort\nãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’ã‚½ãƒ¼ãƒˆã—ã¦å–ã‚Šå‡ºã™æ–¹æ³•ã‚’æ±ºå®šã™ã‚‹ã«ã¯ã€MySQL ã¯ãƒ‘ã‚¹ã‚’ä½™åˆ†ã«å®Ÿè¡Œã—ãªãã¦ã¯ãªã‚‰ãªã„ã“ã¨ã‚’ç¤ºã™ã€‚ join type ã«å¾“ã£ã¦ã™ã¹ã¦ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã€WHERE æ¡ä»¶ã«ä¸€è‡´ã™ã‚‹å…¨ã¦ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã«ã€ã‚½ãƒ¼ãƒˆã‚­ãƒ¼ + è¡Œãƒã‚¤ãƒ³ã‚¿ã‚’æ ¼ç´ã—ã¦ã€ã‚½ãƒ¼ãƒˆã¯å®Ÿè¡Œã•ã‚Œã‚‹ã€‚ ãã®å¾Œã‚­ãƒ¼ãŒã‚½ãƒ¼ãƒˆã•ã‚Œã‚‹ã€‚ æœ€å¾Œã«ã€ã‚½ãƒ¼ãƒˆã•ã‚ŒãŸé †ã«ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒå–ã‚Šå‡ºã•ã‚Œã‚‹ã€‚\n\nUsing temporary\nã‚¯ã‚¨ãƒªã®è§£æ±ºã« MySQL ã§çµæœã‚’ä¿æŒã™ã‚‹ãƒ†ãƒ³ãƒãƒ©ãƒªãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãŒå¿…è¦ã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã™ã€‚ã“ã‚Œã¯ä¸€èˆ¬ã«ã€GROUP BY ã‚’å®Ÿè¡Œã—ãŸã‚«ãƒ©ãƒ ã‚»ãƒƒãƒˆã¨ç•°ãªã‚‹ã‚«ãƒ©ãƒ ã‚»ãƒƒãƒˆã«å¯¾ã—ã¦ ORDER BY ã‚’å®Ÿè¡Œã—ãŸå ´åˆã«ç™ºç”Ÿã™ã‚‹ã€‚\nUNIONã¨ã‹ã‚‚...ï¼Ÿ\n\nhttps://qiita.com/katsukii/items/3409e3c3c96580d37c2b\nhttps://nishinatoshiharu.com/overview-multicolumn-indexes/\n\nã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚ªãƒ³ãƒªãƒ¼ã‚¹ã‚­ãƒ£ãƒ³\nSELECTã™ã‚‹ã‚«ãƒ©ãƒ ãŒå°‘ãªã„ã¨ãINDEXã«ãã®ã‚«ãƒ©ãƒ ã‚’ç½®ãã¨ãã‚Œã‚’å–ã£ã¦ãã‚‹ã ã‘ã§ã‚ˆã„\n\n### ã‚¯ã‚¨ãƒªãƒ¼ã‚­ãƒ£ãƒƒã‚·ãƒ¥ Qcache\nâ€»æ³¨æ„ [MySQL 8.0ä»¥é™ã«ã¯å­˜åœ¨ã—ãªã„](https://yakst.com/ja/posts/4612)\nãƒ¡ãƒ¢ãƒªä¸Šã«ã‚¯ã‚¨ãƒªã®ãƒã‚¤ãƒˆåˆ—ã¨ãã®çµæœã‚’ä¿å­˜ã—ã¦å†åº¦åŒã˜(å¤§æ–‡å­—ãƒ»å°æ–‡å­—ã‚’åŒºåˆ¥ã™ã‚‹)ã‚¯ã‚¨ãƒªãŒæ¥ãŸã‚‰DBã‚’æ¢ã•ãšãã‚Œã‚’è¿”ã™ã€‚æ›´æ–°ãŒã‹ã‹ã‚‹ã¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã•ã‚Œã‚‹ã€‚\nãƒ‡ã‚£ã‚¹ã‚¯I/Oã®å¤šç™ºã®è§£æ±º\nINSERT,UPDATEãŒå°‘ãªãSELECTãŒå¤šã„ã‚¢ãƒ—ãƒªã«æœ‰åŠ¹\n\n[MySQL ã‚¯ã‚¨ãƒªãƒ¼ã‚­ãƒ£ãƒƒã‚·ãƒ¥ ã€ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°æ–¹æ³•ã¨ã‹ã‚‚ã€‘](https://qiita.com/ryurock/items/9f561e486bfba4221747)\n\n***\n\nSQLã§ç”»åƒã‚’å…¥ã‚Œã‚‹ã¨AXã¨å‘¼ã°ã‚Œã‚‹ã‚„ã¤ãŒå…¥ã‚‹ã‚‰ã—ã„\nhttps://stackoverflow.com/questions/52426874/how-do-i-extract-microsoft-sql-varbinarymax-field-to-image-using-golang\n\n`ã‚­ãƒ¼ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ãƒ’ãƒƒãƒˆç‡ = 100 - ( key_reads / key_read_requests Ã— 100 )`\nmysqlã‚’mariadbã«å¤‰ãˆã‚‹? (ã‚ã¾ã‚Šå¿…è¦ã¯ãªã„)\n\n```shell\n$ curl -LsS https://downloads.mariadb.com/MariaDB/mariadb_repo_setup | sudo bash\n$ sudo apt install mariadb-server\n$ #ã“ã®ã‚ã¨/etc/mysql/mysql.conf.d/mysqld.cnfã«æ›¸ã„ã¦ãŸã‚„ã¤ã‚’/etc/mysql/mariadb.conf.d/50-server.cnfã«æ›¸ã\n```\n\n~~proxysqlã‚’åˆ©ç”¨ã™ã‚‹ï¼Ÿ~~ ~~mariadbãªã‚‰~~ãã®ã¾ã¾query cacheä½¿ãˆã°ã‚ˆã•ãã†\n\nhttp://dsas.blog.klab.org/archives/50860867.html\n\n### å†èµ·è©¦é¨“å¯¾ç­–\n1å°ç›®ã‚µãƒ¼ãƒã¨2å°ç›®ã‚µãƒ¼ãƒã®å†èµ·å‹•ã‚¿ã‚¤ãƒŸãƒ³ã‚°ãŒãšã‚Œã‚‹ã¨ã‚¢ãƒ—ãƒªã‹ã‚‰ã®DBæ¥ç¶šã«å¤±æ•—\n`/etc/systemd/system/isuumo.go.service`\n```\n[Service]\nStartLimitBurst=999 # å¤±æ•—ã—ã¦å†èµ·å‹•ã™ã‚‹ã®ã‚’ä½•å›è¡Œã†ã‹ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯5\n```\n\nå†èµ·å‹•è©¦é¨“ç”¨DBå¾…ã¡\n```go\npackage main\n\nimport (\n\t\"database/sql\"\n\t\"log\"\n\t\"time\"\n)\n\n// mainé–¢æ•°å†…ã«ç½®ã\nwaitDB(db)\ngo pollDB(db)\n\nfunc waitDB(db *sql.DB) {\n\tfor {\n\t\terr := db.Ping()\n\t\tif err == nil {\n\t\t\treturn\n\t\t}\n\n\t\tlog.Printf(\"Failed to ping DB: %s\", err)\n\t\tlog.Println(\"Retrying...\")\n\t\ttime.Sleep(time.Second)\n\t}\n}\n\nfunc pollDB(db *sql.DB) {\n\tfor {\n\t\terr := db.Ping()\n\t\tif err != nil {\n\t\t\tlog.Printf(\"Failed to ping DB: %s\", err)\n\t\t}\n\n\t\ttime.Sleep(time.Second)\n\t}\n}\n```\n***\n\n#### golang\n```golang\ndbx.SetMaxIdleConns(1024) // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã ã¨2\ndbx.SetConnMaxLifetime(0) // ä¸€å¿œã‚»ãƒƒãƒˆ\ndbx.SetConnMaxIdleTime(0) // ä¸€å¿œã‚»ãƒƒãƒˆ go1.15ä»¥ä¸Š\n\n// goroutineã‚’ç”Ÿã‚„ã—ã™ãã¦ã‚‚ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã™ã‚‹ https://www.sambaiz.net/article/61/\n// Keep-Aliveã™ã‚‹ã¨TCPã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ã„å›ã—ã€åå‰è§£æ±ºã‚„ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³(3 way handshake)ã‚’æ¯å›è¡Œã‚ãªãã¦ã‚ˆããªã‚‹\nhttp.DefaultTransport.(*http.Transport).MaxIdleConns = 0 // ç„¡åˆ¶é™ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã ã¨100\nhttp.DefaultTransport.(*http.Transport).MaxIdleConnsPerHost = 1024 // 0ã«ã™ã‚‹ã¨2ã«ãªã£ã¡ã‚ƒã†\nhttp.DefaultTransport.(*http.Transport).ForceAttemptHTTP2 = true // go1.13ä»¥ä¸Š\nhttp.DefaultClient.Timeout = 5 * time.Second // å•é¡Œã®åˆ‡ã‚Šåˆ†ã‘ç”¨\n```\n\nhttps://qiita.com/go_sagawa/items/11929cd0883608a6888d\n\n- redis\n```\nsudo add-apt-repository ppa:chris-lea/redis-server\nsudo apt update\nsudo apt install redis\n```\n`sudo nano /etc/redis/redis.conf`\n`bind 127.0.0.1 ::1`ã®ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ\n`protected-mode yes`â†’`protected-mode no`\n`requirepass hogehoge`ã«\n```\nsudo systemctl unmask redis-server\nsudo systemctl enable redis-server\nsudo systemctl restart redis-server\n```\n`sudo echo never \u003e /sys/kernel/mm/transparent_hugepage/enabled`\n`sudo nano rc.local`â†’è¿½è¨˜: `echo never \u003e /sys/kernel/mm/transparent_hugepage/enabled`\n\n### JSON\nhttps://github.com/json-iterator/go ã‚’è©¦ã—ã¦ã¿ã‚‹\n```golang\nvar json = jsoniter.Config{\n    EscapeHTML:                    false,\n    ObjectFieldMustBeSimpleString: true,\n}.Froze()\n```\nhttps://github.com/francoispqt/gojay\nhttps://github.com/goccy/go-json\nhttps://github.com/minio/simdjson-go\nMarshal / Encoder: goccy/go-json \u003e francoispqt/gojay\nUnmarshal: francoispqt/gojay \u003e goccy/go-json\nDecoder: francoispqt/gojay \u003e\u003e goccy/go-json\n\n- ãƒ¡ãƒ¢ãƒªä¸Šã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥\n    - `map`\n        - èª­ã¿è¾¼ã¿æ›¸ãè¾¼ã¿ã¨ã‚‚ã«å¤šãè¡Œã† -\u003e `sync.Map`\n        - èª­ã¿è¾¼ã¿å¤šãè¡Œã† -\u003e `sync.RWMutex` + `map`\n        - ãƒ­ãƒƒã‚¯ãŒæ°—ã«ãªã‚‹ãªã‚‰ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ã™ã‚‹ã¨ã‚ˆã„\n            - https://github.com/orcaman/concurrent-map\n            - https://github.com/FujishigeTemma/isucon9-qualify/compare/6eaa28f77cb8bac674c0b8cfbf9794d91999d026...49cede08c6fcf59afa29857559d146abb1e96165\n            - 15ï½20å€‹ãšã¤ã«ãªã‚‹ãã‚‰ã„ãŒã‚ˆã•ãã†ï¼Ÿ\n    - sessionãƒ¡ãƒ¢ãƒªã«æŒã¤\n        - `gorilla/sessions`ã¯ã‚³ãƒ”ãƒ¼ã®ãŸã‚ã«`encoding/gob`ãŒç„¡é§„ã«å‘¼ã³å‡ºã•ã‚Œã‚‹\n- singleflight\n    - `x/sync/singleflight`\n    - `sync.Map` + `sync.Cond`\n        - https://github.com/FujishigeTemma/isucon9-qualify/compare/2fb8ff382ce2f7b083ae9f343e5ae5d543bc5e65...6d3f1ab77bd377be00fdf6d5735ffe14b8f5afd6\n    - `go-chi/httpcoala`\n        - https://github.com/FujishigeTemma/isucon9-qualify/commit/495ae7ba4732b3bcb9c4a6795bea86dfac060c6c\n- ãƒ¡ãƒ¢ãƒªåŠ¹ç‡åŒ–\n    - `sync.Pool`\n        - https://github.com/FujishigeTemma/isucon9-qualify/commit/4e7a9be6cbee699dc11db96c2134836dfd207def\n- æŒ¿å…¥å¾Œã®çµæœã‚’ã¨ã‚‰ãšã«è¿”ã™\n    - timeã¯ãƒŸãƒªç§’ã‚’å››æ¨äº”å…¥ã™ã‚‹ã“ã¨`.Round`\n        - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãŒç§’ã¾ã§ã ã‘ã©ã€`DATETIME`ã®ã‚ã¨ã«æ•°å­—ãŒã‚ã‚‹å ´åˆã¯ç•°ãªã‚‹ã®ã§è¦ç¢ºèª\n        - https://dev.mysql.com/doc/refman/5.6/ja/fractional-seconds.html\n- session\n    - è‡ªå‰ã®`interface`ã®å¤‰æ›ãªã—ã®å®Ÿè£…\n        - https://github.com/FujishigeTemma/isucon9-qualify/commit/64d095a6400bbde6df4ed62d6ad9bd12dbc8a964\n- `pat.Param`\n    - è‡ªå‰ã®`interface`ã®å¤‰æ›ãªã—ã®å®Ÿè£…\n        - https://github.com/FujishigeTemma/isucon9-qualify/compare/b87747c27f305927b40b86285b1642cbe52e1c55...68c236f9782f041bca64f185ae0a3fbec9122ee2\n- misc\n    - ã‚­ãƒ¼ãŒ100å€‹ç¨‹åº¦ã¾ã§ãªã‚‰mapã‚ˆã‚Šarrayã‚’ç·šå½¢æ¢ç´¢ã—ãŸã»ã†ãŒã‚ˆã„ã‚‰ã—ã„\n    - sliceã‚‚mapã‚‚capacityã‚’æŒ‡å®šã™ã‚‹\n    - `i, item := range items`ã‚’ã™ã‚‹ã¨`item`ã«ã‚³ãƒ”ãƒ¼ãŒèµ°ã‚‹ã®ã§`items[i]`ã‚’ä½¿ã†\n    - ç”»åƒã‚’è¿”ã—ã¦ã‚‹ç®‡æ‰€ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’è¨­å®šã™ã‚‹\n    - GOGC `400`ï½`1200`ã¨ã‹\n        - æœ‰åŠ¹ã«ã—ãŸã¨ãã¯**æ¯å›å†èµ·å‹•ã™ã‚‹ã“ã¨**\n\n- [MySQL ã®ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ‹ãƒ³ã‚°ã§é€Ÿããªã‚‹ï¼Ÿãªã‚‰ãªã„ï¼Ÿå•é¡Œã€ã‚ã‚‰ãŸã‚ã¦å®Ÿé¨“ã—ã¦ã¿ãŸ](https://qiita.com/hmatsu47/items/354f979cde6ad91bcc6b)\n- ã‚«ãƒãƒªãƒ³ã‚°ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹\n\nhttp://akouryy.hatenablog.jp/entry/2020/09/13/130415\n\n- https://dev.mysql.com/doc/refman/5.6/ja/optimizing-innodb-bulk-data-loading.html\n\n#### MySQL8\n- NOWAIT, SKIP LOCKED: https://qiita.com/hmatsu47/items/7675b026e65762d2445f\n- HASH JOIN: https://qiita.com/hmatsu47/items/e473a3e566b910d61f5b\n- Multi-valued index(jsonã‚«ãƒ©ãƒ ç”¨): https://qiita.com/hmatsu47/items/3e49a473bc36aeefc706\n- GROUP BYã‚’LATERALã«ã™ã‚‹ï¼Ÿ: https://qiita.com/hmatsu47/items/040d65d118d0ecec6381\n\n\nãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ‹ãƒ³ã‚°ã¨ã¯\n\n## HTTP ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°\n\nhttps://qiita.com/yumin/items/5de33b068ead564ebcbf\n\n[martini](https://github.com/go-martini/martini)\n[gin](https://github.com/gin-gonic/gin)\n\nfasthttp\nhttps://medium.com/eureka-engineering/net-http%E3%82%88%E3%82%8A10%E5%80%8D%E9%80%9F%E3%81%84valyala-fasthttp%E3%81%8C%E9%9D%A2%E7%99%BD%E3%81%9D%E3%81%86%E3%81%AA%E3%81%AE%E3%81%A7%E8%AA%BF%E6%9F%BB%E3%81%97%E3%81%A6%E3%81%BF%E3%81%9F%E4%BB%B6-a608fe197f1d\n\n\n### ãƒ¡ãƒ¢\nhttps://github.com/cs3238-tsuzu/sqlx-selector\n\nhttp://nginx.org/en/docs/http/ngx_http_rewrite_module.html#if\nhttps://stackoverflow.com/questions/8591600/nginx-proxy-pass-based-on-whether-request-method-is-post-put-or-delete\n\nå¾—ç‚¹ã«ã¤ãªãŒã‚‹ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ç¢ºèª\nå¤§é‡ã‚¢ã‚¯ã‚»ã‚¹ã‹ã¤åŒã˜ã‚‚ã®ãŒä½¿ãˆã‚‹â†’singleflight\n\nlockfree map","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/other/Server/reverse-proxy":{"title":"ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·","content":"\n\n## ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µ\n\nOCSP stapling\n\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/other/Server/reverse-proxy-optimization":{"title":"Nginx (ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·)ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°","content":"\n\n### ã‚µãƒ¼ãƒãƒ¼åˆ†å‰²\n**DBåˆ†ã‘ã‚‹**\n**ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚¹**\nãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µãƒ¼\nã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‘ãƒ¼ã‚·ã‚¹ãƒ†ãƒ³ã‚¹\n\nworker_processesã«ãã‚Œãã‚Œå‡ç­‰ã«worker_connectionsãŒåˆ†é…ã•ã‚Œã‚‹è¨³ã§ã¯ãªã„ã®ã§ä½™è£•ã‚’ã‚‚ã£ã¦è¨­å®šã™ã¹ã\nhttps://nrok81.hatenablog.com/entry/2014/11/12/191240\n\n```conf\nworker_processes  auto;  # ã‚³ã‚¢æ•°ã¨åŒã˜æ•°ã¾ã§å¢—ã‚„ã™ã¨è‰¯ã„ã‹ã‚‚\n\n# nginx worker ã®è¨­å®š\nworker_rlimit_nofile  4096;\nevents {\n    worker_connections  1024;  # 128ã‚ˆã‚Šå¤§ããã™ã‚‹ãªã‚‰ã€ 5_os ã«ã—ãŸãŒã£ã¦ max connection æ•°ã‚’å¢—ã‚„ã™å¿…è¦ã‚ã‚Šï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§`net.core.somaxconn` ãŒ 128 ãã‚‰ã„ã§åˆ¶é™ã‹ã‘ã‚‰ã‚Œã¦ã‚‹ã®ã§ï¼‰ã€‚ã•ã‚‰ã«å¤§ããã™ã‚‹ãªã‚‰ worker_rlimit_nofile ã‚‚å¤§ããã™ã‚‹ï¼ˆfile descriptoræ•°ã®åˆ¶é™ã‚’ç·©ã‚ã‚‹)\n    # multi_accept on;         # error ãŒå‡ºã‚‹ãƒªã‚¹ã‚¯ã‚ã‚Šã€‚defaultã¯offã€‚\n    # accept_mutex_delay 100ms;\n}\n\nhttp {\n    log_format main '$remote_addr - $remote_user [$time_local] \"$request\" $status $body_bytes_sent \"$http_referer\" \"$http_user_agent\" $request_time';   # kataribe ç”¨ã® log format\n    access_log  /var/log/nginx/access.log  main;   # ã“ã‚Œã¯ã—ã°ã‚‰ã on ã«ã—ã¦ã€æœ€å¾Œã« off ã«ã™ã‚‹ã¨è‰¯ã•ãã†ã€‚\n    # access_log  off;\n\n    # åŸºæœ¬è¨­å®š\n    sendfile    on;\n    tcp_nopush  on;\n    tcp_nodelay on;\n    types_hash_max_size 2048;\n    server_tokens    off;\n    open_file_cache max=100 inactive=65s; # file descriptor ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã€‚å…¥ã‚ŒãŸæ–¹ãŒè‰¯ã„ã€‚ 20s-\u003e65s\n\n    # proxy buffer ã®è¨­å®šã€‚ç™½é‡‘å‹•ç‰©åœ’ãŒè¨­å®šã—ã¦ãŸã€‚\n    proxy_buffers 100 32k;\n    proxy_buffer_size 8k;\n\n    # mime.type ã®è¨­å®š\n    include       /etc/nginx/mime.types;\n\n    # Keepalive è¨­å®š\n    # ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã¨ã®ç›¸æ€§æ¬¡ç¬¬ã§ã¯keepalive off;ã«ã—ãŸã»ã†ãŒã„ã„\n    # keepalive off;\n    # ãƒ™ãƒ³ãƒã¯1åˆ†ã—ã‹å›ã‚‰ãªã„\n    keepalive_timeout 65;\n    keepalive_requests 500;\n\n    # Proxy cache è¨­å®šã€‚ä½¿ã„ã©ã“ã‚ãŒã‚ã‚Œã°ã€‚1mã§key8,000å€‹ã€‚1gã¾ã§cacheã€‚\n    proxy_cache_path /var/cache/nginx/cache levels=1:2 keys_zone=zone1:1m max_size=1g inactive=1h;\n    proxy_temp_path  /var/cache/nginx/tmp;\n    # ã‚ªãƒªã‚¸ãƒ³ã‹ã‚‰æ¥ã‚‹Cache-Controlã‚’ç„¡è¦–ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãªã‚‰ã€‚ã€‚ã€‚\n    #proxy_ignore_headers Cache-Control;\n\n\n    # unix domain socket è¨­å®š1\n    upstream app {\n        server unix:/run/unicorn.sock;  # systemd ã‚’ä½¿ã£ã¦ã‚‹ã¨ `/tmp` ä»¥ä¸‹ãŒä½¿ãˆãªã„ã€‚appã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«`tmp`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œã£ã¦é…ç½®ã™ã‚‹æ–¹ãŒpermissionã§ãƒãƒã‚‰ãšã«æ¸ˆã‚“ã§è‰¯ã„ã‹ã‚‚ã€‚\n    }\n\n    # è¤‡æ•°serverã¸ proxy\n    upstream app {\n        server 192.100.0.1:5000 weight=2;  # weight ã‚’ã¤ã‘ã‚‹ã¨proxyã™ã‚‹é‡ã‚’å¤‰æ›´å¯èƒ½ã€‚defaultã¯1ã€‚å¤šã„ã»ã©ãŸãã•ã‚“requestã‚’æŒ¯ã‚Šåˆ†ã‘ã‚‹ã€‚\n        server 192.100.0.2:5000;\n        server 192.100.0.3:5000;\n        # keepalive 60;  # app server ã¸ã® connection ã‚’ keepalive ã™ã‚‹ã€‚app ãŒå¯¾å¿œã§ãã‚‹ãªã‚‰ã—ãŸæ–¹ãŒè‰¯ã„ã€‚\n    }\n\n    server {\n        # reverse proxy ã® è¨­å®š\n        location / {\n            proxy_pass http://localhost:3000;\n            # proxy_http_version 1.1;          # app server ã¨ã® connection ã‚’ keepalive ã™ã‚‹ãªã‚‰è¿½åŠ \n            # proxy_set_header Connection \"\";  # app server ã¨ã® connection ã‚’ keepalive ã™ã‚‹ãªã‚‰è¿½åŠ \n        }\n\n        # Unix domain socket ã®è¨­å®š2ã€‚è¨­å®š1ã¨çµ„ã¿åˆã‚ã›ã¦ã€‚\n        location / {\n            proxy_pass http://app;\n        }\n\n        # ç°¡æ˜“é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’Nginxé…ä¿¡\n        location / {\n            root /home/user/app/public/;\n            try_files $uri $uri/ @app;\n        }\n        location @app {\n            proxy_pass http://app;\n        }\n\n        # For Server Sent Event\n        location /api/stream/rooms {\n            # \"magic trio\" making EventSource working through Nginx\n            proxy_http_version 1.1;\n            proxy_set_header Connection '';\n            chunked_transfer_encoding off;\n            # These are not an official way\n            # proxy_buffering off;\n            # proxy_cache off;\n            proxy_pass http://localhost:8080;\n        }\n\n        # For websocket\n        location /wsapp/ {\n            proxy_http_version 1.1;\n            proxy_set_header Upgrade $http_upgrade;\n            proxy_set_header Connection \"upgrade\";\n            proxy_pass http://wsbackend;\n        }\n\n        # Proxy cache\n        location /cached/ {\n            proxy_cache zone1;\n            # proxy_set_header X-Real-IP $remote_addr;\n            # proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            # proxy_set_header Host $http_host;\n            proxy_pass http://localhost:9292/;\n            # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ 200, 301, 302 ã ã‘ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã‚‹ã€‚proxy_cache_valid ã§å¢—ã‚„ã›ã‚‹ã€‚\n            # proxy_cache_valid 200 301 302 3s;\n            # cookie ã‚’ key ã«å«ã‚ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ $scheme$proxy_host$request_uri;\n            # proxy_cache_key $proxy_host$request_uri$cookie_jessionid;\n            # ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆã—ãŸã‹ã©ã†ã‹ã‚’å«ã‚ã‚‹\n            add_header X-Nginx-Cache $upstream_cache_status;\n        }\n\n        # static file ã®é…ä¿¡ç”¨ã® root\n        root /home/isucon/webapp/public/;\n\n        location ~ .*\\.(htm|html|css|js|jpg|png|gif|ico) {\n            expires 24h;\n            add_header Cache-Control public;\n\n            open_file_cache max=100;  # file descriptor ãªã©ã‚’ cache\n\n            gzip on;  # cpu ä½¿ã†ã®ã§ãƒ¡ãƒªãƒƒãƒˆãƒ»ãƒ‡ãƒ¡ãƒªãƒƒãƒˆè¦‹æ¥µã‚ã‚‹å¿…è¦ã‚ã‚Šã€‚gzip_static ä½¿ãˆã‚‹ãªã‚‰äº‹å‰ã«gzipåœ§ç¸®ã—ãŸä¸Šã§ãã¡ã‚‰ã‚’ä½¿ã†ã€‚\n            gzip_types text/html text/css application/javascript application/json font/woff font/ttf image/gif image/png image/jpeg image/svg+xml image/x-icon application/octet-stream;\n            gzip_disable \"msie6\";\n            gzip_static on;  # nginx configureæ™‚ã« --with-http_gzip_static_module å¿…è¦\n        }\n    }\n}\n```\n\n```\nuser www-data;\npid /run/nginx.pid;\ninclude /etc/nginx/modules-enabled/*.conf;\nworker_rlimit_nofile 100000;\n\nerror_log  /var/log/nginx/error.log error;\n\nhttp {\n    default_type  application/octet-stream;\n\n    client_max_body_size 10m;\n\n    # TLS configuration\n    ssl_protocols TLSv1.2;\n    ssl_prefer_server_ciphers on;\n    ssl_ciphers 'ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384';\n\n\tserver {\n\t    listen 443 ssl http2;\n\t    server_name isucon9.catatsuy.org;\n\n\t    ssl_certificate /etc/nginx/ssl/fullchain.pem;\n\t    ssl_certificate_key /etc/nginx/ssl/privkey.pem;\n\n\t\troot /home/isucon/isucari/webapp/public;\n\t\tlocation /static/ {\n\t\t\tadd_header Cache-Control \"public max-age=86400\";\n\t\t}\n\t\tlocation /upload/ {\n\t\t\tadd_header Cache-Control \"public max-age=86400\";\n\t\t}\n\n\t    location / {\n\t\tproxy_pass http://app;\n\t\tproxy_set_header Host $host;\n\t    }\n\t    location /login {\n\t\tproxy_pass http://login_app;\n\t\tproxy_set_header Host $host;\n\t    }\n\t}\n}\n```\n\n### åˆæœŸè¨­å®š\nhttps://wiki.trap.jp/user/to-hutohu/memo/ISUCON%E3%83%81%E3%83%BC%E3%83%88%E3%82%B7%E3%83%BC%E3%83%88\n#### OS\nè¨­å®šã—ãŸã‚‰`sudo sysctl -p {{filename}}`ã§åæ˜ ã™ã‚‹\nå®Ÿè¡Œä¸­ã®ãƒ—ãƒ­ã‚»ã‚¹ã«ã¯åæ˜ ã•ã‚Œãªã„ã‹ã‚‰ãƒ—ãƒ­ã‚»ã‚¹ã®å†èµ·å‹•ãŒå¿…è¦\n\nå‚™è€ƒ: `net.ipv4.ip_, net.ipv4.ip_local_portrange, net.ipv4.tcp, net.ipv4.icmp_*`ã¯ipv6ã«ã‚‚é©ç”¨ã•ã‚Œã‚‹\n\n#### nginx\n`$ sudo cp *.conf *.conf.bk`\n`/etc/nginx/nginx.conf`\n`/etc/nginx/sites-enabled/*.conf` (ã“ã“ã§ã¯`http`ãƒ–ãƒ­ãƒƒã‚¯å†…ã—ã‹å¤‰æ›´ã§ããªã„)\n`/etc/nginx/sites-available/*.conf`ã«æ›¸ã„ã¦â†‘ã§ã¯ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’è²¼ã‚‹ã®ãŒæ­£è§£\nhttps://wiki.trap.jp/user/to-hutohu/memo/ISUCON%E3%83%81%E3%83%BC%E3%83%88%E3%82%B7%E3%83%BC%E3%83%88#head10\n\nnginxã¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®é–“ã‚’unix domain socket\n`Unix domain socket`ã¯å¾Œå›ã—\nhttps://qiita.com/ihsiek/items/11106ce7a13e09b61547#web%E3%82%B5%E3%83%BC%E3%83%90\n`index.html`ã‚’é…ä¿¡ã—ã¦ã‚‹ã¨ã“ã‚ã‚’nginxã§è¿”ã™ã‚ˆã†ã«ã™ã‚‹\n```\n    # index.htmlã®é…ä¿¡\n    location ~ ^/(?:login|register|timeline|categories|sell|items|buy/complete|transactions|users)(?!.*.(?:json|png)) {\n        try_files $uri /index.html;\n    }\n```\n\n```\nserver {\n    listen       80 default_server;\n    server_name  _;\n\n    location / {\n         root /home/isucon/torb/webapp/static/;\n         try_files $uri $uri/ @app;\n    }\n\n    location @app {\n        proxy_set_header Host $host;\n        proxy_pass   http://127.0.0.1:8080;\n    }\n}\n```\n```\n    proxy_buffer_size 128k;\n    proxy_buffers 32 128k;\n    proxy_busy_buffers_size 128k;\n```\n\nh2cã®æœ‰åŠ¹åŒ–(æ„å‘³ãªã•ãã†ãªã®ã§httpsã‚’ä½¿ã£ã¦http2ã‚’ä½¿ã†ã¹ã)\n```\nserver {\n    listen 80 http2;\n```\n\n#####\nè¨­å®š\n```\nworker_processes auto;\nworker_rlimit_nofile 4096;\nevents {\n    worker_connections 1024; # net.core.somaxconnã¨worker_rlimit_nofileã‚‚å¤§ããã™ã‚‹\n    #multi_accept on; # error ãŒå‡ºã‚‹ãƒªã‚¹ã‚¯ã‚ã‚Šã€‚defaultã¯off\n    #accept_mutex_delay 100ms;\n}\n```\n\nnginx ã® worker_connections ã¯ worker å½“ãŸã‚Šã®åŒæ™‚æ¥ç¶šæ•°ã ã¨æ€ã£ã¦ãŸã‘ã©ã©ã†ã‚‚é•ã†ã£ã½ã„\nhttps://nrok81.hatenablog.com/entry/2014/11/12/191240\n\n##### ãƒ­ã‚°è¨­å®š httpãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã®ä¸­\n```\nlog_format main '$remote_addr - $remote_user [$time_local] \"$request\" $status $body_bytes_sent \"$http_referer\" \"$http_user_agent\" $request_time';\naccess_log /tmp/access.log main;\n#access_log off;\n```\n\n##### åŸºæœ¬è¨­å®š httpãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã®ä¸­\n```\nsendfile on;\ntcp_nopush on;\ntcp_nodelay on;\ntypes_hash_max_size 2048;\nserver_tokens off;\nopen_file_cache max=100 inactive=20s; # file descriptorã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥\n\n# proxy bufferã®è¨­å®š\nproxy_buffers 100 32k;\nproxy_buffer_size 8k;\n\n# keepaliveã®è¨­å®š\n#keepalive off; # ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã¨ã®ç›¸æ€§æ¬¡ç¬¬ã§ã¯offã«ã—ãŸã»ã†ãŒã„ã„\nkeepalive_timeout 120;\nkeepalive_requests 1048576;\n\n# proxy cacheã®è¨­å®š\nproxy_cache_path /var/cache/nginx/cache levels=1:2 keys_zone=zone1:1m max_size=1g inactive=1h;\nproxy_temp_path  /var/cache/nginx/tmp;\n#proxy_ignore_headers Cache-Control; # upstreamã‹ã‚‰æ¥ã‚‹Cache-Controlã‚’ç„¡è¦–ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãªã‚‰\n```\n\n##### upstreamè¨­å®š httpãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã®ä¸­\n```\nupstream app {\n    server 127.0.0.1:8000;\n\n    keepalive 256;\n}\n```\n\n##### reverse proxyè¨­å®š serverãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã®ä¸­\n```\nlocation /initialize {\n    proxy_http_version 1.1;\n    proxy_set_header Connection \"\";\n\n    proxy_read_timeout 120;\n\n    #proxy_cache zone1;\n\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-Proto $scheme;\n    proxy_set_header X-Forwarded-Host $host;\n    proxy_set_header X-Forwarded-Server $host;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n\n    proxy_pass http://app;\n}\n```\n\n##### é™çš„é…ä¿¡è¨­å®š serverãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã®ä¸­\n```\n# static file ã®é…ä¿¡ç”¨ã® root\nroot /home/isucon/webapp/public/;\n\nlocation ~ .*\\.(htm|html|css|js|eot|svg|ttf|woff|woff2|gif|jpg|png|ico) {\n    expires 24h;\n\n    gzip off;\n    #gzip on; # CPUã‚’ä½¿ã†ã®ã§ãƒ¡ãƒªãƒƒãƒˆãƒ»ãƒ‡ãƒ¡ãƒªãƒƒãƒˆè¦‹æ¥µã‚ã‚‹å¿…è¦ã‚ã‚Šã€‚gzip_staticãŒä½¿ãˆã‚‹ãªã‚‰äº‹å‰ã«gzipåœ§ç¸®ã—ãŸä¸Šã§ãã¡ã‚‰ã‚’ä½¿ã†\n    #gzip_types *;\n    #gzip_disable \"msie6\";\n    #gzip_static on;\n}\n```\n\n##### gzip\n- ã§ãã‚Œã°gzip_staticã‚’ä½¿ã†\n    - åœ§ç¸®ã‚³ãƒãƒ³ãƒ‰ `find ./* | xargs -I {}  sh -c 'gzip -9 -v -N -c {} \u003e {}.gz'`\n        - å…ƒã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ®‹ã—ã¦åœ§ç¸®ã™ã‚‹\n***\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/other/Tools":{"title":"ãƒ„ãƒ¼ãƒ«","content":"\n- ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£\n\t- PowerToys (Windows)\n\t- Raycast (Mac)\n- ãƒã‚¤ãƒŠãƒªã‚¨ãƒ‡ã‚£ã‚¿\n\t- ImHex\n- ãƒ©ãƒ³ãƒãƒ£ãƒ¼\n\t- Ear Trumpet\n\t- ATOK\n\t- ueli\n\t- Podman Desktop\n- ãƒ¡ãƒ¢\n\t- Obsidian\n\t- Excalidraw\n- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼\n\t- KeePassXC\n- ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ©\n\t- WizTree\n\t- Splunk\n\t- WakaTime\n\t- CrystalDisk\n\t- CrystalDiskMark\n- ãƒ¡ãƒ¼ãƒ«\n\t- Postfix\n\t- SendGrid\n\t- Mailgun\n- æ¶²ã‚¿ãƒ–\n\t- XP-PEN\n- ã‚µãƒ¼ãƒãƒ¼\n\t- YAMAHA RTX1200\n- ã‚¢ã‚¤ãƒ‡ã‚¢\n\t- ã‚ã‚‹å˜èªã«ã¤ã„ã¦æ¤œç´¢çµæœã®è¦ç´„ã‚’ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã§è¡¨ç¤ºã™ã‚‹æ‹¡å¼µæ©Ÿèƒ½\n\t- PEGã‚’æ­£è¦è¡¨ç¾ã®æ‹¡å¼µã¨ã—ã¦ä½¿ãˆã‚‹ã‚ˆã†ãªã‚‚ã®\n\t- version updateæ™‚ã®ç¢ºèªä¸è¶³ã§ä½•ã‹ã—ã‚‰ã®æ‚ªæ„ã®ã‚ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å…¥ã‚Œã‚‹ã“ã¨ãŒã§ãã‚‹\n- ãƒ©ã‚¤ãƒ–ãƒ©ãƒª\n\t- ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªé–‹ç™º\n\t\t- Electron (TypeScript)\n\t\t- Dioxus (Rust)\n\t- ãƒˆãƒ¼ã‚¯ãƒŠã‚¤ã‚¶\n\t\t- MeCab\n\t\t- vibrato\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/other/Virtualization/Container":{"title":"ã‚³ãƒ³ãƒ†ãƒŠä»®æƒ³åŒ–æŠ€è¡“","content":"\nãƒãƒ«ãƒã‚¹ãƒ†ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰\nãƒ“ãƒ«ãƒ‰ç’°å¢ƒã¨å®Ÿè¡Œç’°å¢ƒã®ã‚³ãƒ³ãƒ†ãƒŠã‚’åˆ†ã‘ã‚‹ã“ã¨ã§ã‚µã‚¤ã‚ºã‚’æŠ‘ãˆã‚‰ã‚Œã‚‹.\n\n## Kubernetes\n\n[q3k/cve-2019-5736-poc: Unweaponized Proof of Concept for CVE-2019-5736 (Docker escape) (github.com)](https://github.com/q3k/cve-2019-5736-poc)\n[Dragon Sector: CVE-2019-5736: Escape from Docker and Kubernetes containers to root on host](https://blog.dragonsector.pl/2019/02/cve-2019-5736-escape-from-docker-and.html)\n[Security Camp B6 (notion.site)](https://mrtc0.notion.site/Security-Camp-B6-81eb740553154a70aeef92f3455717bf)\n\n[Dockerã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ ãƒˆãƒƒãƒ—20ï¼šç©¶æ¥µã‚¬ã‚¤ãƒ‰ #aqua #ã‚³ãƒ³ãƒ†ãƒŠ #ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ #ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ - ã‚¯ãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ãƒ©ã‚¤ãƒ³æ ªå¼ä¼šç¤¾ (creationline.com)](https://www.creationline.com/lab/aquasecurity/43087)\n\n[\"\u003e\u003cs\u003eã¯ã„\u003c/s\u003e (ssrf.in)](https://blog.ssrf.in/)\n[open_by_handle_at(2) ã§ã‚³ãƒ³ãƒ†ãƒŠã‹ã‚‰ Break Out ã™ã‚‹ (ssrf.in)](https://blog.ssrf.in/post/escape-container-with-open-by-handle-at/)\n\n[å®Ÿè·µå…¥é–€ Kubernetesã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã¸ã®é“ã€å§”è¨—ã€‘ - é”äººå‡ºç‰ˆä¼š (tatsu-zine.com)](https://tatsu-zine.com/books/kubernates-custom-controller)","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/other/Virtualization/Emulator":{"title":"ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿","content":"\nã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã¨ã¯ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã‚’ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã§å†ç¾ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã€‚\n- [Goè¨€èªã§ã‚²ãƒ¼ãƒ ãƒœãƒ¼ã‚¤ã‚¢ãƒ‰ãƒãƒ³ã‚¹ã®ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã‚’ä½œã£ãŸè©± (zenn.dev)](https://zenn.dev/akatsuki/articles/eac0703845aff2)\n- [Rustã§ã‚²ãƒ¼ãƒ ãƒœãƒ¼ã‚¤ã‚¢ãƒ‰ãƒãƒ³ã‚¹ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’æ›¸ã„ãŸ (zenn.dev)](https://zenn.dev/tanakh/articles/gba-emulator-in-rust#cpu)\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/other/Virtualization/Hypervisor":{"title":"ãƒã‚¤ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ãƒ¼","content":"\nx86ã‚’ä»®æƒ³åŒ–å¯èƒ½ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¸æ‹¡å¼µã—ãŸã‚‚ã®VT-x (Vanderpool Technology)\n\n- [ãƒã‚¤ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ã®ä½œã‚Šæ–¹ (syuu1228.github.io)](https://syuu1228.github.io/howto_implement_hypervisor/)\n- [RISC-Vã®Supervisor Binary Interface(SBI)ã«ã¤ã„ã¦ - FPGAé–‹ç™ºæ—¥è¨˜ (hatenablog.com)](https://msyksphinz.hatenablog.com/entry/2018/10/31/040000)\n- [VMMã‚’è‡ªä½œã—ã¦ã¿ãŸ - ãŠã—ã¼ã‚Šã®æ—¥å¸¸ (hatenablog.com)](https://oshibori0121.hatenablog.com/entry/2021/02/12/193002)\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/AEG":{"title":"Automatic Exploit Generation","content":"\n## èª¬æ˜\nè‡ªå‹•çš„ã«exploitã‚’è¡Œã†ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã™ã‚‹.\nãƒã‚°ã‚’è¦‹ã¤ã‘ã‚‹ãƒ‘ãƒ¼ãƒˆã¨exploitã‚’ç”Ÿæˆã™ã‚‹ãƒ‘ãƒ¼ãƒˆãŒã‚ã‚‹.\nãƒã‚°ã‚’è¦‹ã¤ã‘ã‚‹ã¨ãã¯ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯å®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³ã‚’ä½¿ã†. ãŸã å®Ÿè¡Œã™ã‚‹ã ã‘ã ã¨å®Ÿè¡Œæ™‚é–“ãŒã‹ãªã‚Šé•·ããªã£ã¦ã—ã¾ã†. ã“ã‚Œã‚’åŠ¹ç‡çš„ã«è¡Œã†ç‚ºã«ã¯å‰æ¡ä»¶ã‚’ç”¨ã„ã‚‹ã¨ã‚ˆã„.\nå‰æ¡ä»¶ã«ä½¿ã‚ã‚Œã‚‹ã‚‚ã®ã¯æ¬¡ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã‚‹.\n- Known Length: BOFæ¤œçŸ¥\n- Known Prefix: HTTPãƒ˜ãƒƒãƒ€\n- Concolic Execution\n\nç–‘å•\nãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å®šç†è¨¼æ˜ã‚’ã—ã¦ã„ã£ãŸæ–¹ãŒè‰¯ã„ã®ã§ã¯\n\n## å‚è€ƒæ–‡çŒ®\n[AEG: Automatic Exploit Generation (psu.edu)](https://www.cse.psu.edu/~trj1/cse544-f15/docs/aeg-current.pdf)","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxKernel/Kernel/kernel_reading":{"title":"","content":"\n[tkmru/linux-insides-ja: Japanese version of linux-insides book (github.com)](https://github.com/tkmru/linux-insides-ja)\n[Cryptogenic/PS5-IPV6-Kernel-Exploit: An experimental webkit-based kernel exploit (Arb. R/W) for the PS5 on \u003c= 4.51FW (github.com)](https://github.com/Cryptogenic/PS5-IPV6-Kernel-Exploit)","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxKernel/eBPF":{"title":"eBPF","content":"\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxKernel/kernel_exploit":{"title":"Kernel Exploitç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ","content":"\n## èª¬æ˜\n\npwnã®Kernel Exploitæ™‚ã«ä½¿ã†ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n\n## å®Ÿè£…\n\n```python\nfrom ptrlib import *\nimport time\nimport base64\nimport os\n\ndef run(cmd):\n    sock.sendlineafter(\"$ \", cmd)\n    sock.recvline()\n\nwith open(\"./root/exploit\", \"rb\") as f:\n    payload = bytes2str(base64.b64encode(f.read()))\n\n#sock = Socket(\"HOST\", PORT) # remote\nsock = Process(\"./run.sh\")\n\nrun('cd /tmp')\n\nlogger.info(\"Uploading...\")\nfor i in range(0, len(payload), 512):\n    print(f\"Uploading... {i:x} / {len(payload):x}\")\n    run('echo \"{}\" \u003e\u003e b64exp'.format(payload[i:i+512]))\nrun('base64 -d b64exp \u003e exploit')\nrun('rm b64exp')\nrun('chmod +x exploit')\n\nsock.interactive()\n```\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxKernel/vulnssecurity":{"title":"","content":"\n\n## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿæ§‹\n### KASLR :  Kernel ASLR\n- [KASLRã®å®Ÿè£…ã¨æŒ™å‹•ã®ç¢ºèª - äººç”Ÿã¯å‹‰å¼·ãƒ–ãƒ­ã‚°](https://blog.ishikawa.tech/entry/2019/12/17/161319)\n### KADR :  Kernel Address Display Restriction\n### KPTI :  Kernel  Page Table Isolation\nMeltdown Spectreã«å¯¾ã™ã‚‹é˜²å¾¡æ©Ÿæ§‹ã¨ã—ã¦å°å…¥ã€‚\n### SMAP :  Supervisor Mode Access Prevention\n### SMEP :  Supervisor Mode Execution Prevention\nuser-space memory mapping\n- [Linuxã‚«ãƒ¼ãƒãƒ«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§Stackjackingã«ã‚ˆã‚‹SMEP+SMAP+KADRå›é¿ã‚’ã‚„ã£ã¦ã¿ã‚‹ - ã‚‚ã‚‚ã„ã‚ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼](https://inaz2.hatenablog.com/entry/2015/03/27/021422)\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxUserland/FormatStringAttack":{"title":"Format String Attack","content":"\n## Format String Bug\næ›¸å¼ã‚’ `printf` ã®ç¬¬ä¸€å¼•æ•°ã«å…¥ã‚Œã‚‹ã“ã¨ã§èª­ã¿è¾¼ã‚“ã ã‚Šæ›¸ãè¾¼ã‚ã‚‹.\n\n| Format                  | èª¬æ˜                                                                                                         |\n| ----------------------- | ------------------------------------------------------------------------------------------------------------ |\n| `%x` `%6$x`             |                                                                                                              |\n| `%42x`                  | æŒ‡å®šã—ãŸæ•°ã ã‘æ–‡å­—ã‚’å‡ºåŠ›ã™ã‚‹                                                                                 |\n| `%p` `%6$p`             | èª­ã‚€                                                                                                         |\n| `%s` `%6$s`             | ãã®64bitã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰(nullæ–‡å­—ã¾ã§)èª­ã‚€                                                                      |\n| `%n` `%6$n`             | ãã®64bitã‚¢ãƒ‰ãƒ¬ã‚¹ã¸æ›¸ãè¾¼ã‚€                                                                                  |\n| `%hhn` `%hn` `%n` `%ln` | ãã‚Œãã‚Œ 1 2 4 8 ãƒã‚¤ãƒˆæ›¸ãè¾¼ã‚€ã€‚%hhnã¯0x100ã§å‰°ä½™ã‚’ã¨ã£ã¦ãã‚Œã‚‹ã®ã§ä¸€å‘¨å›ã—ã¦ã‚ã’ã‚Œã°ä»»æ„ã®å€¤ã‚’æ›¸ãè¾¼ã‚ã‚‹ã€‚ |\n\n## å¯¾ç­–\n`printf` ã®ç¬¬ä¸€å¼•æ•°ã‚’æ”»æ’ƒè€…ã«æ¸¡ã•ãªã„.\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxUserland/GOToverwrite":{"title":"GOT overwrite","content":"\n## èª¬æ˜\nGOT (Global Offset Table) ã®è¡Œå…ˆã‚’æ›¸ãæ›ãˆã‚‹. ROPã§scanfã—ã¦æ›¸ãæ›ãˆãŸã‚Šã§ãã‚‹.\n\n## é˜²å¾¡æ©Ÿæ§‹\nFull RELRO\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxUserland/HeapExploit/HeapExploit":{"title":"Heap Exploitation","content":"\nThe `glibc` library provides functions such as `free` and `malloc` to help developers manage the heap memory according to their use cases. It is the responsibility of the developer to:\n\n* `free` any memory he/she has obtained using `malloc`.\n* Do not `free` the same memory more than once.\n* Ensure that memory usage does not go beyond the amount of memory requested, in other terms, prevent heap overflows.\n\nFailing to do makes the software vulnerable to various kinds of attacks. [Shellphish](https://twitter.com/shellphish), a famous Capture the Flag team from UC Santa Barbara, has done a great job in listing a variety of heap exploitation techniques in [how2heap](https://github.com/shellphish/how2heap). Attacks described in \"The Malloc Maleficarum\" by \"Phantasmal Phantasmagoria\" in an [email](http://seclists.org/bugtraq/2005/Oct/118) to the \"Bugtraq\" mailing list are also described.\n\nA summary of the attacks has been described below:\n\n| Attack | Target | Technique |\n| :---: | :---: | :---: |\n| First Fit | This is not an attack, it just demonstrates the nature of glibc's allocator | --- |\n| Double Free | Making `malloc` return an already allocated fastchunk | Disrupt the fastbin by freeing a chunk twice |\n| Forging chunks | Making `malloc` return a nearly arbitrary pointer | Disrupting fastbin link structure |\n| Unlink Exploit | Getting (nearly)arbitrary write access | Freeing a corrupted chunk and exploiting `unlink` |\n| Shrinking Free Chunks | Making `malloc` return a chunk overlapping with an already allocated chunk | Corrupting a free chunk by decreasing its size |\n| House of Spirit | Making `malloc` return a nearly arbitrary pointer | Forcing freeing of a crafted fake chunk |\n| House of Lore | Making `malloc` return a nearly arbitrary pointer | Disrupting smallbin link structure |\n| House of Force | Making `malloc` return a nearly arbitrary pointer | Overflowing into top chunk's header |\n| House of Einherjar | Making `malloc` return a nearly arbitrary pointer | Overflowing a single byte into the next chunk |\n\n## å¼•ç”¨\n- [Heap Exploitation - heap-exploitation (dhavalkapil.com)](https://heap-exploitation.dhavalkapil.com/attacks)","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxUserland/HeapExploit/HouseOfXXX/HouseOfBotcake":{"title":"House of Botcake","content":"\n\nunsorted binã® `fd` ã¯ `main_arena.top` ã‚’æŒ‡ã™ã€‚\nlibcå†…ã® `main_arena.top` ã®ã‚ªãƒ•ã‚»ãƒƒãƒˆãŒåˆ†ã‹ã‚Œã° libc base address","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxUserland/HeapExploit/HouseOfXXX/HouseOfLore":{"title":"House of Lore","content":"\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxUserland/HeapExploit/HouseOfXXX/HouseOfOrange":{"title":"House of Orange","content":"æœ¬è³ª: `top chunk` ã®ã‚µã‚¤ã‚ºã‚’æ›¸ãæ›ãˆã‚‹ã“ã¨ã§ `_int_free` ã‚’å‘¼ã³å‡ºã™.\nå¿œç”¨: https://ptr-yudai.hatenablog.com/entry/2019/10/12/181931","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxUserland/HeapExploit/HouseOfXXX/HouseOfSpirit":{"title":"House of Spirit","content":"\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxUserland/HeapExploit/tcache_poisoning":{"title":"tcache poisoning","content":"\n ãƒ’ãƒ¼ãƒ—é–¢é€£\n C++ vtable overwrite\nC++ã§ã¯ä»®æƒ³é–¢æ•°ã‚’å®Ÿç¾ã™ã‚‹ç‚ºã«å®Ÿè¡Œãƒã‚¤ãƒŠãƒªä¸­ã«å‹ã«å¯¾ã—ã¦å‘¼ã³å‡ºã™é–¢æ•°ã®å¯¾å¿œè¡¨( vtable :  virtual method table )ã‚’æŒã¤ã€‚ã“ã®vtableã®è¡Œå…ˆã‚’æ›¸ãæ›ãˆã‚‹ã€‚ãŸã¶ã‚“ã€C++ã ã‘ã§ã¯ãªãå‹•çš„ãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ ã‚’é¸æŠã—ãŸè¨€èªãªã‚‰å‡ºæ¥ãã†ã€‚\nå‹•çš„ãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ  C++\né™çš„ãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ  Rust\n[ãƒ’ãƒ¼ãƒ—ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã«ã‚ˆã‚‹C++ vtable overwriteã‚’ã‚„ã£ã¦ã¿ã‚‹ - ã‚‚ã‚‚ã„ã‚ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼](https://inaz2.hatenablog.com/entry/2014/05/15/012621)\n[use-after-freeã«ã‚ˆã‚‹C++ vtable overwriteã‚’ã‚„ã£ã¦ã¿ã‚‹ - ã‚‚ã‚‚ã„ã‚ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼](https://inaz2.hatenablog.com/entry/2014/06/18/220735)\n[`_IO_str_overflow` ã‚’ä½¿ã£ãŸvtableæ”¹ç«„æ¤œçŸ¥ã®å›é¿æ‰‹æ³• - CTFã™ã‚‹ã](https://ptr-yudai.hatenablog.com/entry/2019/02/12/000202)\n\n`__free_hook` æ›¸ãæ›ãˆ\n`__free_hook` ã¯freeæ™‚ã«å‘¼ã³å‡ºã™é–¢æ•°ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æŒ‡å®šã§ãã‚‹ã€‚Full RELROã§ã‚‚æ›¸ãæ›ãˆã‚‰ã‚Œã‚‹ã€‚\n[SECCON Beginners CTF 2020 Beginners Heap Writeup \u0026åˆå¿ƒè€…å‘ã‘è§£èª¬](https://qiita.com/hanya1995/items/c29a89737bbd521e67f2)\n\ntcache poisoning\n[SECCON Beginners CTF 2019 - Babyheap](https://hackmd.io/@Xornet/H1hYUUR2I)\n\n tcache double-free\nglibc 2.28 ä»¥å‰ã® tcache ã§ã¯ double free ãŒæ¤œå‡ºã•ã‚Œãªã„\n[https://smallkirby.hatenablog.com/entry/2020/12/15/042803 ã€pwn 41.0ã€‘realloc-baseã®memory corruptionã®å¤ã„å°ãƒã‚¿ã¨æœ€è¿‘ã®tcacheå‘¨ã‚Šã®å°è©± - newbieã‹ã‚‰ãƒã‚¤ãƒŠãƒªã‚¢ãƒ³ã¸]\n\nchunk overlap\n\nfastbin attack\n\n\n[https://ptr-yudai.hatenablog.com/entry/2019/05/31/235444 ãƒ’ãƒ¼ãƒ—ç³»å•é¡Œã«ãŠã‘ã‚‹stdout / stderrã‚’åˆ©ç”¨ã—ãŸãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ - CTFã™ã‚‹ã]","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxUserland/HeapExploit/vulnssecurity":{"title":"Heap ã«ãŠã‘ã‚‹è„†å¼±æ€§ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿæ§‹","content":"\n## è„†å¼±æ€§\n### Heap BOF\nãƒ’ãƒ¼ãƒ—ä¸Šã®ãƒãƒƒãƒ•ã‚¡ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã‚’åˆ©ç”¨ã—ã¦ã€é–¢æ•°ã®æˆ»ã‚Šã‚¢ãƒ‰ãƒ¬ã‚¹ã‚„é–¢æ•°ãƒã‚¤ãƒ³ã‚¿ã‚’æ›¸ãæ›ãˆã‚‹\n- [ãƒ’ãƒ¼ãƒ—ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã«ã‚ˆã‚‹GOT overwriteã‚’ã‚„ã£ã¦ã¿ã‚‹ - ã‚‚ã‚‚ã„ã‚ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼](https://inaz2.hatenablog.com/entry/2014/05/14/011448)\n- [ãƒ’ãƒ¼ãƒ—ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã«ã‚ˆã‚‹C++ vtable overwriteã‚’ã‚„ã£ã¦ã¿ã‚‹ - ã‚‚ã‚‚ã„ã‚ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼](https://inaz2.hatenablog.com/entry/2014/05/15/012621)\n\n### Use After Free\nè§£æ”¾ã—ãŸé ˜åŸŸã‚’èª¤ã£ã¦ä½¿ç”¨ã—ã¦ã—ã¾ã†Use After Freeã‚’åˆ©ç”¨ã—ã€åŒã˜é ˜åŸŸã«æ‚ªæ„ã®ã‚ã‚‹ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’ç¢ºä¿ã—ã¦åˆ©ç”¨ã•ã›ã‚‹äº‹ã§ã€é–¢æ•°ãƒã‚¤ãƒ³ã‚¿ã‚’æ›¸ãæ›ãˆã‚‹ã€‚\n- [use-after-freeã«ã‚ˆã‚‹GOT overwriteã‚’ã‚„ã£ã¦ã¿ã‚‹ - ã‚‚ã‚‚ã„ã‚ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼](https://inaz2.hatenablog.com/entry/2014/06/18/215452)\n- [use-after-freeã«ã‚ˆã‚‹C++ vtable overwriteã‚’ã‚„ã£ã¦ã¿ã‚‹ - ã‚‚ã‚‚ã„ã‚ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼](https://inaz2.hatenablog.com/entry/2014/06/18/220735)\n\n## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿæ§‹\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxUserland/StackExploit/ROP":{"title":"ROP; Return-Oriented Programming","content":"\n ROP :  Return-Oriented Programming\nretå‘½ä»¤ã§çµ‚ã‚ã‚‹å°‘ãªã„å‘½ä»¤åˆ—(Gadget)ã‚’çµ„ã¿åˆã‚ã›ã¦ret2hogeã‚’ã™ã‚‹ã€‚å‘¼ã³å‡ºã—è¦ç´„ #Pwn_ã‚ˆãä½¿ã†glibcã®é–¢æ•°ã¾ã¨ã‚ ãŒcdeclãªã©ã‚¹ã‚¿ãƒƒã‚¯ã‚’ç”¨ã„ã‚‹å ´åˆã€3ã¤ä»¥ä¸Šã®é–¢æ•°ã‚’å‘¼ã¶ã¨ãå¼•æ•°ãŒé–¢æ•°ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨è¢«ã‚‰ãªã„ã‚ˆã†ã«å¼•æ•°ã‚’å‰Šé™¤ã™ã‚‹ç‚ºã®pop retã‚¬ã‚¸ã‚§ãƒƒãƒˆã‚’æŒŸã‚€ã€‚fastcallãªã©ãƒ¬ã‚¸ã‚¹ã‚¿ã‚’ç”¨ã„ã‚‹å ´åˆã€ãƒ¬ã‚¸ã‚¹ã‚¿ã«å¼•æ•°ã‚’æ¸¡ã™ãŸã‚ã«pop rdi retã‚¬ã‚¸ã‚§ãƒƒãƒˆç­‰ã‚’ä½¿ã†ã€‚\n- é˜²å¾¡æ©Ÿæ§‹\nIntel CET\n[ã€pwn 36.0ã€‘Intel CETãŒã€ã¿ã‚“ãªã®æ‹äººROPã‚’æ®ºã™ - newbieã‹ã‚‰ãƒã‚¤ãƒŠãƒªã‚¢ãƒ³ã¸](https://smallkirby.hatenablog.com/entry/2020/09/10/230629)\n[x64ã§ã‚¹ã‚¿ãƒƒã‚¯ãƒãƒƒãƒ•ã‚¡ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã‚’ã‚„ã£ã¦ã¿ã‚‹ - ã‚‚ã‚‚ã„ã‚ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼](https://inaz2.hatenablog.com/entry/2014/07/04/001851)\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxUserland/StackExploit/ret2xxx":{"title":"ret2xxx","content":"\n libcãƒªãƒ¼ã‚¯ :   libc leak\nlibcå†…ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’puts, printfé–¢æ•°ãªã©ã§å‡ºåŠ›ã•ã›ã‚‹ã€‚\n ret2XX\nãƒªã‚¿ãƒ¼ãƒ³ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æ›¸ãæ›ãˆã‚‹ã€‚\n\nret2libc\nret2plt\nret2csu\n[glibc code reading ã€œãªãœä¿ºé”ã®glibcã¯å¾Œæ–¹äº’æ›ã‚’æ¨ã¦ãŸã®ã‹ã€œ - HackMD](https://hackmd.io/@t3mp/r1zt00V1j)","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxUserland/StackExploit/vulnssecurity":{"title":"ã‚¹ã‚¿ãƒƒã‚¯ã®è„†å¼±æ€§ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿæ§‹","content":"\n## è„†å¼±æ€§\n### Stack BOF (Stack-based buffer overflow)\nã‚¹ã‚¿ãƒƒã‚¯ä¸Šã®ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã‚’åˆ©ç”¨ã—ã¦ãƒªã‚¿ãƒ¼ãƒ³ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚„ãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°ã‚’æ›¸ãæ›ãˆã‚‰ã‚Œã‚‹ã€‚\n- ãƒˆãƒªã‚¬ãƒ¼\nãƒ¡ãƒ¢ãƒªæ›¸ãæ›ãˆ (æ–‡å­—åˆ—å…¥åŠ›ã€æ–‡å­—åˆ—å…¥åŠ›ã®æœ€å¾Œå°¾ã«ãƒŒãƒ«æ–‡å­—ã‚’æŒ¿å…¥ã™ã‚‹ãªã©)\n- é˜²å¾¡æ©Ÿæ§‹\nSSP canary\n- [å˜ç´”ãªã‚¹ã‚¿ãƒƒã‚¯ãƒãƒƒãƒ•ã‚¡ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼æ”»æ’ƒã‚’ã‚„ã£ã¦ã¿ã‚‹ - ã‚‚ã‚‚ã„ã‚ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼](https://inaz2.hatenablog.com/entry/2014/03/14/151011)\n\n#### Stack underflow\né–¢æ•°ãƒ•ãƒ¬ãƒ¼ãƒ å¤–ã¾ã§popã‚’è¡Œã†ã€‚\n\nOff-by-one error\nNull-byte Overflow\n\n## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿæ§‹\n### Stack Canary\n\nMaster Canary\nhttps://www.youtube.com/watch?v=UTC2iWxQ4qc","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxUserland/glibc/_IO_FILE/_IO_FILE":{"title":"_IO_FILE","content":"\n```c\nstruct _IO_FILE\n{\n  int _flags;                /* High-order word is _IO_MAGIC; rest is flags. */\n  /* The following pointers correspond to the C++ streambuf protocol. */\n  char *_IO_read_ptr;        /* Current read pointer */\n  char *_IO_read_end;        /* End of get area. */\n  char *_IO_read_base;        /* Start of putback+get area. */\n  char *_IO_write_base;        /* Start of put area. */\n  char *_IO_write_ptr;        /* Current put pointer. */\n  char *_IO_write_end;        /* End of put area. */\n  char *_IO_buf_base;        /* Start of reserve area. */\n  char *_IO_buf_end;        /* End of reserve area. */\n  /* The following fields are used to support backing up and undo. */\n  char *_IO_save_base; /* Pointer to start of non-current get area. */\n  char *_IO_backup_base;  /* Pointer to first valid character of backup area */\n  char *_IO_save_end; /* Pointer to end of non-current get area. */\n  struct _IO_marker *_markers;\n  struct _IO_FILE *_chain;\n  int _fileno;\n  int _flags2;\n  __off_t _old_offset; /* This used to be _offset but it's too small.  */\n  /* 1+column number of pbase(); 0 is unknown. */\n  unsigned short _cur_column;\n  signed char _vtable_offset;\n  char _shortbuf[1];\n  _IO_lock_t *_lock;\n#ifdef _IO_USE_OLD_IO_FILE\n};\n```\n\n```c\nstruct _IO_FILE_plus\n{\n  _IO_FILE file;\n  const struct _IO_jump_t *vtable;\n};\n```\n\n```c\nstruct _IO_jump_t\n{\n    JUMP_FIELD(size_t, __dummy);\n    JUMP_FIELD(size_t, __dummy2);\n    JUMP_FIELD(_IO_finish_t, __finish);\n    JUMP_FIELD(_IO_overflow_t, __overflow);\n    JUMP_FIELD(_IO_underflow_t, __underflow);\n    JUMP_FIELD(_IO_underflow_t, __uflow);\n    JUMP_FIELD(_IO_pbackfail_t, __pbackfail);\n    /* showmany */\n    JUMP_FIELD(_IO_xsputn_t, __xsputn);\n    JUMP_FIELD(_IO_xsgetn_t, __xsgetn);\n    JUMP_FIELD(_IO_seekoff_t, __seekoff);\n    JUMP_FIELD(_IO_seekpos_t, __seekpos);\n    JUMP_FIELD(_IO_setbuf_t, __setbuf);\n    JUMP_FIELD(_IO_sync_t, __sync);\n    JUMP_FIELD(_IO_doallocate_t, __doallocate);\n    JUMP_FIELD(_IO_read_t, __read);\n    JUMP_FIELD(_IO_write_t, __write);\n    JUMP_FIELD(_IO_seek_t, __seek);\n    JUMP_FIELD(_IO_close_t, __close);\n    JUMP_FIELD(_IO_stat_t, __stat);\n    JUMP_FIELD(_IO_showmanyc_t, __showmanyc);\n    JUMP_FIELD(_IO_imbue_t, __imbue);\n#if 0\n    get_column;\n    set_column;\n#endif\n};\n```\n\n## å‚è€ƒ\n- [`_IO_str_overflow` ã‚’ä½¿ã£ãŸvtableæ”¹ç«„æ¤œçŸ¥ã®å›é¿æ‰‹æ³• - CTFã™ã‚‹ã (hatenablog.com)](https://ptr-yudai.hatenablog.com/entry/2019/02/12/000202)\n- [ãƒ’ãƒ¼ãƒ—ç³»å•é¡Œã«ãŠã‘ã‚‹stdout / stderrã‚’åˆ©ç”¨ã—ãŸãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ - CTFã™ã‚‹ã (hatenablog.com)](https://ptr-yudai.hatenablog.com/entry/2019/05/31/235444)\n\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxUserland/glibc/glibc":{"title":"glibc","content":"\n### glibc ãƒ“ãƒ«ãƒ‰æ–¹æ³•\n\n1. https://www.gnu.org/software/libc/ ã®ãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸ã‹ã‚‰ ftp ã«é£›ã‚“ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹.\n2. ãƒ“ãƒ«ãƒ‰ä½œæ¥­ç”¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã£ã¦ãã“ã«å…¥ã‚‹\n3. `../glibc-hoge/congifure --prefix=/path/to/ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã„å ´æ‰€`\n4. `make -j{N}`\n5. `make install`\n\n### glibc\n\n- è‡ªå‰ãƒ“ãƒ«ãƒ‰ã—ã¦ã‚‹ã¨ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã‚‚ä»˜ã„ã¦ãã‚‹.\n- [patchelf](https://github.com/NixOS/patchelf) ã§ã¯æ‰‹ã§å©ã‹ãªã„ã¨ã„ã‘ãªã„.\n- [pwninit](https://github.com/io12/pwninit) ãªã‚‰ glibc ã‚’åŒã˜éšå±¤ã«å…¥ã‚Œã¦ãŠã‘ã° `pwninit` ã§å‹æ‰‹ã«ã‚„ã£ã¦ãã‚Œã‚‹.\n- `ldd` ã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèªã§ãã‚‹.\n- ãƒ‘ãƒƒãƒè‡ªå‹•åŒ–ã§ããã†.","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxUserland/glibc/glibc_heap/BinsChunks":{"title":"Bins and Chunks","content":"\nA bin is a list (doubly or singly linked list) of free (non-allocated) chunks. Bins are differentiated based on the size of chunks they contain:\n\n1. Fast bin\n2. Unsorted bin\n3. Small bin\n4. Large bin\n\nFast bins are maintained using:\n\n```c\ntypedef struct malloc_chunk *mfastbinptr;\n\nmfastbinptr fastbinsY[]; // Array of pointers to chunks\n```\n\nUnsorted, small and large bins are maintained using a single array:\n\n```c\ntypedef struct malloc_chunk* mchunkptr;\n\nmchunkptr bins[]; // Array of pointers to chunks\n```\n\nInitially, during the initialization process, small and large bins are empty.\n\nEach bin is represented by two values in the bins array. The first one is a pointer to the 'HEAD' and the second one is a pointer to the 'TAIL' of the bin list. In the case of fast bins (singly linked list), the second value is NULL.\n\n## Fast bins\n\nThere are 10 fast bins. Each of these bins maintains a single linked list. Addition and deletion happen from the front of this list (LIFO manner).\n\nEach bin has chunks of the same size. The 10 bins each have chunks of sizes: 16, 24, 32, 40, 48, 56, 64, 72, 80 and 88. Sizes mentioned here include metadata as well. To store chunks, 4 fewer bytes will be available (on a platform where pointers use 4 bytes). Only the `prev_size` and `size` field of this chunk will hold meta data for allocated chunks. `prev_size` of next contiguous chunk will hold user data.\n\nNo two contiguous free fast chunks coalesce together.\n\n## Unsorted bin\n\nThere is only 1 unsorted bin. Small and large chunks, when freed, end up in this bin. The primary purpose of this bin is to act as a cache layer (kind of) to speed up allocation and deallocation requests.\n\n## Small bins\n\nThere are 62 small bins. Small bins are faster than large bins but slower than fast bins. Each bin maintains a doubly-linked list. Insertions happen at the 'HEAD' while removals happen at the 'TAIL' (in a FIFO manner).\n\nLike fast bins, each bin has chunks of the same size. The 62 bins have sizes: 16, 24, ... , 504 bytes.\n\nWhile freeing, small chunks may be coalesced together before ending up in unsorted bins.\n\n## Large bins\n\nThere are 63 large bins. Each bin maintains a doubly-linked list. A particular large bin has chunks of different sizes, sorted in decreasing order (i.e. largest chunk at the 'HEAD' and smallest chunk at the 'TAIL'). Insertions and removals happen at any position within the list.\n\nThe first 32 bins contain chunks which are 64 bytes apart:\n\n1st bin: 512 - 568 bytes  \n2nd bin: 576 - 632 bytes  \n.  \n.\n\nTo summarize:\n\n```\nNo. of Bins       Spacing between bins\n\n64 bins of size       8  [ Small bins]\n32 bins of size      64  [ Large bins]\n16 bins of size     512  [ Large bins]\n8 bins of size     4096  [ ..        ]\n4 bins of size    32768\n2 bins of size   262144\n1 bin  of size what's left\n```\n\nLike small chunks, while freeing, large chunks may be coalesced together before ending up in unsorted bins.\n\nThere are two special types of chunks which are not part of any bin.\n\n## Top chunk\n\nIt is the chunk which borders the top of an arena. While servicing 'malloc' requests, it is used as the last resort. If still more size is required, it can grow using the `sbrk` system call. The `PREV_INUSE` flag is always set for the top chunk.\n\n## Last remainder chunk\n\nIt is the chunk obtained from the last split. Sometimes, when exact size chunks are not available, bigger chunks are split into two. One part is returned to the user whereas the other becomes the last remainder chunk.","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxUserland/glibc/glibc_heap/CoreFunctions":{"title":"Core Functions","content":"\n## `void * _int_malloc (mstate av, size_t bytes)`\n\n1. Updates `bytes` to take care of alignments, etc.\n2. Checks if `av` is NULL or not.\n3. In the case of absence of usable arena (when `av` is NULL), calls `sysmalloc` to obtain chunk using mmap. If successful, calls `alloc_perturb`. Returns the pointer.  \n4. * If size falls in the fastbin range:\n     1. Get index into the fastbin array to access an appropriate bin according to the request size.\n     2. Removes the first chunk in that bin and make `victim` point to it.\n     3. If `victim` is NULL, move on to the next case (smallbin).\n     4. If `victim` is not NULL, check the size of the chunk to ensure that it belongs to that particular bin. An error (\"malloc(): memory corruption (fast)\") is thrown otherwise.\n     5. Calls `alloc_perturb` and then returns the pointer.\n\n   * If size falls in the smallbin range:\n     1. Get index into the smallbin array to access an appropriate bin according to the request size.\n     2. If there are no chunks in this bin, move on to the next case. This is checked by comparing the pointers `bin` and `bin-\u003ebk`.\n     3. `victim` is made equal to `bin-\u003ebk` (the last chunk in the bin). If it is NULL (happens during `initialization`), call `malloc_consolidate` and skip this complete step of checking into different bins. \n     4. Otherwise, when `victim` is non NULL, check if `victim-\u003ebk-\u003efd` and `victim` are equal or not. If they are not equal, an error (\"malloc(): smallbin double linked list corrupted\") is thrown.\n     5. Sets the PREV\\_INSUSE bit for the next chunk (in memory, not in the doubly linked list) for `victim`.\n     6. Remove this chunk from the bin list.\n     7. Set the appropriate arena bit for this chunk depending on `av`.\n     8. Calls `alloc_perturb` and then returns the pointer.\n\n   * If size does not fall in the smallbin range:\n     1. Get index into the largebin array to access an appropriate bin according to the request size.\n     2. See if `av` has fastchunks or not. This is done by checking the `FASTCHUNKS_BIT` in `av-\u003eflags`. If so, call `malloc_consolidate` on `av`.\n\n5. If no pointer has yet been returned, this signifies one or more of the following cases:\n  1. Size falls into 'fastbin' range but no fastchunk is available.\n  2. Size falls into 'smallbin' range but no smallchunk is available (calls `malloc_consolidate` during initialization).\n  3. Size falls into 'largbin' range.\n\n6. Next, unsorted chunks are checked and traversed chunks are placed into bins. This is the only place where chunks are placed into bins. Iterate the unsorted bin from the 'TAIL'.\n  1. `victim` points to the current chunk being considered.\n  2. Check if `victim`'s chunk size is within minimum (`2*SIZE_SZ`) and maximum (`av-\u003esystem_mem`) range. Throw an error (\"malloc(): memory corruption\") otherwise.\n  3. If (size of requested chunk falls in smallbin range) and (`victim` is the last remainder chunk) and (it is the only chunk in the unsorted bin) and (the chunks size \u003e= the one requested):\n    Break the chunk into 2 chunks:\n     * The first chunk matches the size requested and is returned.\n     * Left over chunk becomes the new last remainder chunk. It is inserted back into the unsorted bin.\n       1. Set `chunk_size` and `chunk_prev_size` fields appropriately for both chunks.\n       2. The first chunk is returned after calling `alloc_perturb`.\n  4. If the above condition is false, control reaches here. Remove `victim` from the unsorted bin. If the size of `victim` matches the size requested exactly, return this chunk after calling `alloc_perturb`.\n  5. If `victim`'s size falls in smallbin range, add the chunk in the appropriate smallbin at the `HEAD`.\n  6. Else insert into appropriate largebin while maintaining sorted order:\n    * First checks the last chunk (smallest). If `victim` is smaller than the last chunk, insert it at the last.\n    * Otherwise, loop to find a chunk with size \u003e= size of `victim`. If size is exactly same, always insert in the second position.\n  7. Repeat this whole step a maximum of `MAX_ITERS` (10000) times or till all chunks in unsorted bin get exhausted.\n\n7. After checking unsorted chunks, check if requested size does not fall in the smallbin range, if so then check largebins.\n  1. Get index into largebin array to access an appropriate bin according to the request size.\n  2. If the size of the largest chunk (the first chunk in the bin) is greater than the size requested:\n    1. Iterate from 'TAIL' to find a chunk (`victim`) with the smallest size \u003e= the requested size.\n    2. Call `unlink` to remove the `victim` chunk from the bin.\n    3. Calculate `remainder_size` for the `victim`'s chunk (this will be `victim`'s chunk size - requested size).\n    4. If this `remainder_size` \u003e= `MINSIZE` (the minimum chunk size including the headers), split the chunk into two chunks. Otherwise, the entire `victim` chunk will be returned. Insert the remainder chunk in the unsorted bin (at the 'TAIL' end). A check is made in unsorted bin whether `unsorted_chunks(av)-\u003efd-\u003ebk == unsorted_chunks(av)`. An error is thrown otherwise (\"malloc(): corrupted unsorted chunks\").\n    5. Return the `victim` chunk after calling `alloc_perturb`.\n\n8. Till now, we have checked unsorted bin and also the respective fast, small or large bin. Note that a single bin (fast or small) was checked using the **exact** size of the requested chunk. Repeat the following steps till all bins are exhausted:\n  1. The index into bin array is incremented to check the next bin.\n  2. Use `av-\u003ebinmap` map to skip over bins that are empty.\n  3. `victim` is pointed to the 'TAIL' of the current bin.\n  4. Using the binmap ensures that if a bin is skipped (in the above 2nd step), it is definitely empty. However, it does not ensure that all empty bins will be skipped. Check if the victim is empty or not. If empty, again skip the bin and repeat the above process (or 'continue' this loop) till we arrive at a nonempty bin.\n  5. Split the chunk (`victim` points to the last chunk of a nonempty bin) into two chunks. Insert the remainder chunk in unsorted bin (at the 'TAIL' end). A check is made in the unsorted bin whether `unsorted_chunks(av)-\u003efd-\u003ebk == unsorted_chunks(av)`. An error is thrown otherwise (\"malloc(): corrupted unsorted chunks 2\").\n  6. Return the `victim` chunk after calling `alloc_perturb`.\n\n9. If still no empty bin is found, 'top' chunk will be used to service the request:\n  1. `victim` points to `av-\u003etop`.\n  2. If size of 'top' chunk \u003e= 'requested size' + `MINSIZE`, split it into two chunks. In this case, the remainder chunk becomes the new 'top' chunk and the other chunk is returned to the user after calling `alloc_perturb`.\n  3. See if `av` has fastchunks or not. This is done by checking the `FASTCHUNKS_BIT` in `av-\u003eflags`. If so, call `malloc_consolidate` on `av`. Return to step 6 (where we check unsorted bin).\n  4. If `av` does not have fastchunks, call `sysmalloc` and return the pointer obtained after calling `alloc_perturb`.\n\n## `__libc_malloc (size_t bytes)`\n\n1. Calls `arena_get` to get an `mstate` pointer.\n2. Calls `_int_malloc` with the arena pointer and the size.\n3. Unlocks the arena.\n4. Before returning the pointer to the chunk, one of the following should be true:\n   * Returned pointer is NULL\n   * Chunk is MMAPPED\n   * Arena for chunk is the same as the one found in 1.\n\n## `_int_free (mstate av, mchunkptr p, int have_lock)`\n\n1. Check whether `p` is before `p + chunksize(p)` in the memory (to avoid wrapping). An error (\"free(): invalid pointer\") is thrown otherwise.\n2. Check whether the chunk is at least of size `MINSIZE` or a multiple of `MALLOC_ALIGNMENT`. An error (\"free(): invalid size\") is thrown otherwise.\n3. If the chunk's size falls in fastbin list:\n   1. Check if next chunk's size is between minimum and maximum size (`av-\u003esystem_mem`), throw an error (\"free(): invalid next size (fast)\") otherwise.\n   2. Calls `free_perturb` on the chunk.\n   3. Set `FASTCHUNKS_BIT` for `av`.\n   4. Get index into fastbin array according to chunk size.\n   5. Check if the top of the bin is not the chunk we are going to add. Otherwise, throw an error (\"double free or corruption (fasttop)\").\n   6. Check if the size of the fastbin chunk at the top is the same as the chunk we are adding. Otherwise, throw an error (\"invalid fastbin entry (free)\").\n   7. Insert the chunk at the top of the fastbin list and return.\n4. If the chunk is not mmapped:\n   1. Check if the chunk is the top chunk or not. If yes, an error (\"double free or corruption (top)\") is thrown.\n   2. Check whether next chunk (by memory) is within the boundaries of the arena. If not, an error (\"double free or corruption (out)\") is thrown.\n   3. Check whether next chunk's (by memory) previous in use bit is marked or not. If not, an error (\"double free or corruption (!prev)\") is thrown.\n   4. Check whether the size of next chunk is between the minimum and maximum size (`av-\u003esystem_mem`). If not, an error (\"free(): invalid next size (normal)\") is thrown.\n   5. Call `free_perturb` on the chunk.\n   6. If previous chunk (by memory) is not in use, call `unlink` on the previous chunk.\n   7. If next chunk (by memory) is not top chunk:\n      1. If next chunk is not in use, call `unlink` on the next chunk.\n      2. Merge the chunk with previous, next (by memory), if any is free and add it to the head of unsorted bin. Before inserting, check whether `unsorted_chunks(av)-\u003efd-\u003ebk == unsorted_chunks(av)` or not. If not, an error (\"free(): corrupted unsorted chunks\") is thrown.\n   8. If next chunk (by memory) was a top chunk, merge the chunks appropriately into a single top chunk.\n5. If the chunk was mmapped, call `munmap_chunk`.\n\n## `__libc_free (void *mem)`\n\n1. Return if `mem` is NULL.\n2. If the corresponding chunk is mmapped, call `munmap_chunk` if the dynamic brk/mmap threshold needs adjusting.\n3. Get arena pointer for that corresponding chunk.\n4. Call `_int_free`.","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxUserland/glibc/glibc_heap/InternalFunctions":{"title":"Internal Functions","content":"\nThis is a list of some common functions used internally. Note that some functions are in fact defined using the `#define` directive. So, changes to call parameters are in fact retained after the call. Also, it is assumed that MALLOC\\_DEBUG is not set.\n\n## arena_get (ar_ptr, size)\n\nAcquires an arena and locks the corresponding mutex. `ar_ptr` is set to point to the corresponding arena. `size` is just a hint as to how much memory will be required immediately.\n\n## sysmalloc [TODO]\n\n```c\n/*\n   sysmalloc handles malloc cases requiring more memory from the system.\n   On entry, it is assumed that av-\u003etop does not have enough\n   space to service request for nb bytes, thus requiring that av-\u003etop\n   be extended or replaced.\n */\n```\n\n## void alloc_perturb (char *p, size_t n)\n\nIf `perturb_byte` (tunable parameter for malloc using `M_PERTURB`) is non-zero (by default it is 0), sets the `n` bytes pointed to by `p` to be equal to `perturb_byte` ^ 0xff.\n\n## void free_perturb (char *p, size_t n)\n\nIf `perturb_byte` (tunable parameter for malloc using `M_PERTURB`) is non-zero (by default it is 0), sets the `n` bytes pointed to by `p` to be equal to `perturb_byte`.\n\n## void malloc_init_state (mstate av)\n\n```c\n/*\n   Initialize a malloc_state struct.\n\n   This is called only from within malloc_consolidate, which needs\n   be called in the same contexts anyway.  It is never called directly\n   outside of malloc_consolidate because some optimizing compilers try\n   to inline it at all call points, which turns out not to be an\n   optimization at all. (Inlining it in malloc_consolidate is fine though.)\n */\n```\n\n1. For non fast bins, create empty circular linked lists for each bin.\n2. Set `FASTCHUNKS_BIT` flag for `av`.\n3. Initialize `av-\u003etop` to the first unsorted chunk.\n\n## unlink(AV, P, BK, FD)\n\nThis is a defined macro which removes a chunk from a bin.\n\n1. Check if chunk size is equal to the previous size set in the next chunk. Else, an error (\"corrupted size vs. prev\\_size\") is thrown.\n2. Check if `P-\u003efd-\u003ebk == P` and `P-\u003ebk-\u003efd == P`. Else, an error (\"corrupted double-linked list\") is thrown.\n3. Adjust forward and backward pointers of neighboring chunks (in list) to facilitate removal:\n   1. Set `P-\u003efd-\u003ebk` = `P-\u003ebk`.\n   2. Set `P-\u003ebk-\u003efd` = `P-\u003efd`.\n\n## void malloc_consolidate(mstate av)\n\nThis is a specialized version of free().\n\n1. Chech if `global_max_fast` is 0 (`av` not initialized) or not. If it is 0, call `malloc_init_state` with `av` as parameter and return.\n2. If `global_max_fast` is non-zero, clear the `FASTCHUNKS_BIT` for `av`.\n3. Iterate on the fastbin array from first to last indices:\n   1. Get a lock on the current fastbin chunk and proceed if not null.\n   2. If previous chunk (by memory) is not in use, call `unlink` on the previous chunk.\n   3. If next chunk (by memory) is not top chunk:\n      1. If next chunk is not in use, call `unlink` on the next chunk.\n      2. Merge the chunk with previous, next (by memory), if any is free, and then add the consolidated chunk to the head of unsorted bin.\n   4. If next chunk (by memory) was a top chunk, merge the chunks appropriately into a single top chunk.\n\n_Note_: The check for 'in use' is done using `PREV_IN_USE` flag. Hence, other fastbin chunks won't identified as free here.","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxUserland/glibc/glibc_heap/SecurityChecks":{"title":"","content":"\n| Function    | Security Check                                                                                                                                | Error                              |\n| ----------- | --------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------- |\n| unlink      | Whether chunk size is equal to the previous size set in the next chunk (in memory)                                                            | corrupted size vs. prev_size       |\n| unlink      | Whether `P-\u003efd-\u003ebk == P` and `P-\u003ebk-\u003efd == P`*                                                                                                | corrupted double-linked list       |\n| `_int_malloc` | While removing the first chunk from fastbin (to service a malloc request), check whether the size of the chunk falls in fast chunk size range | malloc(): memory corruption (fast) |\n| `_int_malloc` | While removing the last chunk (`victim`) from a smallbin (to service a malloc request), check whether `victim-\u003ebk-\u003efd` and `victim` are equal | malloc(): smallbin double linked list corrupted |\n| `_int_malloc` | While iterating in unsorted bin, check whether size of current chunk is within minimum (`2*SIZE_SZ`) and maximum (`av-\u003esystem_mem`) range | malloc(): memory corruption |\n| `_int_malloc` | While inserting last remainder chunk into unsorted bin (after splitting a large chunk), check whether `unsorted_chunks(av)-\u003efd-\u003ebk == unsorted_chunks(av)` | malloc(): corrupted unsorted chunks |\n| `_int_malloc` | While inserting last remainder chunk into unsorted bin (after splitting a fast or a small chunk), check whether `unsorted_chunks(av)-\u003efd-\u003ebk == unsorted_chunks(av)` | malloc(): corrupted unsorted chunks 2 |\n| `_int_free` | Check whether `p`** is before `p + chunksize(p)` in the memory (to avoid wrapping) | free(): invalid pointer |\n| `_int_free` | Check whether the chunk is at least of size `MINSIZE` or a multiple of `MALLOC_ALIGNMENT` | free(): invalid size |\n| `_int_free` | For a chunk with size in fastbin range, check if next chunk's size is between minimum and maximum size (`av-\u003esystem_mem`) | free(): invalid next size (fast) |\n| `_int_free` | While inserting fast chunk into fastbin (at `HEAD`), check whether the chunk already at `HEAD` is not the same | double free or corruption (fasttop) |\n| `_int_free` | If the chunk is not within the size range of fastbin and neither it is a mmapped chunks, check whether it is not the same as the top chunk | double free or corruption (top) | `_int_free` | While inserting fast chunk into fastbin (at `HEAD`), check whether size of the chunk at `HEAD` is same as the chunk to be inserted | invalid fastbin entry (free) |\n| `_int_free` | Check whether next chunk (by memory) is within the boundaries of the arena | double free or corruption (out) |\n| `_int_free` | Check whether next chunk's (by memory) previous in use bit is marked | double free or corruption (!prev) |\n| `_int_free` | Check whether size of next chunk is within the minimum and maximum size (`av-\u003esystem_mem`) | free(): invalid next size (normal) |\n| `_int_free` | While inserting the coalesced chunk into unsorted bin, check whether `unsorted_chunks(av)-\u003efd-\u003ebk == unsorted_chunks(av)` | free(): corrupted unsorted chunks |\n\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxUserland/glibc/glibc_heap/glibc_heap":{"title":"glibc malloc","content":"\n## ãƒ’ãƒ¼ãƒ—ã¨ã¯\n\n## å‹•çš„ãƒ¡ãƒ¢ãƒª\n\n```cpp\n// Dynamically allocate 10 bytes\n\nchar *buffer = (char *)malloc(10);\n\nstrcpy(buffer, \"hello\");\n\nprintf(\"%s\\n\", buffer); // prints \"hello\"\n\n// Frees/unallocates the dynamic memory allocated earlier\n\nfree(buffer);\n```\n\n\n## glibc heap\n\n### malloc chunk\n\n```c\n struct malloc_chunk {\n   INTERNAL_SIZE_T      mchunk_prev_size;  /* Size of previous chunk (if free).  */\n   INTERNAL_SIZE_T      mchunk_size;       /* Size in bytes, including overhead. */\n   struct malloc_chunk* fd;                /* double links -- used only if free. */\n   struct malloc_chunk* bk;\n   /* Only used for large blocks: pointer to next larger size.  */\n   struct malloc_chunk* fd_nextsize; /* double links -- used only if free. */\n   struct malloc_chunk* bk_nextsize;\n };\n```\n\n```\nAllocated chunk\ncode:c\n     chunk-\u003e +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n             |             Size of previous chunk, if unallocated (P clear)  |\n             +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n             |             Size of chunk, in bytes                     |A|M|P|\n       mem-\u003e +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n             |             User data starts here...                          .\n             .                                                               .\n             .             (malloc_usable_size() bytes)                      .\n             .                                                               |\n nextchunk-\u003e +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n             |             (size of chunk, but used for application data)    |\n             +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n             |             Size of next chunk, in bytes                |A|0|1|\n             +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\nNotice how the data of an allocated chunk uses the first attribute (mchunk_prev_size) of the next chunk. mem is the pointer which is returned to the user.\nFree chunk\ncode:c\n     chunk-\u003e +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n             |             Size of previous chunk, if unallocated (P clear)  |\n             +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n     `head:' |             Size of chunk, in bytes                     |A|0|P|\n       mem-\u003e +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n             |             Forward pointer to next chunk in list             |\n             +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n             |             Back pointer to previous chunk in list            |\n             +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n             |             Unused space (may be 0 bytes long)                .\n             .                                                               .\n             .                                                               |\n nextchunk-\u003e +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n     `foot:' |             Size of chunk, in bytes                           |\n             +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n             |             Size of next chunk, in bytes                |A|0|0|\n             +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n```\n\nå‰å›ä½¿ç”¨ã—ãŸã‚µã‚¤ã‚ºä»¥ä¸‹ã®å®¹é‡ã‚’ç¢ºä¿ã™ã‚‹ã“ã¨ã§freeã—ãŸå¾Œã®ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ãˆã‚‹ã€‚\nè§£æ”¾æ¸ˆã¿ãƒã‚¤ãƒ³ã‚¿ ( ãƒ€ãƒ³ã‚°ãƒªãƒ³ã‚°ãƒã‚¤ãƒ³ã‚¿ :  dangling pointer ) ã‚’æ‚ªæ„ã®ã‚ã‚‹ã‚¢ãƒ‰ãƒ¬ã‚¹ã¸å¤‰ãˆã‚‹ã“ã¨ã§æ„å›³ã—ãªã„æŒ™å‹•ã«ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚\n\nglibc ã®ãƒ‡ãƒ¼ã‚¿é ˜åŸŸã« main_arena\n\n### malloc_state\n\n```cpp\nstruct malloc_state\n{\n  /* Serialize access.  */\n  __libc_lock_define (, mutex);\n\n  /* Flags (formerly in max_fast).  */\n  int flags;\n\n  /* Set if the fastbin chunks contain recently inserted free blocks.  */\n  /* Note this is a bool but not all targets support atomics on booleans.  */\n  int have_fastchunks;\n\n  /* Fastbins */\n  mfastbinptr fastbinsY[NFASTBINS];\n\n  /* Base of the topmost chunk -- not otherwise kept in a bin */\n  mchunkptr top;\n\n  /* The remainder from the most recent split of a small request */\n  mchunkptr last_remainder;\n\n  /* Normal bins packed as described above */\n  mchunkptr bins[NBINS * 2 - 2];\n\n  /* Bitmap of bins */\n  unsigned int binmap[BINMAPSIZE];\n\n  /* Linked list */\n  struct malloc_state *next;\n\n  /* Linked list for free arenas.  Access to this field is serialized\n     by free_list_lock in arena.c.  */\n  struct malloc_state *next_free;\n\n  /* Number of threads attached to this arena.  0 if the arena is on\n     the free list.  Access to this field is serialized by\n     free_list_lock in arena.c.  */\n  INTERNAL_SIZE_T attached_threads;\n\n  /* Memory allocated from the system in this arena.  */\n  INTERNAL_SIZE_T system_mem;\n  INTERNAL_SIZE_T max_system_mem;\n};\n```\n\nbinã«ã¯æ²¢å±±ã®ç¨®é¡ãŒã‚ã‚‹\n- tcache\n- fastbins\n- unsorted bins\n- small bins\n- large bins\n\nãƒ’ãƒ¼ãƒ—é ˜åŸŸ\n```cpp\nstruct malloc_chunk{\n  size_t prev_size; // Size of previous chunk (if free).\n  size_t size;      // Size in bytes, including overhead. ä¸‹3bitã¯ãƒ•ãƒ©ã‚°\n\n  // userã«æ¸¡ã•ã‚Œã‚‹ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯ã“ã“\n  // double links -- used only if free.\n  void *fd; // next\n  void *bk; // key\n\n  // for large size\n  void *fd_nextsize;\n  void *bk_nextsize;\n}\n```\n\n| bins   | fd | bk |\n|:------:|:---|:---|\n| tcache | next | tcache_key |\n| fastbins | next | null |\n| unsorted bins | \u0026main_arena.top |  |\n| small bins |  |  |\n| large bins |  |  |\n\ntcache\n\n```cpp\n/* We overlay this structure on the user-data portion of a chunk when\n   the chunk is stored in the per-thread cache.  */\ntypedef struct tcache_entry\n{\n  struct tcache_entry *next;\n  /* This field exists to detect double frees.  */\n  uintptr_t key;\n} tcache_entry;\n\n/* There is one of these for each thread, which contains the\n   per-thread cache (hence \"tcache_perthread_struct\").  Keeping\n   overall size low is mildly important.  Note that COUNTS and ENTRIES\n   are redundant (we could have just counted the linked list each\n   time), this is for performance reasons.  */\ntypedef struct tcache_perthread_struct\n{\n  uint16_t counts[TCACHE_MAX_BINS];\n  tcache_entry *entries[TCACHE_MAX_BINS];\n} tcache_perthread_struct;\n```\næœ¬è³ªã¯ next ã¤ã¾ã‚Šå˜æ–¹å‘é€£çµãƒªã‚¹ãƒˆ\n\n#### mitigations\n**counts**\nåˆæœŸå€¤ 0, free ã™ã‚‹ã¨ +1, malloc ã™ã‚‹ã¨ -1 ã•ã‚Œã‚‹å€¤\nä¸Šé™7å€‹ ã“ã‚Œã‚’è¶…ãˆã‚‹ã¨ fastbin ã¸\né€£çµãƒªã‚¹ãƒˆã¨ã¯ç‹¬ç«‹ã«ã‚«ã‚¦ãƒ³ãƒˆã•ã‚Œã‚‹ã“ã¨ã§ malloc ã®å›æ•°ã¨ free ã®å›æ•°ã®éæ•´åˆæ€§ã‚’æ¤œçŸ¥ã™ã‚‹(counts ã¯è² ã®æ•°ã¨ãªã‚‹ã“ã¨ã¯ãªã„).\n\nex)\nB: æ”»æ’ƒè€…ãŒæŒ‡å®šã™ã‚‹chunk\n```\nentry:ç©º -\u003e entry: A -\u003eæ”¹ã–ã‚“ï¼ -\u003e entry: A-\u003eB -\u003emalloc-\u003e entry: B\ncount:0 -\u003e count: 1 -----------\u003e count:1 -------------\u003e count: 0\n\nã“ã®mitigationã®bypassä¾‹\nentry:ç©º -\u003e entry: A ... entry: A_1-\u003eA_2 -\u003eæ”¹ã–ã‚“ï¼ -\u003e entry: A_1-\u003eB -\u003emalloc-\u003e entry: B\ncount:0 -\u003e count: 1 ... count: 2 ------------------\u003e count:2 --------------------\u003e count: 1\n```\n**key**\nfreeã™ã‚‹åº¦ã«entry.keyã«\u0026tcacheã‚’ä»£å…¥ã™ã‚‹\nfree ã™ã‚‹ã¨ãã« entry.keyã®ä½ç½®ã«\u0026tcache ãŒã‚ã‚‹å ´åˆã«é™ã‚Š\nentryã®ãƒªã‚¹ãƒˆã‚’æ¢ç´¢ã—double free ã‚’æ¤œçŸ¥ã™ã‚‹.\n\nmallocã—ã¦ããŸ chunk A{.a = 0x12345678, .b = 0x90abcdef}\n-\u003e free -\u003e\nfreeã•ã‚ŒãŸ tcache chunk A{.next = (æ¬¡ã®chunkã®ã‚¢ãƒ‰ãƒ¬ã‚¹) .key= \u0026tcache}\n\nmallocã—ã¦ããŸ chunk B{.a = 0x12345678, .b = \u0026tcache} ãŸã¾ãŸã¾keyã®ä½ç½®ãŒ\u0026tcacheã«ãªã£ã¦ã‚‹ï¼\n-\u003e free -\u003e double free(æ“¬é™½æ€§)\n\ntcache.entry[0x10] -\u003e A -\u003e B -\u003e C\n\n```\nstruct malloc_chunk{\n  size_t prev_size; // mallocä¸­ã«å¿…è¦ï¼\n  size_t size; // mallocä¸­ã«å¿…è¦ï¼ ä¸‹3bitã¯ãƒ•ãƒ©ã‚°\n\n  // userã«æ¸¡ã•ã‚Œã‚‹ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯ã“ã“\n\n  void *fd; // next\n  void *bk; // key\n\n  // for large size\n  void *fd_nextsize;\n  void *bk_nextsize;\n}\n```\n\nstruct tcache_entryã¯ã“ã®æ§‹é€ ä½“ã®fdã®ä½ç½®ã«overlapã—ã¦tcache_perthread_structã§ç®¡ç†ã—ã¦ã‚‹\n### é›‘ã€œãªexploit\n- ä½™åˆ†ã«freeã‚’ã—ã¦countã‚’å¢—ã‚„ã—ãŸå¾Œã€å¯¾è±¡ã®freeæ¸ˆã¿chunkã«å¯¾ã—ã¦keyã‚’ã”ã¡ã‚ƒã”ã¡ã‚ƒã«ã—nextæ”¹ã–ã‚“\n- ã“ã‚Œã§entryã®é€£çµãƒªã‚¹ãƒˆã®ä¸­ã«æ”»æ’ƒè€…æŒ‡å®šã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒå…¥ã‚‹ãŸã‚ã€ã“ã®ã¾ã¾mallocã—ã¦ã„ã‘ã°ä»»æ„ã‚¢ãƒ‰ãƒ¬ã‚¹æ›¸ãè¾¼ã¿å¯èƒ½\n\n\nlibc 2.29 tcache_key\ntcacheã§double freeã¯ã§ããªã„\nwwwdsssssssssssssssssssssssssssasssssssad\n```cpp\n/* Caller must ensure that we know tc_idx is valid and there's room\n   for more chunks.  */\nstatic __always_inline void\ntcache_put (mchunkptr chunk, size_t tc_idx)\n{\n  tcache_entry *e = (tcache_entry *) chunk2mem (chunk);\n\n  /* Mark this chunk as \"in the tcache\" so the test in _int_free will\n     detect a double free.  */\n  e-\u003ekey = tcache_key;\n\n  e-\u003enext = PROTECT_PTR (\u0026e-\u003enext, tcache-\u003eentries[tc_idx]);\n  tcache-\u003eentries[tc_idx] = e;\n  ++(tcache-\u003ecounts[tc_idx]);\n}\n```\n\n##\n\nglibc-2.35\nPROTECT_PTR\n```cpp\n/* Safe-Linking:\n   Use randomness from ASLR (mmap_base) to protect single-linked lists\n   of Fast-Bins and TCache.  That is, mask the \"next\" pointers of the\n   lists' chunks, and also perform allocation alignment checks on them.\n   This mechanism reduces the risk of pointer hijacking, as was done with\n   Safe-Unlinking in the double-linked lists of Small-Bins.\n   It assumes a minimum page size of 4096 bytes (12 bits).  Systems with\n   larger pages provide less entropy, although the pointer mangling\n   still works.  */\n#define PROTECT_PTR(pos, ptr) \\\n  ((__typeof (ptr)) ((((size_t) pos) \u003e\u003e 12) ^ ((size_t) ptr)))\n#define REVEAL_PTR(ptr)  PROTECT_PTR (\u0026ptr, ptr)\n```\n`(pos \u003e\u003e 12) ^ ptr`\næ”»æ’ƒè€…å´ã¯æœ€åˆheapã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒã‚ã‹ã‚‰ãªã„çŠ¶æ…‹ã‹ã‚‰å§‹ã¾ã‚‹\nãƒšãƒ¼ã‚¸ã¯4kå˜ä½ãªã®ã§ä¸‹ä½3nibble(12bit)ã¯ä½•åº¦å®Ÿè¡Œã—ã¦ã‚‚å¤‰ã‚ã‚‰ãªã„(randomizeã•ã‚Œãªã„)\nã ã‹ã‚‰3nibbleåˆ†å³ã«ãšã‚‰ã—ã¦xorã™ã‚‹ã¨æœ€å¤§é™ã®åŠ¹æœã‚’å¾—ã‚‰ã‚Œã‚‹\n\nãŸã freeæ¸ˆã¿ tcacheã‚’èª­ã‚ãŸã¨ã\nA{\n.next = 0x7ffabcdef;\n}\nAã®ä¸Šä½9nibbleåˆ†ã¯ã¨ã‚Œã‚‹ã€‚\n\nãƒ¡ãƒ¢ãƒªã®ç¢ºä¿é‡ãŒå°ã•ã„ã¨ãã€ã™ãªã‚ã¡heapãŒ1ãƒšãƒ¼ã‚¸ã§åã¾ã£ã¦ã„ã‚‹ã¨ã\nAã§ã¨ã‚ŒãŸä¸Šä½9nibbleåˆ†ã®æƒ…å ±ã‚’ãã®ã¾ã¾ä½¿ãˆã‚‹ã€‚\n-\u003e nextã«å¯¾ã—ã¦å¾©å…ƒã™ã‚‹ã‚ˆã†ãªXORã‚’æ›ã‘ã‚Œã°ãŠçµ‚ã„\n\n## å‚è€ƒ\n- [malloc(3)ã®ãƒ¡ãƒ¢ãƒªç®¡ç†æ§‹é€ ](https://www.valinux.co.jp/technologylibrary/document/linux/malloc0001/)\n- [MallocInternals - glibc wiki (sourceware.org)](https://sourceware.org/glibc/wiki/MallocInternals)\n- mallocå‹•ç”» [The 67th Yokohama kernel reading party - YouTube](https://www.youtube.com/watch?v=0-vWT-t0UHg)\n- [mallocã®å‹•ä½œã‚’è¿½ã„ã‹ã‘ã‚‹(mmapç·¨) - Qiita](https://qiita.com/kaityo256/items/9e78b507940b2292bf79)\n- [Preface - heap-exploitation (dhavalkapil.com)](https://heap-exploitation.dhavalkapil.com/)\n- [shellphish/how2heap: A repository for learning various heap exploitation techniques. (github.com)](https://github.com/shellphish/how2heap)\n- [ãƒ’ãƒ¼ãƒ—ç³»å•é¡Œã«ãŠã‘ã‚‹stdout / stderrã‚’åˆ©ç”¨ã—ãŸãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ - CTFã™ã‚‹ã (hatenablog.com)](https://ptr-yudai.hatenablog.com/entry/2019/05/31/235444)","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxUserland/glibc/glibc_heap/malloc_chunk":{"title":"malloc_chunk","content":"\nThis structure represents a particular chunk of memory. The various fields have different meaning for allocated and unallocated chunks.\n\n```c\nstruct malloc_chunk {\n  INTERNAL_SIZE_T      mchunk_prev_size;  /* Size of previous chunk, if it is free. */\n  INTERNAL_SIZE_T      mchunk_size;       /* Size in bytes, including overhead. */\n  struct malloc_chunk* fd;                /* double links -- used only if this chunk is free. */\n  struct malloc_chunk* bk;\n  /* Only used for large blocks: pointer to next larger size.  */\n  struct malloc_chunk* fd_nextsize; /* double links -- used only if this chunk is free. */\n  struct malloc_chunk* bk_nextsize;\n};\n\ntypedef struct malloc_chunk* mchunkptr;\n```\n\n## Allocated chunk\n\n```\n    chunk-\u003e +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n            |             Size of previous chunk, if unallocated (P clear)  |\n            +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n            |             Size of chunk, in bytes                     |A|M|P|\n      mem-\u003e +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n            |             User data starts here...                          .\n            .                                                               .\n            .             (malloc_usable_size() bytes)                      .\n            .                                                               |\nnextchunk-\u003e +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n            |             (size of chunk, but used for application data)    |\n            +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n            |             Size of next chunk, in bytes                |A|0|1|\n            +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n```\n\nNotice how the data of an allocated chunk uses the first attribute (`mchunk_prev_size`) of the next chunk. `mem` is the pointer which is returned to the user.\n\n## Free chunk\n\n        chunk-\u003e +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n                |             Size of previous chunk, if unallocated (P clear)  |\n                +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n        `head:' |             Size of chunk, in bytes                     |A|0|P|\n          mem-\u003e +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n                |             Forward pointer to next chunk in list             |\n                +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n                |             Back pointer to previous chunk in list            |\n                +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n                |             Unused space (may be 0 bytes long)                .\n                .                                                               .\n                .                                                               |\n    nextchunk-\u003e +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n        `foot:' |             Size of chunk, in bytes                           |\n                +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n                |             Size of next chunk, in bytes                |A|0|0|\n                +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\nFree chunks maintain themselves in a circular doubly linked list.\n\n**P (PREV\\_INUSE)**: 0 when previous chunk \\(not the previous chunk in the linked list, but the one directly before it in memory\\) is free \\(and hence the size of previous chunk is stored in the first field\\). The very first chunk allocated has this bit set. If it is 1, then we cannot determine the size of the previous chunk.\n\n**M (IS\\_MMAPPED)**: The chunk is obtained through `mmap`. The other two bits are ignored. `mmapped` chunks are neither in an arena, not adjacent to a free chunk.\n\n**A (NON\\_MAIN\\_ARENA)**: 0 for chunks in the main arena. Each thread spawned receives its own arena and for those chunks, this bit is set.\n\n_Note_: Chunks in fastbins are treated as _allocated_ chunks in the sense that they are not consolidated with neighboring free chunks.","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxUserland/glibc/glibc_heap/malloc_state":{"title":"malloc_state","content":"\nThis structure represents the header details of an Arena. The main thread's arena is a global variable and not part of the heap segment. Arena headers (`malloc_state` structures) for other threads are themselves stored in the heap segment. Non main arenas can have multiple heaps ('heap' here refers to the internal structure used instead of the heap segment) associated with them.\n\n```c\nstruct malloc_state\n{\n  /* Serialize access.  */\n  __libc_lock_define (, mutex);\n  /* Flags (formerly in max_fast).  */\n  int flags;\n  \n  /* Fastbins */\n  mfastbinptr fastbinsY[NFASTBINS];\n  /* Base of the topmost chunk -- not otherwise kept in a bin */\n  mchunkptr top;\n  /* The remainder from the most recent split of a small request */\n  mchunkptr last_remainder;\n  /* Normal bins packed as described above */\n  mchunkptr bins[NBINS * 2 - 2];\n  \n  /* Bitmap of bins */\n  unsigned int binmap[BINMAPSIZE];\n  \n  /* Linked list */\n  struct malloc_state *next;\n  /* Linked list for free arenas.  Access to this field is serialized\n     by free_list_lock in arena.c.  */\n  struct malloc_state *next_free;\n  /* Number of threads attached to this arena.  0 if the arena is on\n     the free list.  Access to this field is serialized by\n     free_list_lock in arena.c.  */\n     \n  INTERNAL_SIZE_T attached_threads;\n  /* Memory allocated from the system in this arena.  */\n  INTERNAL_SIZE_T system_mem;\n  INTERNAL_SIZE_T max_system_mem;\n};\n\ntypedef struct malloc_state *mstate;\n```","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxUserland/method":{"title":"pwn ã‚’è§£ãç‚ºã«å¿…è¦ãªã‚¹ãƒ†ãƒƒãƒ—","content":"\nè„†å¼±æ€§ã®ç¨®é¡ã¨ï¼Œãã®æ”»ç•¥æ–¹æ³•\n\n| æ®µéš               | ä¾‹                                                                         |\n| ------------------ | -------------------------------------------------------------------------- |\n| Vulnerabilities    | Stack BOF, Heap BOF, Use After Free, Format String Bug, Race Condition ... |\n| Exploit Techniques | ret2plt, ret2libc, ROP, GOT Overwrite, Stack pivot ...                     |\n| Anti-Exploits      | NX, ASLR, RELRO, PIE, Stack Canary ...                                     |\n\nflagã‚’ç²å¾—ã™ã‚‹æ–¹æ³•\n1. ã‚·ã‚§ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œ\n\t1. Exec-shellç³»\n\t2. Exec-shell + ãƒãƒƒã‚¯ã‚³ãƒã‚¯ãƒˆç³»\n\t3. [shellcode - Qiita](https://qiita.com/yyamada_bigtree/items/97ea176484f5b05c195d)\n2. `system(\"/bin/sh\")`ã‚„`execve(\"/bin/sh\", 0, 0)`ã‚’å®Ÿè¡Œ\n\t1. å¿…è¦ã«å¿œã˜ã¦dup2ã—ãŸã‚Šã™ã‚‹\n3. open(\"flag\") -\u003e read() -\u003e write()\n\t1. ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹ã§execç³»ãŒç¦æ­¢ã•ã‚Œã¦ã„ã‚‹ã‚±ãƒ¼ã‚¹ï¼Œchrootã•ã‚Œã¦ã„ã‚‹ã‚±ãƒ¼ã‚¹ãªã©ã§æœ‰åŠ¹\n\n## ãƒã‚¤ãƒŠãƒªè§£æ\nå‹•çš„è§£æ\n- gdb\n\t- gdb-peda\n\t- pwndbg\n\t- rust-gdb\né™çš„è§£æ\n- Ghidra\n\t- v10.1.5ãŒå®‰å®šç‰ˆ (ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚‚è±Šå¯Œã ã¨æ€ã†)\n- IDA Pro (ã‚¢ã‚¤ãƒ€ãƒ—ãƒ­)\n\t- å°‚é–€å®¶ã¯ãƒ‡ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®æ€§èƒ½ã‹ã‚‰ Ghidra ã‚ˆã‚Š IDA Pro ã®æ–¹ã‚’ä½¿ã„ãŒã¡\n- Binary Ninja\n- WinDbg\n\t- `bp \u003caddress\u003e` : ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ\n\t- `pr` : ãƒ¬ã‚¸ã‚¹ã‚¿æƒ…å ±ã¨gdbã§ã„ã†nexti\n\t- `pt` : retãŒæ¥ã‚‹ã¾ã§é€²ã‚ã‚‹\n\t- `pctr` : ãƒ¬ã‚¸ã‚¹ã‚¿æƒ…å ±ã¨callã¨retãŒæ¥ã‚‹ã¾ã§é€²ã‚ã‚‹\n\t- `dc \u003caddress reg\u003e` : double wordå˜ä½ã¨asciiæ–‡å­—ã§ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º\n- Immunity Debugger\n- radare2\n\nãƒ‡ãƒãƒƒã‚°æƒ…å ±\n- DWARF\n- gdbã®è‡ªå‹•çš„ã«ã‚„ã‚‹ã“ã¨ã§ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’å–ã‚Œã‚‹\n- seccomp BPF\n\nå¿…è¦ãªã‚³ãƒãƒ³ãƒ‰\n- ld: ãƒªãƒ³ã‚¯å…ˆ\n- patchelf: å‹•çš„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®è§£æ±º\n\t- [libcã«ãƒ‡ãƒãƒƒã‚°ã‚·ãƒ³ãƒœãƒ«ã‚’ä»˜ã‘ã‚‹æ–¹æ³•ã¨è‡ªå‹•åŒ– - Satoooonã®ç‰©ç½® (hatenablog.com)](https://satoooon1024.hatenablog.com/entry/2022/06/12/libc%E3%81%AB%E3%83%87%E3%83%90%E3%83%83%E3%82%B0%E3%82%B7%E3%83%B3%E3%83%9C%E3%83%AB%E3%82%92%E4%BB%98%E3%81%91%E3%82%8B%E6%96%B9%E6%B3%95%E3%81%A8%E8%87%AA%E5%8B%95%E5%8C%96)\n- objdump\n- checksec.sh\n- one_gadget\n- ROPgadget\n- ptrace\n- strace\n\n ```shell\n$ (cat out; cat) | ./a.out\n$ nm -D ./a.out | grep \" system\"\n$ strings -a -tx ./libc.so.6 | grep \"sh$\"\n$ objdump -S -M intel ./libc.so.6 --disassemble=execve\n$ ldd a.out\n$ echo -en \"\"\n$ grep -E \"\"\n$ one_gadget ./libc.so.6\n$ ROPgadget --binary ./a.out\n```\n\n## gccã‚ªãƒ—ã‚·ãƒ§ãƒ³\n\n- No RELRO: RELROç„¡åŠ¹\n- Partial RELRO: RELROæœ‰åŠ¹ã‹ã¤é…å»¶ãƒã‚¤ãƒ³ãƒ‰æœ‰åŠ¹\n- Full RELRO: RELROæœ‰åŠ¹ã‹ã¤é…å»¶ãƒã‚¤ãƒ³ãƒ‰ç„¡åŠ¹\n\n| ã‚„ã‚‹ã“ã¨                   | ã‚ªãƒ—ã‚·ãƒ§ãƒ³                                |\n|:-------------------------- |:----------------------------------------- |\n| SSP ç„¡åŠ¹                   | `-fno-stack-protector`                    |\n| SSP æœ‰åŠ¹ (default)         | `-fstack-protector`                       |\n| NX bit ç„¡åŠ¹                | `-z execstack`                            |\n| NX bit æœ‰åŠ¹ (default)      | `-z`                                      |\n| No RELRO                   | `-Wl,-z,norelro`                          |\n| Partial RELRO              | `-Wl,-z,relro,-z lazy`                    |\n| Full RELRO (default)       | `-Wl,-z,relro,-z,now`                     |\n| ASLR ç„¡åŠ¹                  | `sudo sysctl kernel.randomize_va_space=0` |\n| ASLR æœ‰åŠ¹ (default)        | `sudo sysctl kernel.randomize_va_space=2` |\n| PIE ç„¡åŠ¹                   | `-fno-pie -no-pie`                        |\n| PIE æœ‰åŠ¹ (default)         | `-fPIE -pie`                              |\n| Exec-Shield ç„¡åŠ¹           | `sudo sysctl -w kernel.exec-shield=0`     |\n| Exec-Shield æœ‰åŠ¹ (default) | `sudo sysctl -w kernel.exec-shield=1`     |\n\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxUserland/template":{"title":"pwnãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ","content":"\n## èª¬æ˜\n\nCTFã®pwnåˆ†é‡ã§ä½¿ã†ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€‚pwntoolsãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã™ã‚‹ã€‚\n\n## å®Ÿè£…\n\n```python\nfrom pwn import *\nimport sys\n\nbinary_path = './chall'\n\nif len(sys.argv) == 3:\n    io = remote(sys.argv[1], int(sys.argv[2]))\nelse:\n    io = process(binary_path)\nelf = ELF(binary_path)\n# libc = ELF(\"./libc.so.6\")\ncontext(arch='amd64', os='linux')\n\ndef wait_for_attach():\n    print('attach?')\n    raw_input()\n\n# str   -\u003e bytes: text.encode('utf-8')\n# bytes -\u003e str  : text.decode('utf-8')\n# long  -\u003e bytes(big)   : long_to_bytes(num)\n# long  -\u003e bytes(little): p64(num)\n# bytes -\u003e long(big)    : bytes_to_long(data)\n# bytes -\u003e long(little) : int.from_bytes(data, 'little')\n# bytes -\u003e int          : int(data, 16)\n\npayload = b''\nio.sendlineafter(b'\u003e ', payload)\nio.recvline()\nio.interactive()\n```\n\n## ä½¿ç”¨ä¾‹\n\n```shell\n$ python3 solve.py\n$ python3 solve.py localhost 3000\n```\n\n## å‚è€ƒæ–‡çŒ®\n[shellphish/how2heap: A repository for learning various heap exploitation techniques. (github.com)](https://github.com/shellphish/how2heap)\n[Exploiting Intel Graphics Kernel Extensions on macOS | RET2 Systems Blog](https://blog.ret2.io/2022/06/29/pwn2own-2021-safari-sandbox-intel-graphics-exploit/)","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/pwn/LinuxUserland/vulnssecurity":{"title":"Linux Userland ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿæ§‹","content":"\n## Anti-Exploits\n\n### DEP (Data Execution Prevention)\n- NX bit (No eXecute bit)  read write execute protection\n- ã‚»ã‚°ãƒ¡ãƒ³ãƒˆæ¯ã«å®Ÿè¡Œã™ã‚‹æ¨©é™ã‚’ä»˜ä¸ã™ã‚‹ã‹ã—ãªã„ã‹ã‚’è¨­å®šã™ã‚‹ã€‚ä»»æ„ã®ã‚³ãƒ¼ãƒ‰ã‚’æŒ¿å…¥ã—å®Ÿè¡Œã‚’èª˜ã†æ”»æ’ƒã‚’é˜²å¾¡ã§ãã‚‹ã€‚\n- ãƒ¡ãƒ¢ãƒªé ˜åŸŸã®ã‚¢ã‚¯ã‚»ã‚¹ä¿è­·ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æ›¸ãæ›ãˆã‚‹ã«ã¯ã€Windowsã®å ´åˆVirtualProtectExé–¢æ•°ã€Linuxã®å ´åˆmprotect(2)ãŒä½¿ãˆã‚‹ã€‚\n\t- [Return-to-libcã¨mprotect(2)ã§DEPã‚’å›é¿ã—ã¦ã¿ã‚‹ - ã‚‚ã‚‚ã„ã‚ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼](https://inaz2.hatenablog.com/entry/2014/04/20/010545)\n\n### RELRO (RELocation Read-Only)\nGOTã¯åˆå›å‘¼ã³å‡ºã—æ™‚ã«è¡Œãå…ˆã‚’æ›¸ãè¾¼ã‚€ ( é…å»¶ãƒã‚¤ãƒ³ãƒ‰: lazy binding )ã€‚\n- [RELROã¨format string attackã«ã‚ˆã‚‹ãƒªã‚¿ãƒ¼ãƒ³ã‚¢ãƒ‰ãƒ¬ã‚¹æ›¸ãæ›ãˆ - ã‚‚ã‚‚ã„ã‚ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼](https://inaz2.hatenablog.com/entry/2014/04/30/173618)\n\n### ASLR (Address Space Layout Randomization)\nã‚¹ã‚¿ãƒƒã‚¯é ˜åŸŸãƒ»ãƒ’ãƒ¼ãƒ—é ˜åŸŸã‚„å…±æœ‰ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒç½®ã‹ã‚Œã‚‹ãƒ™ãƒ¼ã‚¹ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯ä¸€å®šã®ç¯„å›²ã®ä¸­ã§ãƒ©ãƒ³ãƒ€ãƒ ã«æ±ºã‚ã‚‰ã‚Œã‚‹ã€‚ã“ã‚Œã‚‰ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’çŸ¥ã‚‹ã«ã¯ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å©ãã€‚ä¸€å›ç›®ã¨äºŒå›ç›®ã§å¤‰ã‚ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚‹ã€‚\n\n```shell\n$ cat /proc/\u003cprocess ID\u003e/maps              // = gdbã®i proc map = pwndbgã®vmmap\n```\n\n- [32bitç’°å¢ƒASLRã«å¯¾ã—ã¦ãƒ–ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ã‚¹ + NOP sled](https://inaz2.hatenablog.com/entry/2014/03/15/073837)\n\né˜²å¾¡æ©Ÿæ§‹\n- SSP :  Stack-Smashing Protection\n- é–¢æ•°å‘¼ã³å‡ºã—æ™‚ã«ãƒ©ãƒ³ãƒ€ãƒ ãªå€¤(Canary)ã‚’é…ç½®ã—ã€é–¢æ•°ã‹ã‚‰å‡ºã‚‹æ™‚ã«å¤‰åŒ–ã—ãŸã‹æ¤œè¨¼ã—ã€å¤‰ã‚ã£ã¦ã„ãŸã‚‰`__stack_chk_fail` é–¢æ•°ã‚’å‘¼ã³å‡ºã—ã€å¼·åˆ¶çµ‚äº†ã•ã›ã‚‹ã€‚\n\n#### PIE (Position-Independent Executables)\n\nå®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ãã®ã‚‚ã®ãŒç½®ã‹ã‚Œã‚‹ãƒ™ãƒ¼ã‚¹ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«æ±ºã‚ã‚‰ã‚Œã‚‹ã€‚\n\n1nibble brute force\n- ASLR + PIEã«å¯¾ã™ã‚‹å¯¾æŠ—ç­–\n- ãƒ™ãƒ¼ã‚¹ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒãƒ©ãƒ³ãƒ€ãƒ åŒ–ã—ã¦ã‚‚é–¢æ•°ãƒ»ãƒ‡ãƒ¼ã‚¿é–“ã®ã‚ªãƒ•ã‚»ãƒƒãƒˆã¯åŒã˜ã§ã‚ã‚‹ãŸã‚ã€ä¾‹ãˆã°æ¬¡ã®ã‚ˆã†ã«ã—ã¦ãƒ™ãƒ¼ã‚¹ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å–å¾—ã§ãã‚‹ã€‚\n\t- ã‚¹ã‚¿ãƒƒã‚¯ã«ç©ã¾ã‚ŒãŸãƒªã‚¿ãƒ¼ãƒ³ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å€¤ã‹ã‚‰ã€å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ™ãƒ¼ã‚¹ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒè¨ˆç®—ã§ãã‚‹ã€‚\n\t- ä¸€åº¦å‘¼ã³å‡ºã•ã‚ŒãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªé–¢æ•°ã®GOTã‚¢ãƒ‰ãƒ¬ã‚¹ã®å€¤ã‹ã‚‰ã€ãã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ™ãƒ¼ã‚¹ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒè¨ˆç®—ã§ãã‚‹ã€‚\n\t- ã‚¹ã‚¿ãƒƒã‚¯ã«ç©ã¾ã‚ŒãŸsaved ebpã®å€¤ã‹ã‚‰ã€ã‚¹ã‚¿ãƒƒã‚¯é ˜åŸŸã«ç½®ã‹ã‚Œã‚‹ä»–ã®ãƒ‡ãƒ¼ã‚¿ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒè¨ˆç®—ã§ãã‚‹ã€‚\n\t- ãƒ’ãƒ¼ãƒ—é ˜åŸŸã«ç¢ºä¿ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’æŒ‡ã™ãƒã‚¤ãƒ³ã‚¿ã®å€¤ã‹ã‚‰ã€ãƒ’ãƒ¼ãƒ—é ˜åŸŸã®ãƒ™ãƒ¼ã‚¹ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒè¨ˆç®—ã§ãã‚‹ã€‚\n- ASCII-armor - Exec-Shield\n\t- å…±æœ‰ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ™ãƒ¼ã‚¹ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’0x00XXXXXXã®ã‚ˆã†ã«\\x00ã‚’å«ã‚ã‚‹ã“ã¨ã§ret2libcã‚’é›£ã—ãã™ã‚‹æ©Ÿæ§‹ã€‚\n\nå¯¾æŠ—ç­–\n- ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå†…ã®systemé–¢æ•°ã§ã¯ãªãsystem@pltã«é£›ã°ã™(ret2plt)ã€‚\n- system@pltãŒãªã‘ã‚Œã°strcpy@pltã‚„snprintf@pltã«é£›ã°ã—ã¦(ret2strcpy)ã€å®Ÿè¡Œãƒã‚¤ãƒŠãƒªä¸­ã®1ãƒã‚¤ãƒˆã§1ã¤ãšã¤GOT overwriteã—ã€ã‚·ã‚§ãƒ«ã‚’èµ·å‹•ã™ã‚‹ã€‚\n\n`/etc/sysctl.conf`\n\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/science/Biology":{"title":"ç”Ÿç‰©å­¦","content":"\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/science/Physics/Physics":{"title":"ç‰©ç†å­¦","content":"\n# ç‰©ç†å­¦\n\n## ãƒ™ã‚¯ãƒˆãƒ«è§£æ\n\n[ãƒ™ã‚¯ãƒˆãƒ«è§£æãƒãƒ¼ãƒˆ](https://drive.google.com/file/d/1C-eszj1VSI98aenIdvabiADAPzYHqdXA/view?usp=sharing)\n\n## é›»ç£æ°—å­¦\n\n## è§£æåŠ›å­¦\n\næ³¢å‹•æ–¹ç¨‹å¼ã®é›¢æ•£åŒ–\n\n$$\n\\begin{aligned}\n\\frac{\\partial^2u}{\\partial t^2} \u0026= v^2\\left(\\frac{\\partial^2u}{\\partial x^2} + \\frac{\\partial^2u}{\\partial y^2}\\right) \\\\\n\\frac{u_{i,j}^{n+1}-2u_{i,j}^n+u_{i,j}^{n-1}}{\\Delta t^2} \u0026= v^2\\left(\\frac{u_{i,j}^{n+1}-2u_{i,j}^n+u_{i,j}^{n-1}}{\\Delta x^2} + \\frac{u_{i,j}^{n+1}-2u_{i,j}^n+u_{i,j}^{n-1}}{\\Delta y^2}\\right) \\\\\nu_{i,j}^{n+1} \u0026= 2u_{i,j}^n - u_{i,j}^{n-1} + \\Delta t^2v^2\\left(\\frac{u_{i,j}^{n+1}-2u_{i,j}^n+u_{i,j}^{n-1}}{\\Delta x^2} + \\frac{u_{i,j}^{n+1}-2u_{i,j}^n+u_{i,j}^{n-1}}{\\Delta y^2}\\right)\n\\end{aligned}\n$$\n\n## é‡å­åŠ›å­¦\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/science/math/%E4%BD%93%E8%AB%96":{"title":"ä½“è«–","content":"\n$$\n\\newcommand{\\Ker}{\\operatorname{Ker}}\n\\newcommand{\\Image}{\\operatorname{Im}}\n\\newcommand{\\ch}{\\operatorname{ch}}\n\\newcommand{\\Hom}{\\operatorname{Hom}}\n\\newcommand{\\Aut}{\\operatorname{Aut}}\n\\newcommand{\\id}{\\mathrm{id}}\n\\newcommand{\\NN}{\\mathbb{N}}\n\\newcommand{\\ZZ}{\\mathbb{Z}}\n\\newcommand{\\QQ}{\\mathbb{Q}}\n\\newcommand{\\RR}{\\mathbb{R}}\n\\newcommand{\\CC}{\\mathbb{C}}\n\\newcommand{\\FF}{\\mathbb{F}}\n$$\n# è¼ªèª­ä¼š å¾©ç¿’\n\n## Def. æ¨™æ•°\n$\\phi: \\ZZ\\to K$, $n \\mapsto n\\cdot 1$\næ•´æ•°ã¯å…¨é †åºé›†åˆãªã®ã§é †åºã‚’ä¸ãˆã¦æ¬¡ã®ã‚ˆã†ã« $\\phi$ ã‚’å®šç¾©ã™ã‚‹.\n\n$$\n\\phi(n) =\n\\begin{cases}\n\\overbrace{1_K + \\cdots + 1_K}^{n} \u0026 (n \u003e 0) \\\\\n0_K \u0026 (n = 0) \\\\\n-\\phi(-n) \u0026 (n \u003c 0)\n\\end{cases}\n$$\n\nã“ã®ã¨ã $\\phi$ ã¯æº–åŒå‹ã§ã‚ã‚‹. $\\phi: \\ZZ\\to K$ ã«æº–åŒå‹å®šç†ã‚’é©ç”¨ã—ã¦ $\\ZZ/\\Ker(\\phi) \\cong \\Im(\\phi)$ ã¨ãªã‚Š $\\Im(\\phi)$ ã¯æ•´åŸŸãªã®ã§ $\\Ker(\\phi) \\subset \\ZZ$ ã¯ç´ ã‚¤ãƒ‡ã‚¢ãƒ«ã§ã‚ã‚Š $(0)$ ã‹ç´ æ•° $p$ ã‚’ç”¨ã„ã¦ $(p)$ ã¨è¡¨ã›ã‚‰ã‚Œã‚‹. ã“ã®å˜é …ã‚¤ãƒ‡ã‚¢ãƒ«ã‚’ç”Ÿæˆã™ã‚‹å…ƒ $0$ ã¾ãŸã¯ $p$ ã‚’æ¨™æ•°ã¨å‘¼ã³, $\\mathrm{ch}\\ K$ ã¨æ›¸ã.\n\n### Prop. æ¨™æ•°ã®éƒ¨åˆ†ä½“\nä½“ $K$ ãŒæ¨™æ•° $0$ ãªã‚‰éƒ¨åˆ†ä½“ã« $\\QQ$ã€æ¨™æ•° $p$ ãªã‚‰ $\\FF_p$ ãŒã‚ã‚‹.\nã“ã®å‘½é¡Œã‹ã‚‰ $\\QQ$ ã‚„ $\\FF_p$ ã‚’ç´ ä½“ã¨å‘¼ã¶.\nå±€æ‰€åŒ–ã®æ™®éæ€§ æœ¬å½“ã«åŒå‹ã«ãªã‚‹ã®ã‹.\n\n**Proof.**\næ¨™æ•° $0$ ãªã‚‰ã°æ¨™æ•°ã®å®šç¾©ã‚ˆã‚Š $\\ZZ/(0) = \\ZZ \\cong \\Im(\\phi) \\subseteq K$ ã¨ãªã‚‹ã€‚ $K$ ã¯ä½“ã‚ˆã‚Š $K\\backslash\\{0\\}$ ã®å…ƒã¯å˜å…ƒã§ã‚ã‚‹ã‹ã‚‰ $\\exists S \\subseteq K$, $\\QQ \\cong S$.\næ¨™æ•° $p$ ãªã‚‰ã° $\\ZZ/(p) = \\ZZ/p\\ZZ = \\FF_p \\cong \\Im(\\phi) \\subseteq K$ ã¨ãªã‚‹.\n\n### Def. ãƒ•ãƒ­ãƒ™ãƒ‹ã‚¦ã‚¹å†™åƒ\næ¨™æ•° $p$ ã®ä½“ã§ $q=p^n$ ã¨ã—ã¦ $(x+y)^q = x^q+y^q, (xy)^q = x^qy^q$ ã‚ˆã‚Š $\\mathrm{Frob}_q: x \\mapsto x^q$ ã¯ä½“ã®æº–åŒå‹ã¨ãªã‚‹ã€‚ã“ã‚Œã‚’ãƒ•ãƒ­ãƒ™ãƒ‹ã‚¦ã‚¹æº–åŒå‹ã¨ã„ã†.\n\n## æ‹¡å¤§ä½“\n### Prop. $K$ ä¸Š $S$ ã§ç”Ÿæˆã•ã‚ŒãŸä½“ $K(S)$ ã¯ä½“ã§ã‚ã‚‹\n\n**Proof.**\n$K[x_1,\\ldots , x_n]$ ã¯æ•´åŸŸã§ã‚ã‚Š, ãã‚Œã‚’å±€æ‰€åŒ–ã™ã‚‹ã¨å•†ä½“ã¨ãªã‚‹ã‹ã‚‰ã€æœ‰ç†é–¢æ•°ä½“ $K(x_1,\\ldots , x_n)$ ã¯ä½“ã§ã‚ã‚‹.\n- $S$ ãŒæœ‰é™é›†åˆã®ã¨ã\næœ‰ç†é–¢æ•°ä½“ $K(x_1,\\ldots , x_n)$ ã«ä»£å…¥ã—ã¦åˆ†æ¯ãŒ $0$ ã§ã¯ãªã„ã‚‚ã®ã‚’é›†ã‚ãŸã‚‚ã®ã¯ä½“ã¨ãªã‚‹.\n- $S$ ãŒç„¡é™é›†åˆã®ã¨ã\nä»»æ„ã®æœ‰ç†é–¢æ•°ä½“ã«ç„¡é™é›†åˆã®éƒ¨åˆ†ç„¡é™é›†åˆã‚’ä»£å…¥ã—ãŸä½“ã¯æ§‹æˆã™ã‚‹ã“ã¨ã¯ã§ããªã„. ãªãœãªã‚‰æœ‰ç†é–¢æ•°ä½“ã«ã¯ç„¡é™å›ã®æ¼”ç®—ã‚’ä¼´ã†ã‹ã‚‰ã§ã‚ã‚‹.\nã“ã‚Œã‚ˆã‚Šæœ‰é™é›†åˆã§ç”Ÿæˆã—ãŸä½“ã®å’Œé›†åˆã¯ä½“ã¨ãªã‚‹.\n\n### Prop. 7.1.6\n$L/K$ ã‚’æ‹¡å¤§ä½“, $S\\subset L$ ã¨ã—ãŸã¨ã $T\\subset S \\implies T\\subset K(S) \\implies K(T)\\subset K(S)$\n\n**Proof.**\n$f_1,\\ldots,f_m\\in T$ ãŒ $\\alpha_1,\\ldots,\\alpha_n\\in S$ ã®æœ‰ç†å¼ã§è¡¨ã•ã‚Œã‚‹ãªã‚‰ $f_1,\\ldots,f_m\\in T$ ã®æœ‰ç†å¼ã‚‚ $\\alpha_1,\\ldots,\\alpha_n\\in S$ ã®æœ‰ç†å¼ã§è¡¨ã•ã‚Œã‚‹.\n\n### Def. ä»£æ•°æ‹¡å¤§ãƒ»è¶…è¶Šæ‹¡å¤§\n$L$ ã®å…¨ã¦ã®å…ƒãŒ $K$ ä¸Šä»£æ•°çš„ãªã‚‰ã° $L/K$ ã¯ä»£æ•°æ‹¡å¤§, ãã†ã§ãªã‘ã‚Œã°è¶…è¶Šæ‹¡å¤§ã¨ã„ã†.\n\nå˜æ‹¡å¤§ãŒè¶…è¶Šæ‹¡å¤§ã«ãªã‚‹ä¾‹: $K(x)/K$, $\\QQ(\\pi)/\\QQ$, $\\QQ(e)/\\QQ$ ãªã©.\n\n### Prop. (1) $\\alpha$ ã¯ $K$ ä¸Šä»£æ•°çš„ã§ã‚ã‚‹$\\iff$(2) $K[\\alpha]=K(\\alpha)$\n(1)$\\implies$(2)\n$\\phi\\colon K[x]\\to K[\\alpha]$ ã‚’ $\\phi(x)=\\alpha$ ã¨ãªã‚‹ $K$ æº–åŒå‹ã‚’è€ƒãˆã‚‹ã¨ $f(\\alpha)=0$ ã¨ãªã‚‹æ—¢ç´„å¤šé …å¼ã‚’ç”¨ã„ã¦ $K[x]/(f(x))\\cong K[\\alpha]$ ã¨ãªã‚‹. $K[\\alpha]$ ã¯æ•´åŸŸã‚ˆã‚Š $(f(x))$ ã¯ç´ ã‚¤ãƒ‡ã‚¢ãƒ«ã§ã‚ã‚Š, $K[x]$ ã¯å˜é …ã‚¤ãƒ‡ã‚¢ãƒ«æ•´åŸŸã§ã‚ã‚‹ã‹ã‚‰ $(f(x))$ ã¯æ¥µå¤§ã‚¤ãƒ‡ã‚¢ãƒ«ã§ã‚ã‚‹. ã‚ˆã£ã¦ $K[\\alpha]$ ã¯ä½“ã§ã‚ã‚Š, $K[\\alpha] = K(\\alpha)$ ã¨ãªã‚‹.\n\n(2)$\\implies$(1)\n$\\alpha = 0$ ã®ã¨ãã¯è‡ªæ˜ã« $K$ ä¸Šä»£æ•°çš„ã§ã‚ã‚‹. $\\alpha\\neq0$ ã®ã¨ã $\\alpha^{-1}=a_n\\alpha^n+\\ldots+a_0$ ã¨ã‹ã‘ã‚‹ã‹ã‚‰, $a_n\\alpha^{n+1}+\\ldots+a_0\\alpha-1=0$ ã‚ˆã‚Š $\\alpha$ ã¯ $K$ ä¸Šä»£æ•°çš„ã§ã‚ã‚‹.\nâ†‘ã“ã‚Œå¤©æ‰\n\n### Prop. $K$ ä¸Šä»£æ•°çš„ãªå…ƒ $\\alpha$ ã¨ãã®æœ€å°å¤šé …å¼ $f(x)$ ã«ãŠã„ã¦ $[K(\\alpha):K] = \\deg f$ ã¨ãªã‚‹ã€‚\n$f(x) = x^n + a_{n-1}x^{n-1} + \\ldots + a_0$ ã¨ãŠãã¨ $\\alpha^m = -\\alpha^{m-n}(a_{n-1}\\alpha^{n-1} + \\ldots + a_0)$ ã¨ãªã‚‹ã‹ã‚‰ $K[\\alpha] = K(\\alpha)$ ã®ä»»æ„ã®å…ƒã¯ $c_{n-1}\\alpha^{n-1} + \\ldots + c_0$ ã¨ã‹ã‘ã‚‹. ã“ã“ã§ $g(x) = c_{n-1}x^{n-1} + \\ldots + c_0$ ã¨ãŠãã¨, $g(\\alpha) = 0$ ã®ã¨ã, $g(x) \\neq 0$ ãªã‚‰æœ€å°å¤šé …å¼ $f(x)$ ã¨çŸ›ç›¾ã™ã‚‹ç‚º, $g(x) = 0$ ã¨ãªã‚‹. ã‚ˆã£ã¦ $\\{\\alpha^{n-1}, \\ldots, 1\\}$ ã¯åŸºåº•ã§ã‚ã‚Š, $[K(\\alpha):K] = \\deg f$ ã¨ãªã‚‹.\n\n### Prop. $L/K$ æ‹¡å¤§ã«ã¤ã„ã¦ (1) æœ‰é™ç”Ÿæˆãªä»£æ•°æ‹¡å¤§$\\iff$(2) æœ‰é™æ¬¡æ‹¡å¤§\n(1)$\\implies$(2)\næœ‰é™ç”Ÿæˆãªä»£æ•°æ‹¡å¤§ã‚ˆã‚Š $L = K(\\alpha_1, \\ldots, \\alpha_n)$ ã¨ãŠãã¨ $L = K(\\alpha_1)\\ldots(\\alpha_n)$ ã¨ã‹ã‘, ä¸Šã®å‘½é¡Œã‚ˆã‚Šå˜æ‹¡å¤§ã‹ã¤ä»£æ•°æ‹¡å¤§ã¯æœ‰é™æ¬¡æ‹¡å¤§ã§ã‚ã‚‹ã‹ã‚‰æœ‰é™å›ç¹°ã‚Šè¿”ã—ç”¨ã„ã¦æœ‰é™æ¬¡æ‹¡å¤§ã¨ãªã‚‹.\n\n(2)$\\implies$(1)\n$L/K$ ãŒæœ‰é™æ¬¡æ‹¡å¤§ã‚ˆã‚Š $n = [L:K]$ ã¨ãŠãã¨ $L$ ã‚’ $K$ ä¸Šãƒ™ã‚¯ãƒˆãƒ«ç©ºé–“ã¨ã—ã¦, ãã® $n$ å€‹ã®åŸºåº• $\\{x_1,\\ldots,x_n\\}$ ã§æœ‰é™ç”Ÿæˆã•ã‚Œã‚‹. ã¾ãŸä»»æ„ã®å…ƒ $x\\in L$ ã«ã¤ã„ã¦ $m \u003e n$ ãŒå­˜åœ¨ã—, $\\{1,x,\\ldots,x^m\\}$ ã¯ä¸€æ¬¡å¾“å±ã¨ãªã‚‹. ã‚ˆã£ã¦ $a_0, \\ldots, a_m\\in K$ ãŒå­˜åœ¨ã—, $a_0 + \\ldots + a_mx^m = 0$ ã¨ãªã‚Š $x$ ã¯ä»£æ•°çš„ãªå…ƒã§ã‚ã‚‹. ã‚ˆã£ã¦æœ‰é™ç”Ÿæˆã‹ã¤ä»£æ•°æ‹¡å¤§ã¨ãªã‚‹.\n\n### Prop. $L/M$, $M/K$ ãŒä½“ã®ä»£æ•°æ‹¡å¤§ãªã‚‰ã°, $L/K$ ã‚‚ä½“ã®ä»£æ•°æ‹¡å¤§ã§ã‚ã‚‹\n**Proof.**\n$\\alpha\\in L$ ã¨ãã® $M$ ä¸Šæœ€å°å¤šé …å¼ $f(x)=x^n+a_1x^{n-1}+\\ldots+a_n\\in M[x]$ ã‚’ãŠã. ã“ã®ã¨ã $M' = K(a_1,\\ldots,a_n)$ ã¨ãŠãã¨ $M'/K$ ã¯æœ‰é™æ¬¡æ‹¡å¤§ã§ã‚ã‚Š $M'(\\alpha)/M'$ ã‚‚æœ‰é™æ¬¡æ‹¡å¤§ã§ã‚ã‚‹. ã‚ˆã£ã¦ $M'(\\alpha)/K$ ã¯ä»£æ•°æ‹¡å¤§ã§ã‚ã‚Š, $\\alpha$ ã¯ $K$ ä¸Šä»£æ•°çš„ã§ã‚ã‚‹.\n\n## ä»£æ•°é–‰åŒ…\nä»£æ•°æ‹¡å¤§ ä»»æ„ã® $\\alpha\\in K$ ã«å¯¾ã— $f(\\alpha)=0$ ã¨ãªã‚‹ $f(x)\\in K[x]$ ãŒå­˜åœ¨ã™ã‚‹.\nä»£æ•°é–‰ä½“ ä»»æ„ã® $f(x)\\in K[x]$ ã«å¯¾ã—, $f(\\alpha)=0$ ã¨ãªã‚‹ $\\alpha\\in K$ ãŒå­˜åœ¨ã™ã‚‹.\nä»£æ•°é–‰åŒ… ä»£æ•°æ‹¡å¤§ã‹ã¤ä»£æ•°é–‰ä½“\n\n### Prop. ä»£æ•°é–‰åŒ…ã®å­˜åœ¨\n**Proof.**\nã¾ãš $K$ ã‚’å«ã‚€ä»£æ•°é–‰ä½“ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¤ºã™.\n$K[x]$ ã®æ—¢ç´„å¤šé …å¼ã®é›†åˆ $P$ ã‚’ãŠã, $f(x)\\in P$ ã«å¯¾ã—, (ã“ã‚Œã‹ã‚‰æ§‹æˆã™ã‚‹æ‹¡å¤§ä½“ã§ã®å¤šé …å¼ã®æ ¹ã¨ã—ã¦)1ã¤ã®å¤‰æ•° $X_f$ ã‚’è€ƒãˆãŸç„¡é™å¤‰æ•°ã®å¤šé …å¼ç’° $A = K[X_f]_{f\\in P}$ ã‚’è€ƒãˆã‚‹.\n$f(X_f)_{f\\in P}$ ã§ç”Ÿæˆã•ã‚ŒãŸ $A$ ä¸Šã‚¤ãƒ‡ã‚¢ãƒ« $\\mathfrak{a}$ ã«ã¤ã„ã¦ $\\mathfrak{a}\\neq A$ ã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã™. $a=A$ ã¨ä»®å®šã™ã‚‹ã¨, æœ‰é™å’Œ $\\sum_{i=1}^na_if_i(X_{f_i})\\in \\mathfrak{a}$ ãŒå­˜åœ¨ã—, $\\sum_{i=1}^na_if_i(X_{f_i})=1$ ã‚’æº€ãŸã™. $K$ ã«ã¤ã„ã¦å„ $f_i(x)$ ã®æ ¹ã®1ã¤ $\\alpha_i$ ã«ã‚ˆã‚Šç”Ÿæˆã•ã‚ŒãŸä½“ã® $X_f$ ã«ã‚ˆã‚‹å¤šé …å¼ç’° $K(\\alpha_1,\\ldots,\\alpha_n)[X_f]_{f\\in P}$ ã«ãŠã„ã¦ $X_{f_i}$ ã« $\\alpha_i$ ã‚’ä»£å…¥ã™ã‚‹ã“ã¨ã§ $\\sum_{i=1}^na_if_i(X_{f_i})=0$ ãŒæˆç«‹ã™ã‚‹. ã¾ãŸ $K[X_f]_{f\\in P} \\subset K(\\alpha_1,\\ldots,\\alpha_n)[X_f]_{f\\in P}$ ã¨ãªã‚‹ç‚º, $\\sum_{i=1}^na_if_i(X_{f_i})=1$ ã¯æ’ç­‰çš„ã«æˆã‚Šç«‹ã¤. ã‚ˆã£ã¦ $0 = 1$ ã¨ãªã‚ŠçŸ›ç›¾ã™ã‚‹.\nã“ã‚Œã‚ˆã‚Š $\\mathfrak{a}$ ã‚’å«ã‚€æ¥µå¤§ã‚¤ãƒ‡ã‚¢ãƒ« $\\mathfrak{m}$ ãŒå­˜åœ¨ã—, $K_1 = A/\\mathfrak{m}$ ã¯ä½“ã¨ãªã‚‹. $P$ ã®æ—¢ç´„å¤šé …å¼ $f(x)$ ã« $\\alpha = X_f+\\mathfrak{m}$ ã‚’ä»£å…¥ã™ã‚‹ã“ã¨ã§ $f(X_f) \\in \\mathfrak{a} \\subset \\mathfrak{m}$ ã‚ˆã‚Š $f(\\alpha) = f(X_f) + \\mathfrak{m} = 0 + \\mathfrak{m}$ ã§ã‚ã‚‹ã‹ã‚‰, ä»»æ„ã® $K[x]$ ä¸Šæ—¢ç´„å¤šé …å¼ã¯ $K_1$ ã§æ ¹ã‚’æŒã¤. ã¾ãŸ $X_f\\in K_1$ ã¯ $K$ ä¸Šä»£æ•°çš„ã§ã‚ã‚‹ã‹ã‚‰ $K_1/K$ ã¯ä»£æ•°æ‹¡å¤§ã§ã‚ã‚‹.\n\n$K_0=K$ ã¨ãŠã„ã¦ $K_0$ ã‹ã‚‰ $K_1$ ã‚’æ§‹æˆã—ãŸã‚ˆã†ã« $K_i$ ã‹ã‚‰ $K_{i+1}$ ã‚’æ§‹æˆã§ã, é›†åˆåˆ— $K_0\\subset K_1\\subset K_2\\subset\\ldots$ ã‚’ä½œã‚‹. $\\overline{K}=\\bigcup_{i=0}^{\\infty}K_i$ ã¨ãŠãã¨ $\\overline{K}$ ã¯ä»£æ•°æ‹¡å¤§ã§ã‚ã‚‹. $\\overline{K}$ ãŒä»£æ•°é–‰ä½“ã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã™.\n$f(x)\\in\\overline{K}[x]\\backslash\\overline{K}$ ã«ã¤ã„ã¦, ã‚ã‚‹ $i$ ãŒå­˜åœ¨ã—, $f(x)\\in K_i[x]$ ã¨ãªã‚‹. ã™ã‚‹ã¨ $K_{i+1}$ ã«ãŠã„ã¦ $f(x)$ ã®æ ¹ $\\alpha$ ãŒå­˜åœ¨ã™ã‚‹. ã‚ˆã£ã¦ $\\overline{K}$ ãŒä»£æ•°é–‰ä½“ã¨ãªã‚‹ã‹ã‚‰, $\\overline{K}$ ã¯ä»£æ•°é–‰åŒ…ã§ã‚ã‚‹.\n\n### Prop. $L_1\\subset M_1\\subset K_1$, $L_2\\subset M_2\\subset K_2$ ãŒ $K$ ã®ä»£æ•°æ‹¡å¤§ã§, $L_1$, $L_2$ ã¯ä»£æ•°é–‰ä½“, $\\phi\\colon M_1\\to M_2$ ã¯ $K$ ä¸ŠåŒå‹ã¨ã™ã‚‹. ã“ã®ã¨ã, $K$ ä¸ŠåŒå‹ $\\psi\\colon L_1\\to L_2$ ã§ $\\phi$ ã‚’æ‹¡å¼µã™ã‚‹ã‚‚ã®ãŒå­˜åœ¨ã™ã‚‹.\n\n$X$ ã‚’ $L_1/M_1$ ã®ä¸­é–“ä½“ $F$ ã¨ $\\phi$ ã®æ‹¡å¼µã«ãªã£ã¦ã„ã‚‹ $K$ åŒå‹ $\\psi \\colon F\\to L_2$ ã®çµ„ $(F, \\psi)$ ã®é›†åˆã¨ã™ã‚‹.\n$X$ ã«ã¤ã„ã¦é †åºã‚’å®šã‚ã‚‹. $(F_1, \\psi_1), (F_2, \\psi_2)\\in X$ ã«å¯¾ã—, $F_1\\subset F_2$ ã‹ã¤ $\\psi_2$ ãŒ $\\psi_1$ ã®æ‹¡å¼µã¨ãªã£ã¦ã„ã‚‹ã¨ã, $(F_1, \\psi_1) \\leq (F_2, \\psi_2)$ ã¨ã™ã‚‹ã¨é †åºã¨ãªã‚‹.\n$X$ ã®ä»»æ„ã®å…¨é †åºéƒ¨åˆ†é›†åˆ $Y$ ã«å¯¾ã—, $F_0 = \\bigcup_{(F,\\psi)\\in Y} F$ ã¨ãŠã. $x\\in F_0$ ãªã‚‰ $x\\in F$ ã¨ãªã‚‹çµ„ $(F,\\psi)$ ãŒå­˜åœ¨ã— $\\psi_0(x) = \\psi(x)$ ã¨ãŠã. ã“ã®ã¨ã, $(F_0, \\psi_0)$ ã¯ $Y$ ã¯ä¸Šç•Œã¨ãªã‚‹. ã‚ˆã£ã¦, ãƒ„ã‚©ãƒ«ãƒ³ã®è£œé¡Œã‚ˆã‚Š $X$ ã«æ¥µå¤§å…ƒ $(F_{max}, \\psi_{max})$ ãŒå­˜åœ¨ã™ã‚‹.\nã‚‚ã— $L_1 \\neq F_{max}$ ãªã‚‰, $\\alpha\\in L_1\\backslash F_{max}$ ã‚’ã¨ã£ã¦ $\\psi_{max}$ ã®æ‹¡å¼µã§ã‚ã‚‹ $\\psi'_{max}$ æ¥µå¤§å…ƒã‚ˆã‚Šå¤§ãã„å…ƒ $(F_{max}(\\alpha), \\psi'_{max})$\n$F_{max}(\\alpha)\\cong F_{max}[x]/(f(x))\\cong\\phi_{max}(F_{max})[x]/(\\psi(f(x)))\\cong \\phi_{max}(F_{max})(\\beta)$\n\n\n\n[ç–‘å•] $\\mathbb{F}_2[x]$ ä¸Šã§ $f(x)=(x-\\alpha)^2, f'(x)=0$ ã¯é‡æ ¹ã§ã‚ã‚‹ã®ã‹?\né›ªæ±Ÿä»£æ•°2ã®ç³»3.3.4ã«ã¤ã„ã¦äº’ã„ã«ç´ ã¾ãŸã¯ $f'(x)=0$ ã¨ã—ã¦å ´åˆåˆ†ã‘ã™ã‚Œã°åŒæ§˜ã«è¨¼æ˜ã§ãã‚‹. å¤šåˆ†gcdãŒå®šç¾©ã§ããªã„ã¨ãã‚‚äº’ã„ã«ç´ ã¨è¨€ã£ã¦ã„ãã†.\n","lastmodified":"2022-12-30T07:57:21.487263721Z","tags":null},"/science/math/%E5%9C%8F%E8%AB%96":{"title":"åœè«–","content":"\n\næ·¡ä¸­åœ ã‚¬ãƒ­ã‚¢ç†è«–\nãƒ†ã‚¤ãƒˆãƒ»ã‚·ãƒ£ãƒ•ã‚¡ãƒ¬ãƒ´ã‚£ãƒƒãƒç¾¤\n\n```tikz\n\\usepackage{tikz-cd}\n\n\\begin{document}\n\\begin{tikzcd}\n\nÂ  Â  T\nÂ  Â  \\arrow[drr, bend left, \"x\"]\nÂ  Â  \\arrow[ddr, bend right, \"y\"]\nÂ  Â  \\arrow[dr, dotted, \"{(x,y)}\" description] \u0026 \u0026 \\\\\nÂ  Â  K \u0026 X \\times_Z Y \\arrow[r, \"p\"] \\arrow[d, \"q\"]\nÂ  Â  \u0026 X \\arrow[d, \"f\"] \\\\\nÂ  Â  \u0026 Y \\arrow[r, \"g\"]\nÂ  Â  \u0026 Z\n\n\\end{tikzcd}\n\n\\quad \\quad\n\n\\begin{tikzcd}[row sep=2.5em]\n\nA' \\arrow[rr,\"f'\"] \\arrow[dr,swap,\"a\"] \\arrow[dd,swap,\"g'\"] \u0026\u0026\nÂ  B' \\arrow[dd,swap,\"h'\" near start] \\arrow[dr,\"b\"] \\\\\n\u0026 A \\arrow[rr,crossing over,\"f\" near start] \u0026\u0026\nÂ  B \\arrow[dd,\"h\"] \\\\\nC' \\arrow[rr,\"k'\" near end] \\arrow[dr,swap,\"c\"] \u0026\u0026 D' \\arrow[dr,swap,\"d\"] \\\\\n\u0026 C \\arrow[rr,\"k\"] \\arrow[uu,\u003c-,crossing over,\"g\" near end]\u0026\u0026 D\n\n\\end{tikzcd}\n\n\\end{document}\n```\n\n[æ•°å­¦ | å£±å¤§æ•´åŸŸ (alg-d.com)](http://alg-d.com/math/)","lastmodified":"2022-12-30T07:57:21.487263721Z","tags":null},"/science/math/Math":{"title":"æ•°å­¦","content":"\n# æ•°å­¦\nå„å˜å…ƒã‚’ä¸‹ã®éšå±¤ã§è¨¼æ˜ã™ã‚‹. ã“ã“ã§ã¯é‡è¦ãªå®šç¾©ã¨æœ¬è³ªã‚’ã¾ã¨ã‚ã‚‹.\n\n## æ•°å­¦åŸºç¤è«–\n\n[æ•°å­¦åŸºç¤è«–ãƒãƒ¼ãƒˆ](https://drive.google.com/file/d/1NlaVJEUUf_jEIPLkx6i4JgU9X47J4nat/view?usp=sharing)\n\n## é›†åˆè«–\n- å…¨é †åºé›†åˆ\n- åŒå€¤é¡\n- æ¿ƒåº¦\n\n## ç¾¤è«–\n- ç¾¤ãƒ»æ­£è¦éƒ¨åˆ†ç¾¤\n**ç¾¤**: å˜ä½å…ƒ, é€†å…ƒã®ã‚ã‚‹çµåˆçš„ãªæ¼”ç®—ã‚’æŒã¤é›†åˆ\n**ãƒ©ã‚°ãƒ©ãƒ³ã‚¸ãƒ¥ã®å®šç†** $|G_1|=|G_2|(G_1:G_2)$\næº–åŒå‹\n**æº–åŒå‹å®šç†** $G/\\Ker(\\phi)\\cong\\Image(\\phi)$\n- ç¾¤ã®ä½œç”¨\n**Sylow ã®å®šç†** p-Sylow éƒ¨åˆ†ç¾¤ã®æ•° $s=|G|/|N_G(H)|=1\\pmod{p}$\n**æœ‰é™ã‚¢ãƒ¼ãƒ™ãƒ«ç¾¤ã®æ§‹é€ å®šç†** $G\\cong\\ZZ/a_1\\ZZ\\times\\ldots\\times\\ZZ/a_n\\ZZ$\n\n## ç’°ãƒ»åŠ ç¾¤\n- ç’°ãƒ»ã‚¤ãƒ‡ã‚¢ãƒ«\n**ç’°æº–åŒå‹å®šç†** $A/\\Ker(\\phi)\\cong\\Image(\\phi)$\n- å¤šé …å¼ç’°\n- ç´ ã‚¤ãƒ‡ã‚¢ãƒ«ãƒ»æ¥µå¤§ã‚¤ãƒ‡ã‚¢ãƒ«\n**ä¸­å›½å‰°ä½™å®šç†**\n- å±€æ‰€åŒ–\n- ä¸€æ„åˆ†è§£ç’°, å˜é …ã‚¤ãƒ‡ã‚¢ãƒ«æ•´åŸŸ, ãƒ¦ãƒ¼ã‚¯ãƒªãƒƒãƒ‰ç’°\nç’°$\\impliedby$å¯æ›ç’°$\\impliedby$æ•´åŸŸ$\\impliedby$æ­£è¦ç’°$\\impliedby$UFD(ä¸€æ„åˆ†è§£ç’°)$\\impliedby$PID(å˜é …ã‚¤ãƒ‡ã‚¢ãƒ«æ•´åŸŸ)$\\impliedby$ãƒ¦ãƒ¼ã‚¯ãƒªãƒƒãƒ‰ç’°$\\impliedby$ä½“\n- åŠ ç¾¤\n\n## ä½“è«–\n- ä»£æ•°æ‹¡å¤§ãƒ»è¶…è¶Šæ‹¡å¤§\næœ‰é™æ¬¡æ‹¡å¤§$\\iff$æœ‰é™ç”Ÿæˆã®ä»£æ•°æ‹¡å¤§\n- ä»£æ•°é–‰åŒ…\n**Steinitz ã®å®šç†**\n- åˆ†é›¢æ‹¡å¤§ãƒ»æ­£è¦æ‹¡å¤§\næ—¢ç´„ãªéåˆ†é›¢å¤šé …å¼ $f(x)\\in K[x]$ $\\iff$$\\ch K=p\u003e0$ ã§ã‚ã‚Š, æ—¢ç´„ãªåˆ†é›¢å¤šé …å¼ $g(x)\\in K[x]$ ã¨ $n\u003e0$ ãŒã‚ã‚Š, $f(x)=g(x^{p^n})$ ã¨ãªã‚‹.\n- Galois ç†è«–\n**Galois ã®åŸºæœ¬å®šç†**\n\n## ä»£æ•°çš„æ•´æ•°è«–\n\n## ä»£æ•°å¹¾ä½•å­¦\n\n## åœè«–\n- åœè«–ã®åŸºæœ¬\n**ç±³ç”°ã®è£œé¡Œ**\n```tikz\n\\usepackage{tikz-cd}\n\n\\begin{document}\n\\begin{tikzcd}\nÂ  Â  F(y) \\arrow[r, \"\\phi(y)\"] \\arrow[d, \"F(f)\"] \u0026 G(y)=Hom_{Sets^{C^{op}}}(h_y,F) \\arrow[d, \"G(f)\"] \\\\\nÂ  Â  F(x) \\arrow[r, \"\\phi(x)\"] \u0026 G(x)=Hom_{Sets^{C^{op}}}(h_x,F)\n\\end{tikzcd}\n\\end{document}\n```\n\n## æ¥•å††æ›²ç·š\n- pairing\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/science/math/PropositionalLogic":{"title":"å‘½é¡Œè«–ç†","content":"\n## æ¨è«–è¦å‰‡\n\n```=\nMP: Modus Ponens\nP -\u003e Q\nP\n------\nQ\n\nMT: Modus Tollens\nP -\u003e Q\n~Q\n------\n~P\n\nDN: Double Negation\nP\n------\n~~P\n\n~~P\n------\nP\n\nR: Repetition\nP\n------\nP\n\nAdj: Adjunction\nP\nQ\n------\nP âˆ§ Q\n\nS: Simplification\nP âˆ§ Q\n------\nP\n\nP âˆ§ Q\n------\nQ\n\nAdd: Addition\nP\n------\nP âˆ¨ Q\n\nQ\n------\nP âˆ¨ Q\n\nMTP: Modus Tollendo Ponens\nP âˆ¨ Q\n~P\n------\nQ\n\nP âˆ¨ Q\n~Q\n------\nP\n\nCB: Conditional-Biconditional\nP -\u003e Q\nQ -\u003e P\n-------\nP \u003c-\u003e Q\n\nBC: Binconditional-Conditional\nP \u003c-\u003e Q\n-------\nP -\u003e Q\n\nP \u003c-\u003e Q\n-------\nQ -\u003e P\n```\n\n## è¨¼æ˜\n\n`P -\u003e Q, ~P -\u003e Q âˆ´ Q`\n```=\nShow Q\n     ~Q        AssID\n     P -\u003e Q    Pr\n     ~P -\u003e Q   Pr\n     ~P        2,3MT\n     ~~P       2,4MT\n5,6ID\n```\n\n`P -\u003e (R -\u003e ~Q), Q âˆ´ P -\u003e ~R`\n```=\nShow P -\u003e ~R\n     P              AssCD\n     P -\u003e (R -\u003e ~Q) Pr\n     Q              Pr\n     R -\u003e ~Q        2,3MP\n     ~~Q            4DN\n     ~R             5,6MT\n7CD\n```\n\n`~P âˆ§ ~Q âˆ´ ~(P âˆ¨ Q)`\n```=\nShow ~(P âˆ¨ Q)\n     ~~(P âˆ¨ Q) AssID\n     P âˆ¨ Q     2DN\n     ~P âˆ§ ~Q   Pr\n     ~P        4S\n     Q         3,5MTP\n     ~Q        4S\n6,7ID\n```\n\n`P âˆ¨ Q -\u003e R âˆ´ P -\u003e R âˆ¨ Q`\n```=\nShow P -\u003e R âˆ¨ Q\n     P          AssCD\n     P âˆ¨ Q -\u003e R Pr\n     P âˆ¨ Q      2Add\n     R          3,4MP\n     R âˆ¨ Q      5Add\n6CD\n```\n\n`P -\u003e Q, ~Q âˆ´ ~P`\n```=\nShow ~P\n     ~~P    AssID\n     P      2DN\n     P -\u003e Q Pr\n     ~Q     Pr\n     Q      3,4MP\n5,6ID\n```\n\n`P, ~P âˆ´ Q`\n```=\nShow Q\n     P     Pr\n     P âˆ¨ Q 2Add\n     ~P    Pr\n     Q     3,4MTP\n5DD\n```\n\n`(P -\u003e ~Q) -\u003e ~T, ~Q âˆ´ ~T`\n```=\nShow ~T\n     ~~T             AssID\n     (P -\u003e ~Q) -\u003e ~T Pr\n     ~Q              Pr\n     ~(P -\u003e ~Q)      2,3MTP\n     Show P -\u003e ~Q\n          P          AssCD\n          ~Q         4R\n     8CD\n5,6ID\n```\n\n`W, (P -\u003e W) -\u003e (R -\u003e T) âˆ´ ~T -\u003e (Q -\u003e ~R)`\n```=\nShow ~T -\u003e (Q -\u003e ~R)\n     ~T                   AssCD\n     W                    Pr\n     (P -\u003e W) -\u003e (R -\u003e T) Pr\n     Show P -\u003e W\n          P               AssCD\n          W               3R\n     7CD\n     R -\u003e T               4,5MP\n     ~R                   2,9MTP\n     Show Q -\u003e ~R\n          Q               AssCD\n          ~R              10R\n     13CD\n11CD\n```\n\n\nã“ã“ã‹ã‚‰è‡ªæ˜ãªDNã¯çœç•¥ã™ã‚‹.\n\n`~(P -\u003e Q) -\u003e ~(R -\u003e S), S -\u003e ~Q âˆ´ P -\u003e ~S`\n```=\nShow P -\u003e ~S\n     P                      AssCD\n     ~(P -\u003e Q) -\u003e ~(R -\u003e S) Pr\n     S -\u003e ~Q                Pr\n     Show ~S\n          S                 AssID\n          ~Q                4,6MP\n          Show ~(P -\u003e Q)\n               P -\u003e Q       AssID\n               Q            2,9MP\n               ~Q           7R\n          10,11ID\n          ~(R -\u003e S)         3,8MP\n          Show R -\u003e S\n               R            AssCD\n               S            6R\n          16CD\n     13,14ID\n5CD\n```\n\n`(P -\u003e Q) -\u003e R, ~R âˆ´ ~Q`\n```=\nShow ~Q\n     Q             AssID\n     (P -\u003e Q) -\u003e R Pr\n     ~R            Pr\n     Show P -\u003e Q\n          P        AssCD\n          Q        2R\n     7CD\n     R             3,5MP\n4,9ID\n```\n\n`(R -\u003e S) -\u003e P, ~S -\u003e Q âˆ´ ~P -\u003e Q`\n```=\nShow ~P -\u003e Q\n     ~P            AssCD\n     (R -\u003e S) -\u003e P Pr\n     ~S -\u003e Q       Pr\n     Show Q\n          ~Q       AssID\n          S        4,6MT\n          Show R -\u003e S\n               R   AssCD\n               S   7R\n          10CD\n          P        3,8MP\n          ~P       2R\n     12,13ID\n5CD\n```\n\n`(Q -\u003e ~~S) -\u003e (~R -\u003e ~S) âˆ´ S -\u003e R`\n```=\nShow S -\u003e R\n     S                        AssCD\n     (Q -\u003e ~~S) -\u003e (~R -\u003e ~S) Pr\n     ~~S                      2DN\n     Show Q -\u003e ~~S\n          Q                   AssCD\n          ~~S                 4R\n     7CD\n     ~R -\u003e ~S                 3,5MP\n     R                        4,9MT\n10CD\n```\n\n`(P -\u003e Q) -\u003e (T -\u003e R), U -\u003e ~R, ~(S -\u003e P) âˆ´ U -\u003e ~T`\n```=\nShow U -\u003e ~T\n     U                      AssCD\n     (P -\u003e Q) -\u003e (T -\u003e R)   Pr\n     U -\u003e ~R                Pr\n     ~(S -\u003e P)              Pr\n     ~R                     2,4MP\n     Show ~T\n          T                 AssID\n          Show ~(T -\u003e R)\n               T -\u003e R       AssID\n               R            8,10MP\n               ~R           6R\n          11,12ID\n          ~(P -\u003e Q)         3,9MT\n          Show P -\u003e Q\n               P            AssCD\n               Show S -\u003e P\n                    S       AssCD\n                    P       16R\n               19CD\n               (S -\u003e P) âˆ¨ Q 17Add\n               Q            5,21MTP\n          22CD\n     14,15ID\n7CD\n```\n\n`(~Q -\u003e S) -\u003e P, ~R -\u003e Q, R -\u003e S âˆ´ P`\n```=\nShow P\n     ~P             AssID\n     (~Q -\u003e S) -\u003e P Pr\n     ~R -\u003e Q        Pr\n     R -\u003e S         Pr\n     ~(~Q -\u003e S)     2,3MT\n     Show ~Q -\u003e S\n          ~Q        AssCD\n          R         4,8MT\n          S         5,9MP\n     10CD\n6,7ID\n```\n\n`P -\u003e (Q -\u003e R), P -\u003e (~Q -\u003e R), ~P -\u003e (Q -\u003e R), ~P -\u003e (~Q -\u003e R) âˆ´ R`\n```=\nShow R\n     ~R              AssID\n     P -\u003e (Q -\u003e R)   Pr\n     P -\u003e (~Q -\u003e R)  Pr\n     ~P -\u003e (Q -\u003e R)  Pr\n     ~P -\u003e (~Q -\u003e R) Pr\n     Show P\n          ~P         AssID\n          Q -\u003e R     5,8MP\n          ~Q -\u003e R    6,8MP\n          ~Q         2,9MT\n          ~~Q        2,10MT\n     11,12ID\n     Q -\u003e R          3,7MP\n     ~Q -\u003e R         4,7MP\n     ~Q              2,14MT\n     ~~Q             2,15MT\n16,17ID\n```\n\n`(P -\u003e Q) -\u003e ~(Q -\u003e P) âˆ´ P -\u003e ~Q`\n```=\nShow P -\u003e ~Q\n     P                     AssCD\n     (P -\u003e Q) -\u003e ~(Q -\u003e P) Pr\n     Show ~Q\n          Q                AssID\n          Show P -\u003e Q\n               P           AssCD\n               Q           5R\n          8CD\n          ~(Q -\u003e P)        3,6MP\n          Show Q -\u003e P\n               Q           AssCD\n               P           2R\n          13CD\n     10,11ID\n4CD\n```\n\n`(P -\u003e Q) -\u003e (R -\u003e S), (Q -\u003e P) -\u003e (R -\u003e S) âˆ´ ~S -\u003e ~R`\n```=\nShow ~S -\u003e ~R\n     ~S                          AssCD\n     (P -\u003e Q) -\u003e (R -\u003e S)        Pr\n     (Q -\u003e P) -\u003e (R -\u003e S)        Pr\n     Show ~R\n          R                      AssID\n          Show P -\u003e Q\n               P                 AssCD\n               Show Q\n                    ~Q           AssID\n                    Show Q -\u003e P\n                         Q       AssCD\n                         P       8R\n                    13CD\n                    R -\u003e S       4,11MP\n                    ~R           2,15MT\n                    R            6R\n               16,17ID\n          9CD\n          R -\u003e S                 3,7MP\n          ~R                     2,20MT\n     6,21ID\n5CD\n```\n\nå¯¾å¶å¾‹\n`âˆ´ (P -\u003e Q) \u003c-\u003e (~Q -\u003e ~P)`\n```=\nShow (P -\u003e Q) \u003c-\u003e (~Q -\u003e ~P)\n     Show (P -\u003e Q) -\u003e (~Q -\u003e ~P)\n          P -\u003e Q             AssCD\n          Show ~Q -\u003e ~P\n               ~Q            AssCD\n               ~P            3,5MT\n          6CD\n     4CD\n     Show (~Q -\u003e ~P) -\u003e (P -\u003e Q)\n          ~Q -\u003e ~P           AssCD\n          Show P -\u003e Q\n               P             AssCD\n               ~~P           12DN\n               ~~Q           10,13MT\n               Q             14DN\n          15CD\n     11CD\n     (P -\u003e Q) \u003c-\u003e (~Q -\u003e ~P) 2,9CB\n18DD\n```\n\næ’ä¸­å¾‹\n`âˆ´ P âˆ¨ ~P`\n```=\nShow P âˆ¨ ~P\n     ~(P âˆ¨ ~P)      AssID\n     Show P\n          ~P        AssID\n          P âˆ¨ ~P    4Add\n          ~(P âˆ¨ ~P) 2R\n     5,6ID\n     P âˆ¨ ~P         3Add\n2,8ID\n```\n\nCDJ\n`âˆ´ P âˆ¨ Q \u003c-\u003e (~P -\u003e Q)`\n```=\nShow P âˆ¨ Q \u003c-\u003e (~P -\u003e Q)\n     Show P âˆ¨ Q -\u003e (~P -\u003e Q)\n          P âˆ¨ Q         AssCD\n          Show ~P -\u003e Q\n               ~P       AssCD\n               Q        3,5MTP\n          6CD\n     4CD\n     Show (~P -\u003e Q) -\u003e P âˆ¨ Q\n          ~P -\u003e Q       AssCD\n          Show P âˆ¨ Q\n               ~(P âˆ¨ Q) AssID\n               ~P âˆ§ ~Q  12DM\n               ~P       13S\n               Q        10,14MP\n               ~Q       13S\n          15,16ID\n     11CD\n     P âˆ¨ Q \u003c-\u003e (~P -\u003e Q) 2,9CB\n19DD\n```\n\nãƒ‰ãƒ»ãƒ¢ãƒ«ã‚¬ãƒ³å‰‡\n`âˆ´ ~(P âˆ§ Q) \u003c-\u003e ~P âˆ¨ ~Q`\n```=\nShow ~(P âˆ§ Q) \u003c-\u003e ~P âˆ¨ ~Q\n     Show ~(P âˆ§ Q) -\u003e ~P âˆ¨ ~Q\n          ~(P âˆ§ Q)                AssCD\n          Show ~P âˆ¨ ~Q\n               ~(~P âˆ¨ ~Q)         AssID\n               Show ~P\n                    ~~P           AssID\n                    P             7DN\n                    Show ~Q\n                         ~~Q      AssID\n                         Q        10DN\n                         P âˆ§ Q    8,11Adj\n                         ~(P âˆ§ Q) 3R\n                    12,13ID\n                    ~P âˆ¨ ~Q       9Add    \n                    ~(~P âˆ¨ ~Q)    5R\n               ~P âˆ¨ ~Q            6Add\n          4CD\n     Show ~P âˆ¨ ~Q -\u003e ~(P âˆ§ Q)\n          ~P âˆ¨ ~Q                 AssCD\n          Show ~(P âˆ§ Q)\n               ~~(P âˆ§ Q)          AssID\n               P âˆ§ Q              22DN\n               P                  23S\n               ~~P                24DN\n               ~Q                 20,25MTP\n               Q                  23S\n          26,27ID\n     21CD\n     ~(P âˆ§ Q) \u003c-\u003e ~P âˆ¨ ~Q         2,19CB\n30DD\n```\n\nãƒ‰ãƒ»ãƒ¢ãƒ«ã‚¬ãƒ³å‰‡\n`âˆ´ ~(P âˆ¨ Q) \u003c-\u003e ~P âˆ§ ~Q`\n```=\nShow ~(P âˆ¨ Q) \u003c-\u003e ~P âˆ§ ~Q\n     Show ~(P âˆ¨ Q) -\u003e ~P âˆ§ ~Q\n          ~(P âˆ¨ Q)        AssCD\n          Show ~P\n               P          AssID\n               P âˆ¨ Q      5Add\n               ~(P âˆ¨ Q)   3R\n          6,7ID\n          Show ~Q\n               Q          AssID\n               P âˆ¨ Q      10Add\n               ~(P âˆ¨ Q)   3R\n          11,12ID\n          ~P âˆ§ ~Q         4,9Adj\n     14CD\n     Show ~P âˆ§ ~Q -\u003e ~(P âˆ¨ Q)\n          ~P âˆ§ ~Q         AssCD\n          Show ~(P âˆ¨ Q)\n               ~~(P âˆ¨ Q)  AssID\n               P âˆ¨ Q      19DN\n               ~P         17S\n               Q          20,21MTP\n               ~Q         17S\n          22,23ID\n     18CD\n     ~(P âˆ¨ Q) \u003c-\u003e ~P âˆ§ ~Q 2,16CB\n26DD\n```\n\nå®šç†\n`âˆ´ Q -\u003e (P -\u003e Q)`\n```=\nShow Q -\u003e (P -\u003e Q)\n     Q      AssCD\n     Show P -\u003e Q\n          P AssCD\n          Q 2R\n     5CD\n3CD\n```\n\n```\nDM: De Morgan\n~(P âˆ¨ Q)\n--------\n~P âˆ§ ~Q\n\n~(P âˆ§ Q)\n--------\n~P âˆ¨ ~Q\n\nCDJ\n~P -\u003e Q\n--------\nP âˆ¨ Q\n```\n\n`âˆ´ P âˆ¨ (Q âˆ§ R) -\u003e (P âˆ¨ Q) âˆ§ (P âˆ¨ R)`\n```=\nShow P âˆ¨ (Q âˆ§ R) -\u003e (P âˆ¨ Q) âˆ§ (P âˆ¨ R)\n     P âˆ¨ (Q âˆ§ R)        AssCD\n     Show P âˆ¨ Q\n          ~(P âˆ¨ Q)      AssID\n          ~P âˆ§ ~Q       4DM\n          ~P            5S\n          Q âˆ§ R         2,6MTP\n          Q             7S\n          ~Q            5S\n     8,9ID\n     Show P âˆ¨ R\n          ~(P âˆ¨ R)      AssID\n          ~P âˆ§ ~R       12DM\n          ~P            13S\n          Q âˆ§ R         2,14MTP\n          R             15S\n          ~R            13S\n     16,17ID\n     (P âˆ¨ Q) âˆ§ (P âˆ¨ R)  3,11Adj\n19CD\n```\n\n`âˆ´ (P âˆ¨ Q) âˆ§ (P âˆ¨ R) -\u003e P âˆ¨ (Q âˆ§ R)`\n```=\nShow (P âˆ¨ Q) âˆ§ (P âˆ¨ R) -\u003e P âˆ¨ (Q âˆ§ R)\n     (P âˆ¨ Q) âˆ§ (P âˆ¨ R)    AssCD\n     Show P âˆ¨ (Q âˆ§ R)\n          ~(P âˆ¨ (Q âˆ§ R))  AssID\n          ~P âˆ§ ~(Q âˆ§ R)   4DM\n          ~P              5S\n          P âˆ¨ Q           2S\n          P âˆ¨ R           2S\n          Q               6,7MTP\n          R               6,8MTP\n          Q âˆ§ R           9,10Adj\n          ~(Q âˆ§ R)        5S\n     11,12ID\n3CD\n```\n\n`âˆ´ P âˆ§ (Q âˆ¨ R) -\u003e (P âˆ§ Q) âˆ¨ (P âˆ§ R)`\n```=\nShow P âˆ§ (Q âˆ¨ R) -\u003e (P âˆ§ Q) âˆ¨ (P âˆ§ R)\n     P âˆ§ (Q âˆ¨ R)               AssCD\n     Show (P âˆ§ Q) âˆ¨ (P âˆ§ R)\n          ~((P âˆ§ Q) âˆ¨ (P âˆ§ R)) AssID\n          ~(P âˆ§ Q) âˆ§ ~(P âˆ§ R)  4DM\n          ~(P âˆ§ Q)             5S\n          ~P âˆ¨ ~Q              6DM\n          P                    2S\n          ~Q                   7,8MTP\n          Q âˆ¨ R                2S\n          R                    9,10MTP\n          ~(P âˆ§ R)             5S\n          ~P âˆ¨ ~R              12DM\n          ~R                   8,13MTP\n     11,13ID\n3CD\n```\n\n`âˆ´ (P âˆ§ Q) âˆ¨ (P âˆ§ R) -\u003e P âˆ§ (Q âˆ¨ R)`\n```=\nShow (P âˆ§ Q) âˆ¨ (P âˆ§ R) -\u003e P âˆ§ (Q âˆ¨ R)\n     (P âˆ§ Q) âˆ¨ (P âˆ§ R) AssCD\n     Show P\n          ~P           AssID\n          ~P âˆ¨ ~R      4Add\n          ~(P âˆ§ R)     5DM\n          P âˆ§ Q        2,6MTP\n          P            7S\n     4,8ID\n     Show Q âˆ¨ R\n          ~(Q âˆ¨ R)     AssID\n          ~Q âˆ§ ~R      11DM\n          ~R           12S\n          ~P âˆ¨ ~R      13Add\n          ~(P âˆ§ R)     14DM\n          P âˆ§ Q        2,15MTP\n          Q            16S\n          ~Q           12S\n     17,18ID\n     P âˆ§ (Q âˆ¨ R)       3,10Adj\n20CD\n```\n\n`âˆ´ P âˆ§ (Q âˆ¨ R) -\u003e (P âˆ§ Q) âˆ¨ (P âˆ§ R)`\n```=\nShow P âˆ§ (Q âˆ¨ R) -\u003e (P âˆ§ Q) âˆ¨ (P âˆ§ R)\n     P âˆ§ (Q âˆ¨ R)               AssCD\n     Show (P âˆ§ Q) âˆ¨ (P âˆ§ R)\n          ~((P âˆ§ Q) âˆ¨ (P âˆ§ R)) AssID\n          ~(P âˆ§ Q) âˆ§ ~(P âˆ§ R)  4DM\n          ~(P âˆ§ Q)             5S\n          ~(P âˆ§ R)             5S\n          ~P âˆ¨ ~Q              6DM\n          ~P âˆ¨ ~R              7DM\n          P                    2S\n          ~Q                   8,10MTP\n          ~R                   9,10MTP\n          ~Q âˆ§ ~R              11,12Adj\n          ~(Q âˆ¨ R)             13DM\n          Q âˆ¨ R                2S\n     14,15ID\n3CD\n```\n\n`P âˆ§ Q -\u003e R âˆ¨ S âˆ´ (~P âˆ¨ R) âˆ¨ (Q -\u003e S)`\n```=\nShow (~P âˆ¨ R) âˆ¨ (Q -\u003e S)\n     ~((~P âˆ¨ R) âˆ¨ (Q -\u003e S)) AssID\n     ~(~P âˆ¨ R) âˆ§ ~(Q -\u003e S)  2DM\n     P âˆ§ Q -\u003e R âˆ¨ S         Pr\n     ~(~P âˆ¨ R)              3S\n     P âˆ§ ~R                 5DM\n     ~(Q -\u003e S)              3S\n     Show Q âˆ§ ~S\n          ~(Q âˆ§ ~S)         AssID\n          ~Q âˆ¨ S            9DM\n          Q -\u003e S            10CDJ\n          ~(Q -\u003e S)         7R\n     11,12ID\n     P                      6S\n     Q                      8S\n     P âˆ§ Q                  14,15Adj\n     R âˆ¨ S                  4,16MP\n     ~R                     6S\n     S                      17,18MTP\n     ~S                     8S\n19,20ID\n```\n\n`(P âˆ§ Q) âˆ¨ (P âˆ§ ~R), R âˆ¨ ~P âˆ´ Q`\n```=\nShow Q\n     ~Q                 AssID\n     (P âˆ§ Q) âˆ¨ (P âˆ§ ~R) Pr\n     R âˆ¨ ~P             Pr\n     ~P âˆ¨ ~Q            2Add\n     ~(P âˆ§ Q)           5DM\n     P âˆ§ ~R             3,6MTP\n     ~(P âˆ§ ~R)          4DM\n7,8ID\n```\n\n`P âˆ¨ Q, P -\u003e S, Q \u003c-\u003e T âˆ´ S âˆ¨ T`\n```=\nShow S âˆ¨ T\n     ~(S âˆ¨ T)  AssID\n     ~S âˆ§ ~T   2DM\n     P âˆ¨ Q     Pr\n     P -\u003e S    Pr\n     Q \u003c-\u003e T   Pr\n     Q -\u003e T    6BC\n     ~T        3S\n     ~Q        7,8MT\n     P         4,9MTP\n     S         5,10MP\n     ~S        3S\n11,12ID\n```\n\n`~(P âˆ§ R) -\u003e (S -\u003e R) âˆ´ R âˆ¨ ~S`\n```=\nShow R âˆ¨ ~S\n     ~(R âˆ¨ ~S)            AssID\n     ~R âˆ§ S               2DM\n     ~(P âˆ§ R) -\u003e (S -\u003e R) Pr\n     ~R                   3S\n     ~P âˆ¨ ~R              5Add\n     ~(P âˆ§ R)             6DM\n     S -\u003e R               7MP\n     S                    3S\n     R                    8,9MP\n5,10ID\n```\n\n`(Q âˆ§ ~T) âˆ¨ ~(T -\u003e Q) âˆ´ (P -\u003e Q) âˆ¨ (T âˆ¨ R)`\n```=\nShow (P -\u003e Q) âˆ¨ (T âˆ¨ R)\n     ~((P -\u003e Q) âˆ¨ (T âˆ¨ R)) AssID\n     ~(P -\u003e Q) âˆ§ ~(T âˆ¨ R)  2DM\n     (Q âˆ§ ~T) âˆ¨ ~(T -\u003e Q)  Pr\n     ~(T âˆ¨ R)              4S\n     ~T âˆ§ ~R               5DM\n     ~T                    6S\n     ~T âˆ¨ Q                7Add\n     T -\u003e Q                8CDJ\n     Q âˆ§ ~T                3,9MTP\n     Q                     10S\n     ~P âˆ¨ Q                11Add\n     P -\u003e Q                12CDJ\n     ~(P -\u003e Q)             4S\n13,14ID\n```\n\n`(P \u003c-\u003e Q âˆ§ S) âˆ¨ (P \u003c-\u003e R âˆ§ T) âˆ´ P -\u003e Q âˆ¨ R`\n```=\nShow P -\u003e Q âˆ¨ R\n     P                             AssCD\n     (P \u003c-\u003e Q âˆ§ S) âˆ¨ (P \u003c-\u003e R âˆ§ T) Pr\n     Show Q âˆ¨ R\n          ~(Q âˆ¨ R)                 AssID\n          ~Q âˆ§ ~R                  5DM\n          ~Q                       6S\n          ~R                       6S\n          ~Q âˆ¨ ~S                  7Add\n          ~R âˆ¨ ~T                  8Add\n          ~(Q âˆ§ S)                 9DM\n          ~(R âˆ§ T)                 10DM\n          P âˆ§ ~(Q âˆ§ S)             2,11Adj\n          P âˆ§ ~(R âˆ§ T)             2,12Adj\n          ~(~P âˆ¨ (Q âˆ§ S))          13DM\n          ~(~P âˆ¨ (R âˆ§ T))          14DM\n          Show ~(P \u003c-\u003e (Q âˆ§ S))\n               P \u003c-\u003e (Q âˆ§ S)       AssID\n               P -\u003e (Q âˆ§ S)        18BC\n               ~P âˆ¨ (Q âˆ§ S)        19CDJ\n               ~(~P âˆ¨ (Q âˆ§ S))     15R\n          20,21ID\n          Show ~(P \u003c-\u003e (R âˆ§ T))\n               P \u003c-\u003e (R âˆ§ T)       AssID\n               P -\u003e (R âˆ§ T)        24BC\n               ~P âˆ¨ (R âˆ§ T)        25CDJ\n               ~(~P âˆ¨ (R âˆ§ T))     16R\n          26,27ID\n          P \u003c-\u003e R âˆ§ T              3,17MTP\n     23,29ID\n4CD\n```\n\n`~(P \u003c-\u003e Q), ~(P \u003c-\u003e R) âˆ´ Q \u003c-\u003e R`\n```=\nShow Q \u003c-\u003e R\n     ~(P \u003c-\u003e Q)                          Pr\n     ~(P \u003c-\u003e R)                          Pr\n     Show Q -\u003e R\n          Q                              AssCD\n          Show R\n               ~R                        AssID\n               Show P -\u003e Q\n                    P                    AssCD\n                    Q                    5R\n               10CD\n               Show Q -\u003e P\n                    Q                    AssCD\n                    Show P\n                         ~P              AssID\n                         Show P \u003c-\u003e R\n                              Show P -\u003e R\n                                   P     AssCD\n                                   P âˆ¨ R 18Add\n                                   R     15,19MTP\n                              20CD\n                              Show R -\u003e P\n                                   R     AssCD\n                                   P âˆ¨ R 23Add\n                                   P     7,24MTP\n                              25CD\n                              P \u003c-\u003e R    17,22CB\n                         27DD\n                         ~(P \u003c-\u003e R)      3R\n                    16,29ID\n               14CD\n               P \u003c-\u003e Q                   8,12CB\n               ~(P \u003c-\u003e Q)                2R\n          32,33ID\n     6CD\n     Show R -\u003e Q\n          R                              AssCD\n          Show Q\n               ~Q                        AssID\n               Show P -\u003e R\n                    P                    AssCD\n                    R                    37R\n               42CD\n               Show R -\u003e P\n                    R                    AssCD\n                    Show P\n                         ~P              AssID\n                         Show P \u003c-\u003e Q\n                              Show P -\u003e Q\n                                   P     AssCD\n                                   P âˆ¨ Q 50Add\n                                   Q     47,51MTP\n                              52CD\n                              Show Q -\u003e P\n                                   Q     AssCD\n                                   P âˆ¨ Q 55Add\n                                   P     39,56MTP\n                              57CD\n                              P \u003c-\u003e Q    49,54CB\n                         59DD\n                         ~(P \u003c-\u003e Q)      2R\n                    48,61ID\n               46CD\n               P \u003c-\u003e R                   40,44CB\n               ~(P \u003c-\u003e R)                3R\n          64,65ID\n     38CD\n     Q \u003c-\u003e R                             4,36CB\n68DD\n```\n\n","lastmodified":"2022-12-30T07:57:21.483263743Z","tags":null},"/science/math/Semantics":{"title":"æ„å‘³è«–","content":"\n## å®šç¾©\n\nçµ±èªè«–çš„æ–¹æ³•ã ã¨æ¨è«–ãŒæ­£ã—ããªã„ã“ã¨ã‚’è¨¼æ˜ã§ããªã„.\næ„å‘³è«–çš„æ–¹æ³•ã§æ­£ã—ã„æ¨è«–ã¨ã¯ã€å‰æãŒçœŸã§ã‚ã‚‹ãªã‚‰ã°ã€çµè«–ã‚‚å¿…ãšçœŸã§ã‚ã‚‹æ¨è«–ã§ã‚ã‚‹.\næ¨è«–ãŒæ„å‘³è«–çš„æ–¹æ³•ã«ãŠã„ã¦æ­£ã—ã„ã“ã¨ã‚’ã€ãã®æ¨è«–ã¯æ„å‘³è«–çš„ã«å¦¥å½“ã§ã‚ã‚‹ã¨ã„ã†.\n\næ¨è«–ã®æ­£å¦ã‚’åˆ¤å®šã™ã‚‹äºŒã¤ã®æ–¹æ³•: çµ±èªè«–çš„æ–¹æ³•ã¨æ„å‘³è«–çš„æ–¹æ³•ã¯ä¸€è‡´ã™ã‚‹ã‹ã©ã†ã‹ã‚’è€ƒãˆã‚‹.\n- å¥å…¨æ€§: çµ±èªè«–çš„ã«æ­£ã—ã„ $\\implies$ æ„å‘³è«–çš„ã«æ­£ã—ã„\n- å®Œå…¨æ€§: æ„å‘³è«–çš„ã«æ­£ã—ã„ $\\implies$ çµ±èªè«–çš„ã«æ­£ã—ã„\n\n$\\phi_1,\\ldots,\\phi_n \\vdash \\psi$\n$\\iff$ å‰æ $\\phi_1,\\ldots,\\phi_n$ ã‹ã‚‰ã€çµè«– $\\psi$ ã‚’å°å‡ºã™ã‚‹æ¼”ç¹¹ãŒå­˜åœ¨ã™ã‚‹.\n\n$\\phi_1,\\ldots,\\phi_n \\vDash \\psi$\n$\\iff$ å‰æ $\\phi_1,\\ldots,\\phi_n$ ã‹ã‚‰çµè«– $\\psi$ ã‚’å¾—ã‚‹æ¨è«–ãŒæ„å‘³è«–çš„ã«å¦¥å½“ã§ã‚ã‚‹.\n$\\iff$ ãã®çœŸç†è¡¨ã«ãŠã„ã¦, ã™ã¹ã¦ã®å‰æ $(\\phi_1,\\ldots,\\phi_n)$ ãŒçœŸã§ã‚ã‚Šã‹ã¤çµè«– $\\psi$ ãŒå½ã§ã‚ã‚‹è¡ŒãŒå­˜åœ¨ã—ãªã„.\n\nç‰¹ã« $\\vdash \\psi$ ã‚’å®šç†, $\\vDash \\psi$ ã‚’ãƒˆãƒ¼ãƒˆãƒ­ã‚¸ãƒ¼ã¨å‘¼ã¶.\n\n## çœŸç†å€¤è¡¨\næ¬¡ã®åŸç†ã‚’æº€ãŸã—ã¦çœŸç†å€¤ã®è¡¨ã‚’æ›¸ã.\n2å€¤åŸç†: ä»»æ„ã®è¨˜å·æ–‡ã¯çœŸã‹å½ã®ã©ã¡ã‚‰ã‹ä¸€æ–¹ã§ã‚ã‚‹ã€‚\né–¢æ•°çš„åˆæˆã®åŸç†: ä»»æ„ã®è¨˜å·æ–‡ã®çœŸç†å€¤ã¯ã€ãã‚Œã‚’æ§‹æˆã™ã‚‹åŸå­æ–‡ã®çœŸç†å€¤ã®ã¿ã«ä¾å­˜ã—ã¦ä¸€æ„ã«å®šã¾ã‚‹ã€‚\n\n//TODO\n\n## å‘½é¡Œè«–ç†ã®å¥å…¨æ€§ãƒ»å®Œå…¨æ€§\nä»¥ä¸‹ã¯äº’ã„ã«åŒå€¤ã§ã‚ã‚‹\n\n1. $\\phi_1,\\ldots,\\phi_n \\vdash \\psi$\n2. $\\vdash \\phi_1\\land\\cdots\\land\\phi_n\\to\\psi$\n3. $\\vDash \\phi_1\\land\\cdots\\land\\phi_n\\to\\psi$\n4. $\\phi_1,\\ldots,\\phi_n \\vDash \\psi$\n\n**proof**\n(1 $\\implies$ 2)\n1. Show $\\vdash \\phi_1\\land\\cdots\\land\\phi_n\\to\\psi$\n2. $\\phi_1\\land\\cdots\\land\\phi_n$ AssCD\n3. $\\phi_1,\\ldots,\\phi_n$ 2S\n4. $\\phi_1,\\ldots,\\phi_n \\vdash \\psi$ Pr\n5. $\\psi$\n5CD\n\n(1 $\\impliedby$ 2)\n1. Show $\\phi_1,\\ldots,\\phi_n \\vdash \\psi$\n2. $\\phi_1,\\ldots,\\phi_n$ Pr\n3. $\\phi_1\\land\\cdots\\land\\phi_n$ 2Adj\n4. $\\vdash \\phi_1\\land\\cdots\\land\\phi_n\\to\\psi$ Pr\n5. $\\psi$ 3,4MP\n5DD\n\n(2 $\\implies$ 3)\n1. å®šç†ã®æ¼”ç¹¹ã®è¡Œç•ªå·ã‚’æ¼”ç¹¹ã‚’æ§‹æˆã™ã‚‹éš›ã«åˆ©ç”¨å¯èƒ½ã¨ãªã‚‹é †ã«ä»˜ã‘æ›¿ãˆã‚‹. \u003c-ã¡ã‚‡ã£ã¨ãƒã‚°ã‚ã‚‹.\n2. æ¼”ç¹¹ã® n è¡Œç›®ã«ãŠã„ã¦åˆ©ç”¨å¯èƒ½ãªå®¶åº­ã™ã¹ã¦ã‹ã‚‰ãªã‚‹é€£è¨€ã‚’å‰ä»¶, n è¡Œç›®ã®è¨˜å·æ–‡ã‚’å¾Œä»¶ã¨ã™ã‚‹æ¡ä»¶æ–‡ã‚’ n è¡Œç›®ã®å°å‡ºå¼ã¨å®šç¾©ã™ã‚‹. ãŸã ã—åˆ©ç”¨å¯èƒ½ãªä»®å®šãŒå­˜åœ¨ã—ãªã„ã¨ã, n è¡Œç›®ã®è¨˜å·åˆ†ãã®ã‚‚ã®ã‚’ n è¡Œç›®ã®å°å‡ºå¼ã¨ã™ã‚‹.\n3. ä»»æ„ã®å°å‡ºå¼ã¯ãƒˆãƒ¼ãƒˆãƒ­ã‚¸ãƒ¼ã§ã‚ã‚‹ã“ã¨ã‚’æ•°å­¦çš„å¸°ç´æ³•ã«ã‚ˆã‚Šç¤ºã™.\n    1. 1è¡Œç›®ã®å°å‡ºå¼ã¯ãƒˆãƒ¼ãƒˆãƒ­ã‚¸ãƒ¼ã§ã‚ã‚‹.\n    2. nè¡Œç›®ã¾ã§ã®ã™ã¹ã¦ã®å°å‡ºå¼ãŒãƒˆãƒ¼ãƒˆãƒ­ã‚¸ãƒ¼ãªã‚‰ã° n+1 è¡Œç›®ã‚‚ãƒˆãƒ¼ãƒˆãƒ­ã‚¸ãƒ¼ã§ã‚ã‚‹.\n4. æœ€å¾Œã®å°å‡ºå¼ã¯å®šç†ãã®ã‚‚ã®ã§ã‚ã‚Š, ãã‚Œã¯ãƒˆãƒ¼ãƒˆãƒ­ã‚¸ãƒ¼ã§ã‚ã‚‹.\n\n(2 $\\impliedby$ 3)\nã¾ãšæ„å‘³è«–çš„ãªçœŸç†å€¤ã¨çµ±èªè«–çš„ãªçµåˆå­ã‚’å¯¾å¿œã•ã›ã‚‹.\n\n**Def.** è¨˜å· $'$ ã‚’æ¬¡ã®ã‚ˆã†ã«å®šç¾©ã™ã‚‹.\n\n$$\nx' = \\begin{cases}\nx \u0026 (x = 1) \\\\\n\\lnot x \u0026 (x = 0)\n\\end{cases}\n$$\n\n**Lemma.** ä»»æ„ã®è¨˜å·æ–‡ $\\eta$ ã«ã¤ã„ã¦, ãã‚Œã«å«ã¾ã‚Œã‚‹åŸå­æ–‡ $P_1,\\ldots,P_n$ ã«ã¤ã„ã¦ $P_1',\\ldots,P_n' \\vdash \\eta'$ ã¨ãªã‚‹.\n\n**Proof.**\nçµåˆå­ãŒ 0 å€‹ã®ã¨ã, $P_1' \\vdash \\eta'$ ã‚ˆã‚Šæˆã‚Šç«‹ã¤.\nçµåˆå­ãŒ n å€‹ã‚ˆã‚Šå°ã•ã„ã™ã¹ã¦ã®è¨˜å·æ–‡ãŒæˆã‚Šç«‹ã¤ã¨ä»®å®šã—, å„çµåˆå­ã«ã¤ã„ã¦ n å€‹ã®ã¨ãã‚’è€ƒãˆã‚‹.\n\n$P_1',\\ldots,P_n' \\vdash \\xi'$ ãŒæˆã‚Šç«‹ã¤ã¨ã, $P_1',\\ldots,P_n' \\vdash (\\lnot\\xi)'$ ã«ã¤ã„ã¦\n\n$$\n(\\lnot\\xi)' = \\begin{cases}\n\\lnot\\lnot\\xi \u0026 (\\xi = 1) \\\\\n\\lnot\\xi \u0026 (\\xi = 0)\n\\end{cases}\n$$\n\nã‚ˆã‚Šã“ã‚Œã¯æ¼”ç¹¹ã«ã‚ˆã‚Šæˆã‚Šç«‹ã¤.\n\n$P_1',\\ldots,P_i' \\vdash \\pi'$ ã‹ã¤ $Q_1',\\ldots,Q_j' \\vdash \\theta'$ ãŒæˆã‚Šç«‹ã¤ã¨ã, $P_1',\\ldots,P_i',Q_1',\\ldots,Q_j' \\vdash (\\pi\\to\\theta)'$ ã«ã¤ã„ã¦\n\n$$\n(\\pi\\to\\theta)' = \\begin{cases}\n\\pi\\to\\theta \u0026 (\\pi = 0 \\lor \\theta = 1) \\\\\n\\lnot(\\pi\\to\\theta) \u0026 (\\pi = 1 \\land \\theta = 0)\n\\end{cases}\n$$\n\nã‚ˆã‚Šã“ã‚Œã¯æ¼”ç¹¹ã«ã‚ˆã‚Šæˆã‚Šç«‹ã¤.\n\n**Thm.** $\\vDash \\xi \\implies \\vdash\\xi$\n\n**Proof.**\nLemma ã‹ã‚‰è¨˜å·æ–‡ $\\xi$ ã«ã¤ã„ã¦ $P_1',\\ldots,P_n' \\vdash \\xi'$ ãŒæˆã‚Šç«‹ã¤. $\\vDash \\xi$ ãªã®ã§ $P_1',\\ldots,P_n' \\vdash \\xi$ ã§ã‚ã‚Š, ã“ã®ã¨ã $P_1',\\ldots,P_{n-1}' \\vdash P_n'\\to\\xi$ ã¨ãªã‚‹.\nåŒæ§˜ã« $P_n'$ ã«ã¤ã„ã¦ã ã‘çœŸç†å€¤ãŒç•°ãªã‚‹çœŸç†è¡¨ã‚’è€ƒãˆã‚‹ã¨(ã“ã‚Œã‚ˆãåˆ†ã‹ã‚‰ãªã„) Lemma ã‹ã‚‰ $P_1',\\ldots,\\lnot P_n' \\vdash \\xi$ ã§ã‚ã‚Š, $P_1',\\ldots,P_{n-1}' \\vdash \\lnot P_n'\\to\\xi$ ãŒæˆã‚Šç«‹ã¤.\n2ã¤ã®ã“ã¨ã‹ã‚‰ $P_1',\\ldots,P_{n-1}' \\vdash \\xi$ ãŒæ¼”ç¹¹ã§ãã‚‹. ã“ã‚Œã‚’ç¹°ã‚Šè¿”ã™ã“ã¨ã§ $\\vdash \\xi$ ãŒå¾—ã‚‰ã‚Œã‚‹.\n\n(3 $\\iff$ 4)\n$\\nvDash \\phi_1\\land\\cdots\\land\\phi_n\\to\\psi$\n$\\iff$ $\\phi_1\\land\\cdots\\land\\phi_n\\to\\psi$ ãŒãƒˆãƒ¼ãƒˆãƒ­ã‚¸ãƒ¼ã§ã¯ãªã„\n$\\iff$ $\\phi_1\\land\\cdots\\land\\phi_n$ ãŒçœŸã§ $\\psi$ ãŒå½ã§ã‚ã‚‹è¡ŒãŒã‚ã‚‹.\n$\\iff$ $\\phi_1,\\ldots,\\phi_n$ ãŒçœŸã§ $\\psi$ ãŒå½ã§ã‚ã‚‹è¡ŒãŒã‚ã‚‹.\n$\\iff$ å‰æ $\\phi_1,\\ldots,\\phi_n$ ã‹ã‚‰çµè«– $\\psi$ ã‚’å¾—ã‚‹æ¨è«–ã¯æ„å‘³è«–çš„ã«å¦¥å½“ã§ã¯ãªã„.\n$\\iff$ $\\phi_1,\\ldots,\\phi_n \\nvDash \\psi$\n\nã‚ˆã£ã¦ $\\phi_1,\\ldots,\\phi_n \\vDash \\psi \\iff \\vDash \\phi_1\\land\\cdots\\land\\phi_n\\to\\psi$\n\nã“ã‚Œã‚ˆã‚Šã™ã¹ã¦ã®åŒå€¤æ€§ãŒè¨¼æ˜ã•ã‚ŒãŸ.\n\nå®Œå…¨æ€§ãƒ»å¥å…¨æ€§ãŒæˆã‚Šç«‹ã¤ã¨ãæ¬¡ã®ã“ã¨ãŒè¨€ãˆã‚‹.\n\n**Thm.** ç„¡çŸ›ç›¾æ€§\nçŸ›ç›¾ã™ã‚‹ï¼’ã¤ã®è¨˜å·æ–‡ $\\eta$ ã¨ $\\lnot\\eta$ ãŒå®šç†ã¨ãªã‚‹ã“ã¨ã¯ãªã„.\n\n**Proof.**\n$\\eta$, $\\lnot\\eta$ ãŒå®šç†ã ã¨ä»®å®šã™ã‚‹ã¨ $\\eta\\land\\lnot\\eta$ ã¯ãƒˆãƒ¼ãƒˆãƒ­ã‚¸ãƒ¼ã§ãªã„ã‹ã‚‰çŸ›ç›¾.\n","lastmodified":"2022-12-30T07:57:21.487263721Z","tags":null},"/science/math/inequality":{"title":"ä¸ç­‰å¼","content":"\n## Minkowski ã®ä¸ç­‰å¼\nä¸‰è§’ä¸ç­‰å¼ã®ä¸€èˆ¬åŒ–. è¿‚å›ã™ã‚‹ã‚ˆã‚Šç›´ç·šçš„ã«é€²ã‚€æ–¹ãŒçŸ­ã„.\n\n$$\n\\|x + y\\| _ p \\leq \\|x\\| _ p + \\|y\\| _ p\n$$\n\n**proof.**\n\n## ãƒ˜ãƒ«ãƒ€ãƒ¼ã®ä¸ç­‰å¼\nã‚³ãƒ¼ã‚·ãƒ¼ã‚·ãƒ¥ãƒ¯ãƒ«ãƒ„ã®ä¸ç­‰å¼ã®ä¸€èˆ¬åŒ–.\n\n$$\n\\prod_{i=1}^m\\left(\\sum_{j=1}^n a_{ij}\\right)^{w_i} \\geq \\sum_{j=1}^n\\left(\\prod_{i=1}^m a_{ij}^{w_i}\\right)\n$$\n\n## Muirhead ã®ä¸ç­‰å¼\n$[a]\\preceq[b]$ ã®ã¨ã\n\n$$\n\\sum_{sym}\\prod_{i=1}^n x_i^{a_i} \\geq \\sum_{sym}\\prod_{i=1}^n x_i^{b_i}\n$$\n\nç­‰å·æˆç«‹æ¡ä»¶\n- $a=b$, $x_1 = \\cdots = x_n$\n\n## Schur ã®ä¸ç­‰å¼\n$x, y, z \\geq 0$ ã®ã¨ã $x^r(x-y)(x-z) + y^r(y-z)(y-x) + z^r(z-x)(z-y) \\geq 0$\n\nç­‰å·æˆç«‹æ¡ä»¶\n- $(x, y, z) = (a, a, a), (0, a, a)$\n\n## Jensen ã®ä¸ç­‰å¼\n$\\forall\\lambda_i \\geq 0$ $\\sum_i\\lambda_i = 1$ ã«å¯¾ã—ã¦ $f(x)$ ãŒå‡¸é–¢æ•°\n\n$$\nf(\\lambda_1x_1+\\cdots+\\lambda_nx_n) \\leq \\lambda_1f(x_1)+\\cdots+\\lambda_nf(x_n)\n$$\n\n$f(x)$ ãŒå‡¹é–¢æ•°\n\n$$\nf(\\lambda_1x_1+\\cdots+\\lambda_nx_n) \\geq \\lambda_1f(x_1)+\\cdots+\\lambda_nf(x_n)\n$$\n\n## Karamata ã®ä¸ç­‰å¼\n$f(x)$ ãŒå‡¸é–¢æ•° $[a] \\preceq [b]$\n\n$$\nf(a_1)+\\cdots+f(a_n) \\leq f(b_1)+\\cdots+f(b_n)\n$$\n\n## Weighted AM-GM\nç›¸åŠ ç›¸ä¹—å¹³å‡ã®é‡ã¿ä»˜ãã«ãŠã‘ã‚‹ä¸€èˆ¬åŒ–. ç›¸åŠ å¹³å‡ (AM; Arithmetic Mean) ã¯ç›¸ä¹—å¹³å‡ (GM; Geometric Mean) ã‚ˆã‚Šå¤§ãã„ã¨ã„ã†å®šç†.\n\n$$\n\\sum_{i=1}^n w_ia_i \\geq \\prod_{i=1}^n a_i^{w_i}\n$$\n\n**proof.**\n$f:x\\mapsto \\ln x$ ã¯å‡¸é–¢æ•°ã‚ˆã‚Š Jensen ã®ä¸ç­‰å¼ã‹ã‚‰\n\n$$\n\\ln\\left(\\sum_i\\lambda_ia_i\\right) \\geq \\sum_i\\lambda_i\\ln a_i = \\ln\\left(\\prod_ia_i^{\\lambda_i}\\right)\n$$\n\nã¨ãªã‚‹.\n","lastmodified":"2022-12-30T07:57:21.487263721Z","tags":null},"/template":{"title":"ç«¶ãƒ—ãƒ­ã§ä½¿ã†ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ","content":"\n## èª¬æ˜\n\nç§ãŒä½¿ã†ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã™. ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé›†ã§ã¯å°‘ãªãã¨ã‚‚ STL ã‚’å…¨ã¦èª­ã¿è¾¼ã‚“ã§ `using namespace std` ã—ã¦ã‚ã‚‹ã“ã¨ã‚’å‰æã¨ã—ã¦æ›¸ã„ã¦ã‚ã‚Šã¾ã™.\n\n## å®Ÿè£…\n\n```cpp\n#ifndef LOCAL\n#pragma GCC optimize(\"Ofast\")\n#pragma GCC optimize(\"unroll-loops\")\n#endif\n\n#include \u003cbits/stdc++.h\u003e\n// #include \u003catcoder/all\u003e\nusing namespace std;\n// using namespace atcoder;\nusing ll = long long;\nusing ld = long double;\nusing uint = unsigned;\nusing ull = unsigned long long;\nusing u64 = uint_fast64_t;\nusing pll = pair\u003cll, ll\u003e;\nusing pdd = pair\u003cld, ld\u003e;\nusing C = complex\u003cld\u003e;\ntemplate \u003cclass T\u003e using pq = priority_queue\u003cT, vector\u003cT\u003e, greater\u003cT\u003e\u003e;\n\nconst int IINF = 0x1fffffff;\nconst ll LINF = 0x1fffffffffffffff;\nconst ll INF = 0x1fffffffffffffff;\nconst ll MINF = 0x7fffffffffff;\nconst ll MOD = 1000000007;\nconst ll MODD = 998244353;\nconst ld DINF = numeric_limits\u003cld\u003e::infinity();\nconst ld EPS = 1e-9;\nconst ld PI = 3.1415926535897932;\nconst ll dx[] = {0, 1, 0, -1, 1, -1, 1, -1};\nconst ll dy[] = {1, 0, -1, 0, 1, 1, -1, -1};\n\n#define overload4(_1, _2, _3, _4, name, ...) name\n#define overload3(_1, _2, _3, name, ...) name\n#define rep1(n) for (ll i = 0; i \u003c n; ++i)\n#define rep2(i, n) for (ll i = 0; i \u003c n; ++i)\n#define rep3(i, a, b) for (ll i = a; i \u003c b; ++i)\n#define rep4(i, a, b, c) for (ll i = a; i \u003c b; i += c)\n#define rep(...) overload4(__VA_ARGS__, rep4, rep3, rep2, rep1)(__VA_ARGS__)\n#define rrep1(n) for (ll i = n; i--;)\n#define rrep2(i, n) for (ll i = n; i--;)\n#define rrep3(i, a, b) for (ll i = b; i-- \u003e (a);)\n#define rrep4(i, a, b, c)                                                      \\\n  for (ll i = (a) + ((b) - (a)-1) / (c) * (c); i \u003e= (a); i -= c)\n#define rrep(...)                                                              \\\n  overload4(__VA_ARGS__, rrep4, rrep3, rrep2, rrep1)(__VA_ARGS__)\n#define each1(i, a) for (auto \u0026\u0026i : a)\n#define each2(x, y, a) for (auto \u0026\u0026[x, y] : a)\n#define each3(x, y, z, a) for (auto \u0026\u0026[x, y, z] : a)\n#define each(...) overload4(__VA_ARGS__, each3, each2, each1)(__VA_ARGS__)\n#define all1(i) begin(i), end(i)\n#define all2(i, a) begin(i), begin(i) + a\n#define all3(i, a, b) begin(i) + a, begin(i) + b\n#define all(...) overload3(__VA_ARGS__, all3, all2, all1)(__VA_ARGS__)\n#define rall1(i) (i).rbegin(), (i).rend()\n#define rall2(i, k) (i).rbegin(), (i).rbegin() + k\n#define rall3(i, a, b) (i).rbegin() + a, (i).rbegin() + b\n#define rall(...) overload3(__VA_ARGS__, rall3, rall2, rall1)(__VA_ARGS__)\n// g++ -DDBUG -I . ...\n#ifdef DEBUG\ninline ll __lg(ull x) { return 63 - __builtin_clzll(x); }\n#define debug(...)                                                             \\\n  {                                                                            \\\n    print(#__VA_ARGS__);                                                       \\\n    print(\":\");                                                                \\\n    out(__VA_ARGS__);                                                          \\\n  }\n#else\n#define debug(...) void(0)\n#endif\n\n#define vec vector\n#define fi first\n#define se second\n#define MM \u003c\u003c \" \" \u003c\u003c\n#define chmax(x, y) (x = max(x, y))\n#define chmin(x, y) (x = min(x, y))\nvoid debug_out() { std::cerr \u003c\u003c std::endl; }\ntemplate \u003ctypename Head, typename... Tail\u003e void debug_out(Head h, Tail... t) {\n  std::cerr \u003c\u003c \" \" \u003c\u003c h;\n  if (sizeof...(t) \u003e 0)\n    std::cout \u003c\u003c \" :\";\n  debug_out(t...);\n}\n\nint main() {\n  cin.tie(0);\n  ios::sync_with_stdio(0);\n  cout \u003c\u003c fixed \u003c\u003c setprecision(20);\n\n  return 0;\n}\n```\n```cpp\n/**\n * @brief å¤šæ¬¡å…ƒ vector ã®ä½œæˆ\n * @author ãˆã³ã¡ã‚ƒã‚“\n */\n#include \u003cbits/stdc++.h\u003e\nusing namespace std;\nusing ll = long long;\n\nnamespace detail {\ntemplate \u003ctypename Tp, size_t Nb\u003e\nauto make_vector(std::vector\u003csize_t\u003e \u0026sizes, Tp const \u0026x) {\n  if constexpr (Nb == 1) {\n    return std::vector(sizes[0], x);\n  } else {\n    size_t size = sizes[Nb - 1];\n    sizes.pop_back();\n    return std::vector(size, make_vector\u003cTp, Nb - 1\u003e(sizes, x));\n  }\n}\n} // namespace detail\n\ntemplate \u003ctypename Tp, size_t Nb\u003e\nauto make_vector(size_t const (\u0026sizes)[Nb], Tp const \u0026x = Tp()) {\n  std::vector\u003csize_t\u003e s(Nb);\n  for (size_t i = 0; i \u003c Nb; ++i)\n    s[i] = sizes[Nb - i - 1];\n  return detail::make_vector\u003cTp, Nb\u003e(s, x);\n}\n```\n\n## å‚è€ƒæ–‡çŒ®\n- [shino16/cp_rust: ç«¶ãƒ—ãƒ­ãƒ©ã‚¤ãƒ–ãƒ©ãƒª (github.com)](https://github.com/shino16/cp_rust)\n- [My Algorithm : kopricky ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãƒ©ã‚¤ãƒ–ãƒ©ãƒª](https://kopricky.github.io/index.html)\n- [Luzhiledâ€™s Library | This documentation is automatically generated by online-judge-tools/verification-helper (ei1333.github.io)](https://ei1333.github.io/library/)\n- [nekolib - Rust (rsk0315.github.io)](https://rsk0315.github.io/library-rs/nekolib/)\n","lastmodified":"2022-12-30T07:57:21.487263721Z","tags":null},"/web/Browser":{"title":"ãƒ–ãƒ©ã‚¦ã‚¶","content":"\n## èª¬æ˜\n\n- Chrome\n- Edge\n- FireFox\n- Vivaldi\n- Sidekick\n- Arc\n- Safari\n\n\n\n\n\n\nbrowser\n[d0iasm/vulbr: Toy browser on single process / thread (github.com)](https://github.com/d0iasm/vulbr)\n\nWAF\n\nPHP ã® `file_get_contents` ã¯ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ã‚¦ã‚§ãƒ–ä¸Šã‚‚å–ã£ã¦ãã‚‹ã€‚\næ­£è¦è¡¨ç¾ã® `.` ã¯æ”¹è¡Œã«ãƒãƒƒãƒã—ãªã„ã€‚\n\n- React\n- Preact\n- MobX\n- Solid: React + MobX feat. Svelte\n- Svelte\n\ndocument.location","lastmodified":"2022-12-30T07:57:21.487263721Z","tags":null},"/web/PrototypePollution":{"title":"Prototype Pollution","content":"\nã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•° `Object.prototype`  ã¨ä»»æ„ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å¤‰æ•° `\u003cobj\u003e.__proto__` ãŒä¸€è‡´ã™ã‚‹ã“ã¨ã‹ã‚‰ã®è„†å¼±æ€§","lastmodified":"2022-12-30T07:57:21.487263721Z","tags":null},"/web/security":{"title":"","content":"XSS\nPrototype Pollution\nCSV Injection\nSQL Injection \nFTP Injection\nXXE\nCSRF\nClickjacking\nSSRF\nWeb Cache Poisoning\nRelative Path Overwrite\n\nXXE\nCSP\nWAF\n\n[qazbnm456/awesome-web-security: ğŸ¶ A curated list of Web Security materials and resources. (github.com)](https://github.com/qazbnm456/awesome-web-security)","lastmodified":"2022-12-30T07:57:21.487263721Z","tags":null}}